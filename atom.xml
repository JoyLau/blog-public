<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>JoyLau&#39;s Blog | JoyLau</title>
  
  <subtitle>刘法的技术学习与思考</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://blog.joylau.cn/"/>
  <updated>2019-11-13T16:01:05.956Z</updated>
  <id>http://blog.joylau.cn/</id>
  
  <author>
    <name>JoyLau</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>gradle No cached version available for offline mode</title>
    <link href="http://blog.joylau.cn/2019/11/13/Gradle-Offline-Mode/"/>
    <id>http://blog.joylau.cn/2019/11/13/Gradle-Offline-Mode/</id>
    <published>2019-11-13T08:23:12.000Z</published>
    <updated>2019-11-13T16:01:05.956Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><h3 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h3><p>在 idea 以前的版本里,在 Preferences | Build, Execution, Deployment | Gradle 去掉勾选 Offline work 即可</p><p>但是在最新版 2019.2 里,需要点击 gradle 面板里最上面一排小扳手左边一个图标,取消离线模式 </p>]]></content>
    
    <summary type="html">
    
      gradle 添加新的依赖报错 No cached version available for offline mode
    
    </summary>
    
      <category term="Gradle篇" scheme="http://blog.joylau.cn/categories/Gradle%E7%AF%87/"/>
    
    
      <category term="Gradle" scheme="http://blog.joylau.cn/tags/Gradle/"/>
    
  </entry>
  
  <entry>
    <title>PM2 集群模式使用 ES6 语法</title>
    <link href="http://blog.joylau.cn/2019/10/27/PM2-Cluster-ES6/"/>
    <id>http://blog.joylau.cn/2019/10/27/PM2-Cluster-ES6/</id>
    <published>2019-10-27T03:14:03.000Z</published>
    <updated>2019-10-26T16:01:04.097Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><ol><li>fork 模式下</li></ol><ul><li>使用命令参数 <code>pm2 start app.js --node-args=&quot;--harmony&quot;</code></li><li>json 文件添加配置: <code>&quot;node_args&quot; : &quot;--harmony&quot;</code></li></ul><ol start="2"><li>cluster 模式下<br>使用上一篇的方法 <code>require(&quot;babel-register&quot;);</code><br>在更改配置:</li></ol><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"apps"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"name"</span>: <span class="string">"my_name"</span>,</span><br><span class="line">      <span class="attr">"cwd"</span>: <span class="string">"./"</span>,</span><br><span class="line">      <span class="attr">"script"</span>: <span class="string">"bin/start"</span>,</span><br><span class="line">      <span class="attr">"instances"</span> : <span class="string">"max"</span>,</span><br><span class="line">      <span class="attr">"exec_mode"</span> : <span class="string">"cluster"</span>,</span><br><span class="line">      <span class="attr">"log_date_format"</span>: <span class="string">"YYYY-MM-DD HH:mm Z"</span>,</span><br><span class="line">      <span class="attr">"error_file"</span>: <span class="string">"./logs/error.log"</span>,</span><br><span class="line">      <span class="attr">"watch"</span>: [<span class="string">"routes"</span>]</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这里需要注意:</p><ol><li>exec_mode 要改为 <code>cluster</code>, instances 为实例数, max 为 CPU 的核心数,</li><li>script 里配置的直接就是 js 文件,不需要加 node 命令(如 “script”: “node bin/start”) ,否则启动会报错,我踩过这个坑</li></ol>]]></content>
    
    <summary type="html">
    
      前面一篇介绍了 Nodejs 使用 ES6 的语法,本篇继续 PM2 使用 ES6 语法
    
    </summary>
    
      <category term="PM2篇" scheme="http://blog.joylau.cn/categories/PM2%E7%AF%87/"/>
    
    
      <category term="Nodejs" scheme="http://blog.joylau.cn/tags/Nodejs/"/>
    
  </entry>
  
  <entry>
    <title>NodeJs 使用 ES6 语法</title>
    <link href="http://blog.joylau.cn/2019/10/26/Node-Use-ES6/"/>
    <id>http://blog.joylau.cn/2019/10/26/Node-Use-ES6/</id>
    <published>2019-10-26T07:44:30.000Z</published>
    <updated>2019-10-26T16:01:04.097Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><ol><li>package.json 添加 </li></ol><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">"babel": &#123;</span><br><span class="line">    "presets": [</span><br><span class="line">      <span class="string">"es2015"</span></span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">"devDependencies": &#123;</span><br><span class="line">    "babel-cli": "^6.26.0",</span><br><span class="line">    "babel-preset-es2015": "^6.24.1",</span><br><span class="line">    "babel-register": "^6.26.0"</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><ol start="2"><li><p>npm install</p></li><li><p>有 2 种方法可配置</p></li></ol><ul><li>第一种: 启动命令改为: <code>./node_modules/.bin/babel-node app.js</code></li><li>第二种: 在 app.js 头部里添加 <code>require(&quot;babel-register&quot;);</code></li></ul>]]></content>
    
    <summary type="html">
    
      Nodejs 本身并没有完全支持 ES6 的语法,想 import , export 都无法使用,这里简单一种简单的方式在 nodejs 里使用 es6 语法
    
    </summary>
    
      <category term="Node篇" scheme="http://blog.joylau.cn/categories/Node%E7%AF%87/"/>
    
    
      <category term="Nodejs" scheme="http://blog.joylau.cn/tags/Nodejs/"/>
    
  </entry>
  
  <entry>
    <title>Gradle 升级到 5.x+ 之后遇到的问题记录</title>
    <link href="http://blog.joylau.cn/2019/09/28/Gradle-Update-5-Questions/"/>
    <id>http://blog.joylau.cn/2019/09/28/Gradle-Update-5-Questions/</id>
    <published>2019-09-28T03:59:46.000Z</published>
    <updated>2019-09-28T16:01:03.682Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><h3 id="lombok-依赖编译报错"><a href="#lombok-依赖编译报错" class="headerlink" title="lombok 依赖编译报错"></a>lombok 依赖编译报错</h3><p>在gradle4.7以后对于加入依赖lombok方式发生变化，gradle4.7版本以前，可以直接如下引用：</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">compile(<span class="string">"org.projectlombok:lombok:1.18.2"</span>)或者compileOnly(<span class="string">"org.projectlombok:lombok:1.18.2"</span>)</span><br></pre></td></tr></table></figure><p>在gradle5.0这种方式会产生警告,在gradle5.0里面会直接报编译错误</p><p>有 2 中解决方式:</p><ol><li>官方推荐</li></ol><p>开发依赖：</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">annotationProcessor <span class="string">'org.projectlombok:lombok:1.18.2'</span></span><br><span class="line"></span><br><span class="line">compileOnly <span class="string">'org.projectlombok:lombok:1.18.2'</span></span><br></pre></td></tr></table></figure><p>测试依赖:</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">testAnnotationProcessor <span class="string">'org.projectlombok:lombok:1.18.2'</span></span><br><span class="line"></span><br><span class="line">testCompileOnly <span class="string">'org.projectlombok:lombok:1.18.2'</span></span><br></pre></td></tr></table></figure><ol start="2"><li>gradle-lombok插件方式</li></ol><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">repositories &#123;                 </span><br><span class="line">  mavenCentral()          </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">plugins &#123; </span><br><span class="line"> </span><br><span class="line">   id <span class="string">'net.ltgt.apt'</span> version <span class="string">'0.10'</span> </span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">dependencies &#123;</span><br><span class="line">  </span><br><span class="line">        compileOnly <span class="string">'org.projectlombok:lombok:1.18.2'</span></span><br><span class="line">        </span><br><span class="line">        apt <span class="string">"org.projectlombok:lombok:1.18.2"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="log4j-报错"><a href="#log4j-报错" class="headerlink" title="log4j 报错"></a>log4j 报错</h3><p>错误信息:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Errors occurred <span class="keyword">while</span> build effective model from /Users/joylau/.gradle/caches/modules-2/files-2.1/log4j/log4j/1.2.16/88efb1b8d3d993fe339e9e2b201c75eed57d4c65/log4j-1.2.16.pom:</span><br><span class="line"><span class="string">'build.plugins.plugin[io.spring.gradle.dependencymanagement.org.apache.maven.plugins:maven-antrun-plugin].dependencies.dependency.scope'</span> <span class="keyword">for</span> junit:junit:jar must be one of [compile, runtime, system] but is <span class="string">'test'</span>. <span class="keyword">in</span> log4j:log4j:1.2.16</span><br></pre></td></tr></table></figure></p><p>这是因为 Log4J 1.2.16 的 pom 中存在一个Bug。1.2.16 已经在 2010 年停止更新了<br>可以通过声明对 log4j：log4j：1.2.17 的显式依赖<br>或通过依赖关系管理确保使用 1.2.17 来解决</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">implementation(<span class="string">"log4j:log4j:1.2.17"</span>)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      之前项目升级到 Gradle 5.2 版本后,出现了一点问题,现记录并解决如下
    
    </summary>
    
      <category term="Gradle篇" scheme="http://blog.joylau.cn/categories/Gradle%E7%AF%87/"/>
    
    
      <category term="Gradle" scheme="http://blog.joylau.cn/tags/Gradle/"/>
    
  </entry>
  
  <entry>
    <title>Docker --- Maridb 容器启动时初始化数据库</title>
    <link href="http://blog.joylau.cn/2019/09/23/Docker-Mariadb-InitDB/"/>
    <id>http://blog.joylau.cn/2019/09/23/Docker-Mariadb-InitDB/</id>
    <published>2019-09-23T09:43:01.000Z</published>
    <updated>2019-09-24T16:01:05.640Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><h3 id="容器启动时初始化数据的方法"><a href="#容器启动时初始化数据的方法" class="headerlink" title="容器启动时初始化数据的方法"></a>容器启动时初始化数据的方法</h3><ol><li>编写好脚本,支持 .sql;.sh;.sql.gz</li><li>容器启动时, 将脚本挂载到容器的 <code>/docker-entrypoint-initdb.d</code> 目录下即可</li></ol><p>可就是这么简单的操作,我却没有成功…</p><h3 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h3><p>该方法只在初始化数据库的时候起作用,意思是,当你想把 mariadb 的数据目录 <code>/var/lib/mysql</code> 挂载到本地盘上,那么 该目下有文件时,放置的脚本将不会执行</p>]]></content>
    
    <summary type="html">
    
      Maridb 容器启动时初始化数据库问题的记录
    
    </summary>
    
      <category term="Docker篇" scheme="http://blog.joylau.cn/categories/Docker%E7%AF%87/"/>
    
    
      <category term="docker" scheme="http://blog.joylau.cn/tags/docker/"/>
    
      <category term="mariaDB" scheme="http://blog.joylau.cn/tags/mariaDB/"/>
    
  </entry>
  
  <entry>
    <title>Electron --- 关于自动更新的一系列折腾</title>
    <link href="http://blog.joylau.cn/2019/09/16/Electron-AutoUpdater/"/>
    <id>http://blog.joylau.cn/2019/09/16/Electron-AutoUpdater/</id>
    <published>2019-09-16T01:00:12.000Z</published>
    <updated>2019-09-24T16:01:05.640Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><h3 id="Electron-自动更新的方法"><a href="#Electron-自动更新的方法" class="headerlink" title="Electron 自动更新的方法"></a>Electron 自动更新的方法</h3><ol><li>使用 Electron 自己提供的 autoUpdater 模块</li><li>使用更新服务器</li><li>自己实现自动更新逻辑</li></ol><p>为什么说经过了一系列的折腾呢, 因为前 2 中方式都没有解决我的问题,最后我是自己实现了自动更新的逻辑<br>没有解决我的问题是因为我需要兼顾到 mac 平台和 Windows 平台,然而 mac 平台比较麻烦,代码需要签名<br>我自己亲测方式一和方式二在 mac 平台上都需要代码签名, 而签名代码需要注册苹果开发者账号,需要付年费<br>于是这 2 条路就走不通了  </p><p>最后我决定自己实现更新的逻辑</p><h3 id="更新逻辑分析"><a href="#更新逻辑分析" class="headerlink" title="更新逻辑分析"></a>更新逻辑分析</h3><ol><li>自动触发或手动触发软件更新检查</li><li>服务器版本号大于本地版本才出现更新提示</li><li>对于更新,无非就是卸载之前的版本,安装新下载的安装包</li><li>软件的打包我选择的是 Electron Builder, 分别打成 dmg , setup.exe , app.zip</li><li>更新的时候先从服务器下载新版本</li><li>下载完成后对于安装包的安装分平台来说</li></ol><h3 id="Windows-下的更新"><a href="#Windows-下的更新" class="headerlink" title="Windows 下的更新"></a>Windows 下的更新</h3><ol><li>Windows 下的安装包是 exe 可执行文件,安装包本身是有处理逻辑在里面的</li><li>于是我们只需要将安装包下载到临时目录,然后再软件里打开它,再退出软件,剩下的安装步骤交给用户</li><li>有一点需要注意的是,NSIS 的新安装包在安装前会自动卸载掉之前的版本,不过不会提示用户,我们可以在 nsis 脚本里加一个提示</li></ol><h3 id="MacOS-下的更新"><a href="#MacOS-下的更新" class="headerlink" title="MacOS 下的更新"></a>MacOS 下的更新</h3><ol><li>相比于 Windows 下的安装包, macOS 下的 dmg 安装包就没有什么逻辑了,直接打开,然后将 app 文件拖到 Applications 目录中即可完成安装</li><li>于是有 2 中方法可选</li><li>一. 挂载 dmg, 找到挂载目录,在 mac 下是 /Volumes 目录下; 删除 /Applications 下的 app, 将 /Volumes 下的 app 拷贝到 /Applications 目录下; 再卸载 dmg; 重启应用即可,该方法可实现类似无缝更新的效果</li><li>二. 和方法一一个道理,只不过不是挂载 dmg 来查找 app, 直接解压 app.zip 压缩文件即可得到 app ,在使用相同的方式覆盖即可.</li></ol><h3 id="软件的版本控制"><a href="#软件的版本控制" class="headerlink" title="软件的版本控制"></a>软件的版本控制</h3><p>可以采取一个 json 文件来记录个版本的更新记录, 这里给个参考:</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">"version"</span>: <span class="string">"1.1.0"</span>,</span><br><span class="line">    <span class="attr">"force"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"time"</span>: <span class="string">"2019-09-14"</span>,</span><br><span class="line">    <span class="attr">"download"</span>: &#123;</span><br><span class="line">      <span class="attr">"winSetup"</span>: <span class="string">""</span>,</span><br><span class="line">      <span class="attr">"dmg"</span>: <span class="string">""</span>,</span><br><span class="line">      <span class="attr">"appZip"</span>: <span class="string">""</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"description"</span>: [</span><br><span class="line">      <span class="string">"1. 修复若干 BUG,稳定性提升"</span></span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">"version"</span>: <span class="string">"1.0.0"</span>,</span><br><span class="line">    <span class="attr">"force"</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"time"</span>: <span class="string">"2019-09-01"</span>,</span><br><span class="line">    <span class="attr">"download"</span>: &#123;</span><br><span class="line">      <span class="attr">"winSetup"</span>: <span class="string">""</span>,</span><br><span class="line">      <span class="attr">"dmg"</span>: <span class="string">""</span>,</span><br><span class="line">      <span class="attr">"appZip"</span>: <span class="string">""</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"description"</span>: [</span><br><span class="line">      <span class="string">"1. 全新界面,主体功能完成"</span></span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h3 id="代码参考"><a href="#代码参考" class="headerlink" title="代码参考"></a>代码参考</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> $ <span class="keyword">from</span> <span class="string">'jquery'</span>;</span><br><span class="line"><span class="keyword">import</span> semver <span class="keyword">from</span> <span class="string">'semver'</span>;</span><br><span class="line"><span class="keyword">import</span> request <span class="keyword">from</span> <span class="string">'request'</span>;</span><br><span class="line"><span class="keyword">import</span> progress <span class="keyword">from</span> <span class="string">'request-progress'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//global.fs = require('fs');</span></span><br><span class="line"><span class="comment">//global.cp = require('child_process');</span></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">window</span>.fs;</span><br><span class="line"><span class="keyword">const</span> cp = <span class="built_in">window</span>.cp;</span><br><span class="line"><span class="keyword">const</span> electron = <span class="built_in">window</span>.electron;</span><br><span class="line"><span class="keyword">const</span> &#123;app, shell&#125; = electron.remote;</span><br><span class="line"></span><br><span class="line">state = &#123;</span><br><span class="line">    check: <span class="literal">true</span>,</span><br><span class="line">    latest: &#123;&#125;,</span><br><span class="line">    <span class="comment">// wait,download,install,error</span></span><br><span class="line">    update: <span class="string">'wait'</span>,</span><br><span class="line">    downloadState: &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 检查更新</span></span><br><span class="line">$.ajax(&#123;</span><br><span class="line">    url: appConfig.updateCheckURL,</span><br><span class="line">    timeout: <span class="number">10000</span>,</span><br><span class="line">    type: <span class="string">'GET'</span>,</span><br><span class="line">    cache:<span class="literal">false</span>,</span><br><span class="line">    success: <span class="function"><span class="keyword">function</span> (<span class="params">data</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">let</span> latest = data[<span class="number">0</span>];</span><br><span class="line">        <span class="keyword">if</span>(semver.satisfies(latest.version, <span class="string">'&gt;'</span> + app.getVersion()))&#123;</span><br><span class="line">            <span class="keyword">if</span> (latest.force) &#123;</span><br><span class="line">                that.updateVersion();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    complete: <span class="function"><span class="keyword">function</span> (<span class="params">XMLHttpRequest, status</span>) </span>&#123;</span><br><span class="line">        that.setState(&#123;</span><br><span class="line">            check: <span class="literal">false</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">updateVersion()&#123;</span><br><span class="line">    <span class="keyword">let</span> that = <span class="keyword">this</span>;</span><br><span class="line">    <span class="keyword">const</span> platform = osInfo.platform();</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> downloadUrl = platform === <span class="string">'darwin'</span> ? <span class="keyword">this</span>.state.latest.download.dmg : platform === <span class="string">'win32'</span> ? <span class="keyword">this</span>.state.latest.download.winSetup : <span class="string">''</span>;</span><br><span class="line">        <span class="keyword">if</span> (downloadUrl === <span class="string">''</span>) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> downloadUrlArr = downloadUrl.split(<span class="string">"/"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> filename = downloadUrlArr[downloadUrlArr.length<span class="number">-1</span>];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> savePath = osInfo.tmpdir() + <span class="string">'/'</span> + filename;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">const</span> _request = request(downloadUrl);</span><br><span class="line">        progress(_request, &#123;</span><br><span class="line">            <span class="comment">// throttle: 2000,                    // Throttle the progress event to 2000ms, defaults to 1000ms</span></span><br><span class="line">            <span class="comment">// delay: 1000,                       // Only start to emit after 1000ms delay, defaults to 0ms</span></span><br><span class="line">            <span class="comment">// lengthHeader: 'x-transfer-length'  // Length header to use, defaults to content-length</span></span><br><span class="line">        &#125;)</span><br><span class="line">            .on(<span class="string">'progress'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">state</span>) </span>&#123;</span><br><span class="line">                <span class="comment">// The state is an object that looks like this:</span></span><br><span class="line">                <span class="comment">// &#123;</span></span><br><span class="line">                <span class="comment">//     percent: 0.5,               // Overall percent (between 0 to 1)</span></span><br><span class="line">                <span class="comment">//     speed: 554732,              // The download speed in bytes/sec</span></span><br><span class="line">                <span class="comment">//     size: &#123;</span></span><br><span class="line">                <span class="comment">//         total: 90044871,        // The total payload size in bytes</span></span><br><span class="line">                <span class="comment">//         transferred: 27610959   // The transferred payload size in bytes</span></span><br><span class="line">                <span class="comment">//     &#125;,</span></span><br><span class="line">                <span class="comment">//     time: &#123;</span></span><br><span class="line">                <span class="comment">//         elapsed: 36.235,        // The total elapsed seconds since the start (3 decimals)</span></span><br><span class="line">                <span class="comment">//         remaining: 81.403       // The remaining seconds to finish (3 decimals)</span></span><br><span class="line">                <span class="comment">//     &#125;</span></span><br><span class="line">                <span class="comment">// &#125;</span></span><br><span class="line">                that.setState(&#123;<span class="attr">downloadState</span>: state&#125;)</span><br><span class="line">            &#125;)</span><br><span class="line">            .on(<span class="string">'error'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123;</span><br><span class="line">                that.setState(&#123;</span><br><span class="line">                    downloadState:&#123;</span><br><span class="line">                        error: <span class="literal">true</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;)</span><br><span class="line">            .on(<span class="string">'end'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">if</span> (that.state.update === <span class="string">'error'</span>) <span class="keyword">return</span>;</span><br><span class="line">                that.setState(&#123;</span><br><span class="line">                    update: <span class="string">'install'</span>,</span><br><span class="line">                &#125;);</span><br><span class="line"></span><br><span class="line">                setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">if</span> (platform === <span class="string">'darwin'</span>)&#123;</span><br><span class="line">                        <span class="keyword">const</span> appName = pjson.build.productName;</span><br><span class="line">                        <span class="keyword">const</span> appVersion = app.getVersion();</span><br><span class="line">                        <span class="built_in">console</span>.info(appName,appVersion);</span><br><span class="line">                        <span class="comment">// 挂载</span></span><br><span class="line">                        cp.execSync(<span class="string">`hdiutil attach '<span class="subst">$&#123;savePath&#125;</span>' -nobrowse`</span>, &#123;</span><br><span class="line">                            stdio: [<span class="string">'ignore'</span>, <span class="string">'ignore'</span>, <span class="string">'ignore'</span>]</span><br><span class="line">                        &#125;);</span><br><span class="line"></span><br><span class="line">                        <span class="comment">// 覆盖原 app</span></span><br><span class="line">                        cp.execSync(<span class="string">`rm -rf '/Applications/<span class="subst">$&#123;appName&#125;</span>.app' &amp;&amp; cp -R '/Volumes/<span class="subst">$&#123;appName&#125;</span> <span class="subst">$&#123;appVersion&#125;</span>/<span class="subst">$&#123;appName&#125;</span>.app' '/Applications/<span class="subst">$&#123;appName&#125;</span>.app'`</span>);</span><br><span class="line"></span><br><span class="line">                        <span class="comment">// 卸载挂载的 dmg</span></span><br><span class="line">                        cp.execSync(<span class="string">`hdiutil eject '/Volumes/<span class="subst">$&#123;appName&#125;</span> <span class="subst">$&#123;appVersion&#125;</span>'`</span>, &#123;</span><br><span class="line">                            stdio: [<span class="string">'ignore'</span>, <span class="string">'ignore'</span>, <span class="string">'ignore'</span>]</span><br><span class="line">                        &#125;);</span><br><span class="line"></span><br><span class="line">                        <span class="comment">// 重启</span></span><br><span class="line">                        app.relaunch();</span><br><span class="line">                        app.quit();</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> (platform === <span class="string">'win32'</span>) &#123;</span><br><span class="line">                        shell.openItem(savePath);</span><br><span class="line">                        setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                            app.quit();</span><br><span class="line">                        &#125;,<span class="number">1500</span>)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,<span class="number">2000</span>)</span><br><span class="line">            &#125;)</span><br><span class="line">            .pipe(fs.createWriteStream(savePath));</span><br><span class="line"></span><br><span class="line">        that.setState(&#123;<span class="attr">update</span>:<span class="string">'download'</span>&#125;);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">        <span class="built_in">console</span>.info(e);</span><br><span class="line">        that.setState(&#123;</span><br><span class="line">            update: <span class="string">'error'</span>,</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      关于 Electron 自动更新的一系列折腾
    
    </summary>
    
      <category term="Electron篇" scheme="http://blog.joylau.cn/categories/Electron%E7%AF%87/"/>
    
    
      <category term="Electron" scheme="http://blog.joylau.cn/tags/Electron/"/>
    
  </entry>
  
  <entry>
    <title>Electron --- Electron-Builder 打包的各种配置</title>
    <link href="http://blog.joylau.cn/2019/09/14/Electron-Electron-Builder/"/>
    <id>http://blog.joylau.cn/2019/09/14/Electron-Electron-Builder/</id>
    <published>2019-09-14T01:00:12.000Z</published>
    <updated>2019-09-24T16:01:05.640Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><h3 id="打包的资源无法包含-build-目录"><a href="#打包的资源无法包含-build-目录" class="headerlink" title="打包的资源无法包含 build 目录"></a>打包的资源无法包含 build 目录</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">"files": [</span><br><span class="line">      "**/*",</span><br><span class="line">      "build/",</span><br><span class="line">      "!build/static/js/*.js.map",</span><br><span class="line">      <span class="string">"!src/"</span></span><br><span class="line">    ],</span><br></pre></td></tr></table></figure><p>同时该配置也可防止源码被打包进去,</p><h3 id="查看打包后的目录结构"><a href="#查看打包后的目录结构" class="headerlink" title="查看打包后的目录结构"></a>查看打包后的目录结构</h3><p><code>&quot;asar&quot;: false,</code> </p><h3 id="引入外部文件"><a href="#引入外部文件" class="headerlink" title="引入外部文件"></a>引入外部文件</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">"extraResources": [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"from"</span>: <span class="string">"./LICENSE"</span>,</span><br><span class="line">        <span class="attr">"to"</span>: <span class="string">"./../LICENSE.txt"</span></span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br></pre></td></tr></table></figure><h3 id="定义安装包输出目录"><a href="#定义安装包输出目录" class="headerlink" title="定义安装包输出目录"></a>定义安装包输出目录</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">"directories": &#123;</span><br><span class="line">  "output": "dist"</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h3 id="Windows-环境下打出-32-位和-64-位二合一包"><a href="#Windows-环境下打出-32-位和-64-位二合一包" class="headerlink" title="Windows 环境下打出 32 位和 64 位二合一包"></a>Windows 环境下打出 32 位和 64 位二合一包</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">"win": &#123;</span><br><span class="line">  "target": [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"target"</span>: <span class="string">"nsis"</span>,</span><br><span class="line">      <span class="attr">"arch"</span>: [</span><br><span class="line">        <span class="string">"ia32"</span>,</span><br><span class="line">        <span class="string">"x64"</span></span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h3 id="打出的-mac-包写入数据到-Info-plist-文件"><a href="#打出的-mac-包写入数据到-Info-plist-文件" class="headerlink" title="打出的 mac 包写入数据到 Info.plist 文件"></a>打出的 mac 包写入数据到 Info.plist 文件</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">"mac": &#123;</span><br><span class="line">  "extendInfo": &#123;</span><br><span class="line">    "URL types": [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"URL identifier"</span>: <span class="string">"Joy Security"</span>,</span><br><span class="line">        <span class="attr">"URL Schemes"</span>: [</span><br><span class="line">          <span class="string">"joy-security"</span></span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h3 id="NSIS-配置"><a href="#NSIS-配置" class="headerlink" title="NSIS 配置"></a>NSIS 配置</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">"nsis": &#123;</span><br><span class="line">  "oneClick": false, // 一键安装</span><br><span class="line">  "perMachine": true, // 为所有用户安装</span><br><span class="line">  "allowElevation": true, // 允许权限提升, 设置 false 的话需要重新允许安装程序</span><br><span class="line">  "allowToChangeInstallationDirectory": true, // 允许更改安装目录</span><br><span class="line">  "installerIcon": "./public/icons/win.ico",</span><br><span class="line">  "uninstallerIcon": "./public/icons/win_uninstall.ico",</span><br><span class="line">  "installerHeaderIcon": "./public/icons/win.ico",</span><br><span class="line">  "createDesktopShortcut": true,</span><br><span class="line">  "createStartMenuShortcut": true,</span><br><span class="line">  "shortcutName": "Joy Security",</span><br><span class="line">  "license": "./LICENSE",</span><br><span class="line">  "include": "./public/nsis/installer.nsh" // 包含的脚本</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="NSIS-脚本"><a href="#NSIS-脚本" class="headerlink" title="NSIS 脚本"></a>NSIS 脚本</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">!macro customHeader</span><br><span class="line"></span><br><span class="line">!macroend</span><br><span class="line"></span><br><span class="line">!macro preInit</span><br><span class="line"></span><br><span class="line">!macroend</span><br><span class="line"></span><br><span class="line">!macro customInit</span><br><span class="line">        # guid=7e51495b-3f4d-5235-aadd-5636863064f0</span><br><span class="line">        ReadRegStr $0 HKLM &quot;SOFTWARE\Microsoft\Windows\CurrentVersion\Uninstall\&#123;7e51495b-3f4d-5235-aadd-5636863064f0&#125;&quot; &quot;UninstallString&quot;</span><br><span class="line">        $&#123;If&#125; $0 != &quot;&quot;</span><br><span class="line">            MessageBox MB_ICONINFORMATION|MB_TOPMOST  &quot;检测到系统中已安装本程序，将卸载旧版本&quot; IDOK</span><br><span class="line">            # ExecWait $0 $1</span><br><span class="line">        $&#123;EndIf&#125;</span><br><span class="line">!macroend</span><br><span class="line"></span><br><span class="line">!macro customInstall</span><br><span class="line"></span><br><span class="line">!macroend</span><br><span class="line"></span><br><span class="line">!macro customInstallMode</span><br><span class="line">  # set $isForceMachineInstall or $isForceCurrentInstall</span><br><span class="line">  # to enforce one or the other modes.</span><br><span class="line">  #set $isForceMachineInstall</span><br><span class="line">!macroend</span><br></pre></td></tr></table></figure><h3 id="NSIS-引入-license-文件包含中文的问题"><a href="#NSIS-引入-license-文件包含中文的问题" class="headerlink" title="NSIS 引入 license 文件包含中文的问题"></a>NSIS 引入 license 文件包含中文的问题</h3><p>当引入的 license 文件里有中文时, 在 Windows (中文操作系统) 平台下打包需要 GBK 编码, 在 macOS 下,GBK 编码会直接报错,需要修改为 UTF-8 编码</p>]]></content>
    
    <summary type="html">
    
      Electron-Builder 打包的各种配置记录
    
    </summary>
    
      <category term="Electron篇" scheme="http://blog.joylau.cn/categories/Electron%E7%AF%87/"/>
    
    
      <category term="Electron" scheme="http://blog.joylau.cn/tags/Electron/"/>
    
  </entry>
  
  <entry>
    <title>Electron --- Windows 和 MacOS 套娃图标的制作</title>
    <link href="http://blog.joylau.cn/2019/09/13/Electron-Icon-Icns/"/>
    <id>http://blog.joylau.cn/2019/09/13/Electron-Icon-Icns/</id>
    <published>2019-09-13T08:11:42.000Z</published>
    <updated>2019-09-16T06:33:04.875Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><h3 id="什么是套娃图标"><a href="#什么是套娃图标" class="headerlink" title="什么是套娃图标"></a>什么是套娃图标</h3><p>可能见过一种套娃的玩具,就是一个大的套着一个小的,每一个玩具的形状颜色都一样,只是大小比例不一样,套娃图标也是这个意思</p><h3 id="什么工具"><a href="#什么工具" class="headerlink" title="什么工具"></a>什么工具</h3><p>需要这么一个工具, IconFX : <a href="http://nas.joylau.cn:5000/sharing/Y3xyQ0OJV" target="_blank" rel="noopener">下载</a></p><p><img src="http://image.joylau.cn/blog/Electron-icon-icns-iconfx.png.png" alt="IconFX"></p><p>制做一组至少有 256<em>256 (此外还有 128</em>128 , 96<em>96, 64</em>64, 48<em>48,32</em>32,16*16)的一套图标, Windows 下格式为 icon, Mac 下格式为 icns</p><h3 id="怎么制作"><a href="#怎么制作" class="headerlink" title="怎么制作"></a>怎么制作</h3><p>使用 PS 制作一张图片或者下载一张图片,按照下面的步骤完成所有大小的图标创建,之后保存.</p><p>图像 — 从图像创建 Windows 图标</p><p><img src="http://image.joylau.cn/blog/Electron-icon-icns-iconfx-make.png" alt="IconFX-make"></p><p>MacOS 也是同样的道理</p>]]></content>
    
    <summary type="html">
    
      Electron Windows 和 MacOS 套娃图标的制作
    
    </summary>
    
      <category term="Electron篇" scheme="http://blog.joylau.cn/categories/Electron%E7%AF%87/"/>
    
    
      <category term="Electron" scheme="http://blog.joylau.cn/tags/Electron/"/>
    
  </entry>
  
  <entry>
    <title>Electron --- 在 Windows 下和在 MacOS 下 Scheme 协议的使用</title>
    <link href="http://blog.joylau.cn/2019/09/12/Electron-URL-Scheme/"/>
    <id>http://blog.joylau.cn/2019/09/12/Electron-URL-Scheme/</id>
    <published>2019-09-12T03:21:12.000Z</published>
    <updated>2019-09-24T16:01:05.640Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><h3 id="什么是-URL-Scheme-协议"><a href="#什么是-URL-Scheme-协议" class="headerlink" title="什么是 URL Scheme 协议"></a>什么是 URL Scheme 协议</h3><p>个人理解为注册一种协议来实现应用间的跳转</p><h3 id="Windows-上的实现"><a href="#Windows-上的实现" class="headerlink" title="Windows 上的实现"></a>Windows 上的实现</h3><p>Windows 上是通过注册表实现的</p><p>通过在 HKCR (HKEY_CALSSES_ROOT) 添加一条注册表记录</p><p><img src="http://image.joylau.cn/blog/Electron-URL-Scheme-win.png" alt="Win Registry"></p><p>其中 command 的命令即为要执行的命令,注意后面要加一个参数 <code>&quot;%1&quot;</code></p><h3 id="Mac-上的实现"><a href="#Mac-上的实现" class="headerlink" title="Mac 上的实现"></a>Mac 上的实现</h3><p>在应用里显示包内容,使用 xcode 查看 Info.plist 找到 URL types – URL Schemes 里添加一项</p><p><img src="http://image.joylau.cn/blog/Electron-URL-Scheme-mac.png" alt="Mac Info.plist"></p><h3 id="Electron-的实现"><a href="#Electron-的实现" class="headerlink" title="Electron 的实现"></a>Electron 的实现</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app.setAsDefaultProtocolClient(PROTOCOL, process.execPath, [<span class="string">`<span class="subst">$&#123;__dirname&#125;</span>`</span>]);</span><br></pre></td></tr></table></figure><p>这一句话即可完成 Windows 下和 macOS 下的协议注册,只不过需要应用启动后才可注册成功,就是说如果安装过后不打开的话,无法通过协议来唤醒应用,解决方式我们后面再讲</p><p>第一个参数为协议的名称, 第二个参数为执行的命令,第三个参数为所传字符串参数数组</p><p>在 Windows 环境下最后一项需要带上当前的项目路径,否则的话在开发模式下会打不开 electron 应用,打包完成后不会存在这个问题, mac 上也不会存在这个问题</p><h3 id="Electron-上协议参数的处理"><a href="#Electron-上协议参数的处理" class="headerlink" title="Electron 上协议参数的处理"></a>Electron 上协议参数的处理</h3><p>参数的处理分 2 中情况</p><ol><li>新打开的窗口</li><li>打开的第二个实例</li></ol><p>对于新打开的窗口:<br>使用 <code>let argv = process.argv;</code> 来获取进程参数,得到的是一个数组,如果做够一项包含我们的协议,则需要根据自己的字符串规则来进行处理</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> argv = process.argv;</span><br><span class="line"><span class="keyword">if</span> (argv[argv.length - <span class="number">1</span>].indexOf(PROTOCOL + <span class="string">"://"</span>) &gt; <span class="number">-1</span>) &#123;</span><br><span class="line">    <span class="comment">//.....</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>对于打开的第二个实例:<br>windows 上监听的事件是 <code>second-instance</code>, mac 上监听的事件是 <code>open-url</code>, 2 个事件传入参数还不一样, Windows 下传入的参数是字符串数组,mac 传入的参数是字符串,都包含了协议名称</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">app.on(<span class="string">'second-instance'</span>, (event, commandLine, workingDirectory) =&gt; &#123;</span><br><span class="line">    <span class="comment">// 当运行第二个实例时,主动对焦</span></span><br><span class="line">    <span class="keyword">if</span> (win) &#123;</span><br><span class="line">        <span class="keyword">if</span> (win.isMinimized()) win.restore();</span><br><span class="line">        win.focus();</span><br><span class="line">        win.show();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> message = handleArgv(commandLine);</span><br><span class="line">        processSend(message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// macOS</span></span><br><span class="line">app.on(<span class="string">'open-url'</span>, (event, urlStr) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (win) &#123;</span><br><span class="line">        win.showInactive();</span><br><span class="line">        <span class="keyword">let</span> message = handleArgv(urlStr);</span><br><span class="line">        processSend(message);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        global.shareObject.message = handleArgv(urlStr);</span><br><span class="line">        global.shareObject.isSend = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">processSend</span>(<span class="params">message</span>) </span>&#123;</span><br><span class="line">    global.shareObject.message = message;</span><br><span class="line">    win.webContents.send(<span class="string">'ch-1'</span>, <span class="string">'send'</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleArgv</span>(<span class="params">argv</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> urlObj = [];</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">Array</span>.isArray(argv)) &#123;</span><br><span class="line">        urlObj = argv[argv.length - <span class="number">1</span>].replace(PROTOCOL + <span class="string">"://"</span>, <span class="string">""</span>).split(<span class="string">"_"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        urlObj = argv.replace(PROTOCOL + <span class="string">"://"</span>, <span class="string">""</span>).split(<span class="string">"_"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> urlObj.length &gt;= <span class="number">2</span> ? &#123;<span class="attr">sessionId</span>: urlObj[<span class="number">0</span>], <span class="attr">url</span>: urlObj[<span class="number">1</span>], <span class="attr">macInfo</span>: os.networkInterfaces()&#125; : &#123;&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="浏览器判断-scheme-协议是否存在"><a href="#浏览器判断-scheme-协议是否存在" class="headerlink" title="浏览器判断 scheme 协议是否存在"></a>浏览器判断 scheme 协议是否存在</h3><p>使用 setTimeout, 如果超时未打开的话则说明协议不存在 </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> downloadURL = <span class="string">"http://xxxx"</span>;</span><br><span class="line"><span class="built_in">window</span>.location = <span class="string">"joy-security://xxxxxx_xxxxxxx"</span>;</span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">window</span>.location = downloadURL;</span><br><span class="line">&#125;,<span class="number">1000</span>)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      Electron Scheme 协议的使用
    
    </summary>
    
      <category term="Electron篇" scheme="http://blog.joylau.cn/categories/Electron%E7%AF%87/"/>
    
    
      <category term="Electron" scheme="http://blog.joylau.cn/tags/Electron/"/>
    
  </entry>
  
  <entry>
    <title>Electron --- 知识点小记</title>
    <link href="http://blog.joylau.cn/2019/09/11/Electron-Questions/"/>
    <id>http://blog.joylau.cn/2019/09/11/Electron-Questions/</id>
    <published>2019-09-11T10:11:32.000Z</published>
    <updated>2019-09-12T16:01:05.650Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><h3 id="Electron-只启动一个实例"><a href="#Electron-只启动一个实例" class="headerlink" title="Electron 只启动一个实例"></a>Electron 只启动一个实例</h3><p>使用 app.requestSingleInstanceLock()</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> gotTheLock = app.requestSingleInstanceLock();</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!gotTheLock) &#123;</span><br><span class="line">    app.quit()</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    app.on(<span class="string">'ready'</span>, createWindow);</span><br><span class="line"></span><br><span class="line">    app.on(<span class="string">'window-all-closed'</span>, () =&gt; &#123;</span><br><span class="line">        app.quit();</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    app.on(<span class="string">'activate'</span>, () =&gt; &#123;</span><br><span class="line">        <span class="keyword">if</span> (win == <span class="literal">null</span>) &#123;</span><br><span class="line">            createWindow();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Electron-不显示菜单栏"><a href="#Electron-不显示菜单栏" class="headerlink" title="Electron 不显示菜单栏"></a>Electron 不显示菜单栏</h3><p>经过实测<br><code>Menu.setApplicationMenu(null);</code><br>在 Windows 环境下没有菜单栏, 在 MAC 系统上开发模式下有菜单栏</p><p>正确的解决方式是<br><code>Menu.setApplicationMenu(Menu.buildFromTemplate([]));</code></p><h3 id="注册快捷键"><a href="#注册快捷键" class="headerlink" title="注册快捷键"></a>注册快捷键</h3><p>electron 自带的注册快捷键的功能函数是 globalShortcut, 这个是全局的快捷键,就是说焦点不在当前程序上也能触发快捷键<br>我这里使用的是一个第三方的组件 electron-localshortcut</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">electronLocalshortcut.register(win, <span class="string">'F12'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    win.webContents.isDevToolsOpened() ? win.webContents.closeDevTools() : win.webContents.openDevTools();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">electronLocalshortcut.register(win, <span class="string">'F5'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    win.reload();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="主线程和渲染线程之间的通信"><a href="#主线程和渲染线程之间的通信" class="headerlink" title="主线程和渲染线程之间的通信"></a>主线程和渲染线程之间的通信</h3><p>这里使用的是 ipcMain 和 ipcRenderer<br>渲染进程使用ipcRenderer.send发送异步消息，然后使用on事件监控主进程的返回值。主进程使用on事件监听消息，使用event.sender.send返回数据</p><p>App.js:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;ipcRenderer&#125; = <span class="built_in">require</span>(<span class="string">'electron'</span>)</span><br><span class="line">ipcRenderer.send(<span class="string">'asynchronous-message'</span>, <span class="string">'ping'</span>)</span><br><span class="line">ipcRenderer.on(<span class="string">'asynchronous-reply'</span>, (event, arg) =&gt; &#123;</span><br><span class="line">     <span class="built_in">console</span>.log(arg) <span class="comment">// prints "pong"</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>main.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;ipcMain&#125; = <span class="built_in">require</span>(<span class="string">'electron'</span>)</span><br><span class="line">ipcMain.on(<span class="string">'asynchronous-message'</span>, (event, arg) =&gt; &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(arg)  <span class="comment">// prints "ping"</span></span><br><span class="line">  event.sender.send(<span class="string">'asynchronous-reply'</span>, <span class="string">'pong'</span>)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>渲染进程使用ipcRenderer.sendSync发送同步消息。主进程使用on事件监控消息，使用event.returnValue返回数据给渲染进程。返回值在渲染进程中，就直接体现为ipcRenderer.sendSync的函数返回值</p><h3 id="主线程如何给渲染线程发送消息"><a href="#主线程如何给渲染线程发送消息" class="headerlink" title="主线程如何给渲染线程发送消息"></a>主线程如何给渲染线程发送消息</h3><p>上面的示例没有说主线程如何对小渲染线程发送消息,应该这样做:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">win.webContents.send(<span class="string">'ch-1'</span>, <span class="string">'send'</span>);</span><br></pre></td></tr></table></figure><h3 id="渲染进程和渲染进程如何互发消息"><a href="#渲染进程和渲染进程如何互发消息" class="headerlink" title="渲染进程和渲染进程如何互发消息"></a>渲染进程和渲染进程如何互发消息</h3><ol><li>渲染进程的页面自己处理</li><li>通过主线程进行中间转换</li></ol><h3 id="渲染线程如何使用-electron-的功能"><a href="#渲染线程如何使用-electron-的功能" class="headerlink" title="渲染线程如何使用 electron 的功能"></a>渲染线程如何使用 electron 的功能</h3><p>渲染窗口添加配置:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">webPreferences: &#123;</span><br><span class="line">    nodeIntegration: <span class="literal">true</span>, <span class="comment">// 开启 node 功能</span></span><br><span class="line">    preload: path.join(__dirname, <span class="string">'./public/renderer.js'</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>添加 renderer.js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">global.electron = <span class="built_in">require</span>(<span class="string">'electron'</span>)</span><br></pre></td></tr></table></figure><p>渲染进程的页面使用:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> electron = <span class="built_in">window</span>.electron;</span><br><span class="line">electron.xxxx</span><br></pre></td></tr></table></figure><h3 id="主线程和渲染进程如何共享对象"><a href="#主线程和渲染进程如何共享对象" class="headerlink" title="主线程和渲染进程如何共享对象"></a>主线程和渲染进程如何共享对象</h3><p>不需要引入任何包,直接在主线程使用 global</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 共享对象</span></span><br><span class="line">global.shareObject = &#123;</span><br><span class="line">    osInfo: os</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>渲染进程获取信息: let osInfo = electron.remote.getGlobal(‘shareObject’).osInfo;</p><p>主线程修改对象: global.shareObject.osInfo = message;</p><p>渲染线程修改对象: electron.remote.getGlobal(‘shareObject’).osInfo = null;</p><h3 id="区分开发模式还是生产模式"><a href="#区分开发模式还是生产模式" class="headerlink" title="区分开发模式还是生产模式"></a>区分开发模式还是生产模式</h3><p>建议使用 <code>app.isPackaged</code></p><h3 id="通过协议打开第二个实例的情况下触发的事件"><a href="#通过协议打开第二个实例的情况下触发的事件" class="headerlink" title="通过协议打开第二个实例的情况下触发的事件"></a>通过协议打开第二个实例的情况下触发的事件</h3><p>Windows 环境下:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">app.on(<span class="string">'second-instance'</span>, (event, commandLine, workingDirectory) =&gt; &#123;</span><br><span class="line">    <span class="comment">// 当运行第二个实例时,主动对焦</span></span><br><span class="line">    <span class="keyword">if</span> (win) &#123;</span><br><span class="line">        <span class="keyword">if</span> (win.isMinimized()) win.restore();</span><br><span class="line">        win.focus();</span><br><span class="line">        win.show();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>Mac 环境下:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// macOS</span></span><br><span class="line">app.on(<span class="string">'open-url'</span>, (event, urlStr) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (win) &#123;</span><br><span class="line">        win.showInactive();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="开发环境和生成环境加载不同的页面"><a href="#开发环境和生成环境加载不同的页面" class="headerlink" title="开发环境和生成环境加载不同的页面"></a>开发环境和生成环境加载不同的页面</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">if</span> (app.isPackaged) &#123;</span><br><span class="line">    win.loadURL(<span class="string">`file://<span class="subst">$&#123;__dirname&#125;</span>/build/index.html`</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    win.loadURL(<span class="string">'http://localhost:3000'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      Electron 平时使用过程中遇到的问题小记
    
    </summary>
    
      <category term="Electron篇" scheme="http://blog.joylau.cn/categories/Electron%E7%AF%87/"/>
    
    
      <category term="Electron" scheme="http://blog.joylau.cn/tags/Electron/"/>
    
  </entry>
  
  <entry>
    <title>Create-React-App 的一些配置</title>
    <link href="http://blog.joylau.cn/2019/09/10/React-Create-React-App/"/>
    <id>http://blog.joylau.cn/2019/09/10/React-Create-React-App/</id>
    <published>2019-09-10T08:52:54.000Z</published>
    <updated>2019-09-24T16:01:05.640Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><h3 id="添加多页面配置"><a href="#添加多页面配置" class="headerlink" title="添加多页面配置"></a>添加多页面配置</h3><ol><li><code>npm run eject</code></li><li>修改 webpack.config.js</li></ol><p>entry 修改:<br>这里我加了一个 update.html 页面</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">entry: &#123;</span><br><span class="line">  index: [</span><br><span class="line">    <span class="comment">// Include an alternative client for WebpackDevServer. A client's job is to</span></span><br><span class="line">    <span class="comment">// connect to WebpackDevServer by a socket and get notified about changes.</span></span><br><span class="line">    <span class="comment">// When you save a file, the client will either apply hot updates (in case</span></span><br><span class="line">    <span class="comment">// of CSS changes), or refresh the page (in case of JS changes). When you</span></span><br><span class="line">    <span class="comment">// make a syntax error, this client will display a syntax error overlay.</span></span><br><span class="line">    <span class="comment">// Note: instead of the default WebpackDevServer client, we use a custom one</span></span><br><span class="line">    <span class="comment">// to bring better experience for Create React App users. You can replace</span></span><br><span class="line">    <span class="comment">// the line below with these two lines if you prefer the stock client:</span></span><br><span class="line">    <span class="comment">// require.resolve('webpack-dev-server/client') + '?/',</span></span><br><span class="line">    <span class="comment">// require.resolve('webpack/hot/dev-server'),</span></span><br><span class="line">    isEnvDevelopment &amp;&amp;</span><br><span class="line">    <span class="built_in">require</span>.resolve(<span class="string">'react-dev-utils/webpackHotDevClient'</span>),</span><br><span class="line">    <span class="comment">// Finally, this is your app's code:</span></span><br><span class="line">    paths.appIndexJs,</span><br><span class="line">    <span class="comment">// We include the app code last so that if there is a runtime error during</span></span><br><span class="line">    <span class="comment">// initialization, it doesn't blow up the WebpackDevServer client, and</span></span><br><span class="line">    <span class="comment">// changing JS code would still trigger a refresh.</span></span><br><span class="line">  ].filter(<span class="built_in">Boolean</span>),</span><br><span class="line">  update: [</span><br><span class="line">    isEnvDevelopment &amp;&amp;</span><br><span class="line">    <span class="built_in">require</span>.resolve(<span class="string">'react-dev-utils/webpackHotDevClient'</span>),</span><br><span class="line">    paths.appSrc + <span class="string">'/update.js'</span>,</span><br><span class="line">  ].filter(<span class="built_in">Boolean</span>),</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>output 修改</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">output: &#123;</span><br><span class="line">      <span class="comment">// The build folder.</span></span><br><span class="line">      path: isEnvProduction ? paths.appBuild : <span class="literal">undefined</span>,</span><br><span class="line">      <span class="comment">// Add /* filename */ comments to generated require()s in the output.</span></span><br><span class="line">      pathinfo: isEnvDevelopment,</span><br><span class="line">      <span class="comment">// There will be one main bundle, and one file per asynchronous chunk.</span></span><br><span class="line">      <span class="comment">// In development, it does not produce real files.</span></span><br><span class="line">      filename: isEnvProduction</span><br><span class="line">        ? <span class="string">'static/js/[name].[contenthash:8].js'</span></span><br><span class="line">        : isEnvDevelopment &amp;&amp; <span class="string">'static/js/[name]bundle.js'</span>,</span><br><span class="line">      <span class="comment">// There are also additional JS chunk files if you use code splitting.</span></span><br><span class="line">      chunkFilename: isEnvProduction</span><br><span class="line">        ? <span class="string">'static/js/[name].[contenthash:8].chunk.js'</span></span><br><span class="line">        : isEnvDevelopment &amp;&amp; <span class="string">'static/js/[name].chunk.js'</span>,</span><br><span class="line">      <span class="comment">// We inferred the "public path" (such as / or /my-project) from homepage.</span></span><br><span class="line">      <span class="comment">// We use "/" in development.</span></span><br><span class="line">      publicPath: publicPath,</span><br><span class="line">      <span class="comment">// Point sourcemap entries to original disk location (format as URL on Windows)</span></span><br><span class="line">      devtoolModuleFilenameTemplate: isEnvProduction</span><br><span class="line">        ? <span class="function"><span class="params">info</span> =&gt;</span></span><br><span class="line">            path</span><br><span class="line">              .relative(paths.appSrc, info.absoluteResourcePath)</span><br><span class="line">              .replace(<span class="regexp">/\\/g</span>, <span class="string">'/'</span>)</span><br><span class="line">        : isEnvDevelopment &amp;&amp;</span><br><span class="line">          (<span class="function"><span class="params">info</span> =&gt;</span> path.resolve(info.absoluteResourcePath).replace(<span class="regexp">/\\/g</span>, <span class="string">'/'</span>)),</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure><p>注意修改其中的 filename</p><p>HtmlWebpackPlugin 修改:<br>新增一个 HtmlWebpackPlugin </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> HtmlWebpackPlugin(</span><br><span class="line">        <span class="built_in">Object</span>.assign(</span><br><span class="line">          &#123;&#125;,</span><br><span class="line">          &#123;</span><br><span class="line">            inject: <span class="literal">true</span>,</span><br><span class="line">            template: paths.appHtml,</span><br><span class="line">            chunks: [<span class="string">"index"</span>]</span><br><span class="line">          &#125;,</span><br><span class="line">          isEnvProduction</span><br><span class="line">            ? &#123;</span><br><span class="line">                minify: &#123;</span><br><span class="line">                  removeComments: <span class="literal">true</span>,</span><br><span class="line">                  collapseWhitespace: <span class="literal">true</span>,</span><br><span class="line">                  removeRedundantAttributes: <span class="literal">true</span>,</span><br><span class="line">                  useShortDoctype: <span class="literal">true</span>,</span><br><span class="line">                  removeEmptyAttributes: <span class="literal">true</span>,</span><br><span class="line">                  removeStyleLinkTypeAttributes: <span class="literal">true</span>,</span><br><span class="line">                  keepClosingSlash: <span class="literal">true</span>,</span><br><span class="line">                  minifyJS: <span class="literal">true</span>,</span><br><span class="line">                  minifyCSS: <span class="literal">true</span>,</span><br><span class="line">                  minifyURLs: <span class="literal">true</span>,</span><br><span class="line">                &#125;,</span><br><span class="line">              &#125;</span><br><span class="line">            : <span class="literal">undefined</span></span><br><span class="line">        )</span><br><span class="line">      ),</span><br><span class="line">      <span class="keyword">new</span> HtmlWebpackPlugin(</span><br><span class="line">          <span class="built_in">Object</span>.assign(</span><br><span class="line">              &#123;&#125;,</span><br><span class="line">              &#123;</span><br><span class="line">                inject: <span class="literal">true</span>,</span><br><span class="line">                template: paths.appHtml,</span><br><span class="line">                chunks: [<span class="string">"update"</span>],</span><br><span class="line">                filename: <span class="string">"update.html"</span></span><br><span class="line">              &#125;,</span><br><span class="line">              isEnvProduction</span><br><span class="line">                  ? &#123;</span><br><span class="line">                    minify: &#123;</span><br><span class="line">                      removeComments: <span class="literal">true</span>,</span><br><span class="line">                      collapseWhitespace: <span class="literal">true</span>,</span><br><span class="line">                      removeRedundantAttributes: <span class="literal">true</span>,</span><br><span class="line">                      useShortDoctype: <span class="literal">true</span>,</span><br><span class="line">                      removeEmptyAttributes: <span class="literal">true</span>,</span><br><span class="line">                      removeStyleLinkTypeAttributes: <span class="literal">true</span>,</span><br><span class="line">                      keepClosingSlash: <span class="literal">true</span>,</span><br><span class="line">                      minifyJS: <span class="literal">true</span>,</span><br><span class="line">                      minifyCSS: <span class="literal">true</span>,</span><br><span class="line">                      minifyURLs: <span class="literal">true</span>,</span><br><span class="line">                    &#125;,</span><br><span class="line">                  &#125;</span><br><span class="line">                  : <span class="literal">undefined</span></span><br><span class="line">          )</span><br><span class="line">      ),</span><br></pre></td></tr></table></figure><p>在 public 目录里添加 update.html, 内容照抄 index.html 文件即可;<br>在 src 目录下添加 update.js 文件:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">'react-dom'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'./index.css'</span>;</span><br><span class="line"><span class="keyword">import</span> Update <span class="keyword">from</span> <span class="string">'./page/Update'</span>;</span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> serviceWorker <span class="keyword">from</span> <span class="string">'./serviceWorker'</span>;</span><br><span class="line"></span><br><span class="line">ReactDOM.render(<span class="xml"><span class="tag">&lt;<span class="name">Update</span> /&gt;</span>, document.getElementById('root'));</span></span><br><span class="line"><span class="xml">serviceWorker.register();</span></span><br></pre></td></tr></table></figure><p>之后, <a href="http://localhost:3000/update.html" target="_blank" rel="noopener">http://localhost:3000/update.html</a> 即可访问; 如果想加个路径,直接修改 HtmlWebpackPlugin 里的 filename, 例如 <code>filename: &quot;index/update.html&quot;</code><br>就可以 使用 <a href="http://localhost:3000/index/update.html" target="_blank" rel="noopener">http://localhost:3000/index/update.html</a> 来访问</p><h3 id="引入-src-目录以外的文件报错"><a href="#引入-src-目录以外的文件报错" class="headerlink" title="引入 src 目录以外的文件报错"></a>引入 src 目录以外的文件报错</h3><p>例如需要引入 public 目录下的图片,就会报错,此时,注释掉</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// new ModuleScopePlugin(paths.appSrc, [paths.appPackageJson]),</span></span><br></pre></td></tr></table></figure><p>这一行,重启即可.</p>]]></content>
    
    <summary type="html">
    
      Create-React-App 创建的项目的一些配置记录
    
    </summary>
    
      <category term="React篇" scheme="http://blog.joylau.cn/categories/React%E7%AF%87/"/>
    
    
      <category term="react" scheme="http://blog.joylau.cn/tags/react/"/>
    
      <category term="webpack" scheme="http://blog.joylau.cn/tags/webpack/"/>
    
  </entry>
  
  <entry>
    <title>Electron --- Create-React-App + Antd + Electron 的搭建</title>
    <link href="http://blog.joylau.cn/2019/09/10/Electron-Create-React-App/"/>
    <id>http://blog.joylau.cn/2019/09/10/Electron-Create-React-App/</id>
    <published>2019-09-10T08:41:30.000Z</published>
    <updated>2019-09-12T16:01:05.650Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><h3 id="创建-create-react-app-antd-项目"><a href="#创建-create-react-app-antd-项目" class="headerlink" title="创建 create-react-app-antd 项目"></a>创建 create-react-app-antd 项目</h3><ol><li>git clone <a href="https://github.com/ant-design/create-react-app-antd" target="_blank" rel="noopener">https://github.com/ant-design/create-react-app-antd</a></li><li>npm install</li><li>将 webpack 所有内建的配置暴露出来, <code>npm run eject</code>, 如果发现错误,看下 package.json 里 eject 的脚本是不是为 <code>react-scripts eject</code></li><li>修改 config-overrides.js</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span> <span class="title">override</span>(<span class="params">config, env</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> config;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ol start="5"><li><p>修改 webpack.config.js 里的 <code>module.rules.oneOf</code> 支持 css 和 less, 添加</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  test: <span class="regexp">/\.(css|less)$/</span>,</span><br><span class="line">  use: [</span><br><span class="line">    <span class="built_in">require</span>.resolve(<span class="string">'style-loader'</span>),</span><br><span class="line">    &#123;</span><br><span class="line">      loader: <span class="built_in">require</span>.resolve(<span class="string">'css-loader'</span>),</span><br><span class="line">      options: &#123;</span><br><span class="line">        importLoaders: <span class="number">1</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      loader: <span class="built_in">require</span>.resolve(<span class="string">'postcss-loader'</span>),</span><br><span class="line">      options: &#123;</span><br><span class="line">        <span class="comment">// Necessary for external CSS imports to work</span></span><br><span class="line">        <span class="comment">// https://github.com/facebookincubator/create-react-app/issues/2677</span></span><br><span class="line">        ident: <span class="string">'postcss'</span>,</span><br><span class="line">        plugins: <span class="function"><span class="params">()</span> =&gt;</span> [</span><br><span class="line">          <span class="built_in">require</span>(<span class="string">'postcss-flexbugs-fixes'</span>),</span><br><span class="line">          autoprefixer(&#123;</span><br><span class="line">            browsers: [</span><br><span class="line">              <span class="string">'&gt;1%'</span>,</span><br><span class="line">              <span class="string">'last 4 versions'</span>,</span><br><span class="line">              <span class="string">'Firefox ESR'</span>,</span><br><span class="line">              <span class="string">'not ie &lt; 9'</span>, <span class="comment">// React doesn't support IE8 anyway</span></span><br><span class="line">            ],</span><br><span class="line">            flexbox: <span class="string">'no-2009'</span>,</span><br><span class="line">          &#125;),</span><br><span class="line">        ],</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      loader: <span class="built_in">require</span>.resolve(<span class="string">'less-loader'</span>),</span><br><span class="line">      options: &#123; <span class="attr">javascriptEnabled</span>: <span class="literal">true</span> &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>修改 start.js 注释掉下面代码关闭项目启动自动打开浏览器</p></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// openBrowser(urls.localUrlForBrowser);</span></span><br></pre></td></tr></table></figure><ol start="7"><li><p>package.json 添加 <code>&quot;homepage&quot;: &quot;.&quot;</code> ,防止打包后的静态文件 index.html 引入 css 和 js 的路径错误</p></li><li><p>App.less 修改为 <code>@import &#39;~antd/dist/antd.less&#39;;</code></p></li></ol><h3 id="添加-electron"><a href="#添加-electron" class="headerlink" title="添加 electron"></a>添加 electron</h3><ol><li>package.json 添加 <code>&quot;main&quot;: &quot;main.js&quot;,</code> 和 electron 依赖</li></ol><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"main"</span>: <span class="string">"main.js"</span>,</span><br><span class="line">    <span class="attr">"devDependencies"</span>: &#123;</span><br><span class="line">        <span class="attr">"electron"</span>: <span class="string">"^6.0.7"</span></span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>创建 main.js,添加以下代码</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123;app, BrowserWindow, Menu&#125; = <span class="built_in">require</span>(<span class="string">'electron'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> win;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> windowConfig = &#123;</span><br><span class="line">    width: <span class="number">800</span>,</span><br><span class="line">    height: <span class="number">600</span>,</span><br><span class="line">    title: <span class="string">"Joy Security"</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> menuTemplate = [&#123;</span><br><span class="line">    label: <span class="string">'Joy Security'</span>,</span><br><span class="line">    submenu: [&#123;</span><br><span class="line">        label: <span class="string">'退出'</span>,</span><br><span class="line">        role: <span class="string">'quit'</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        label: <span class="string">`关于 <span class="subst">$&#123;windowConfig.title&#125;</span>`</span>,</span><br><span class="line">        role: <span class="string">'about'</span></span><br><span class="line">    &#125;]</span><br><span class="line">&#125;];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">app.on(<span class="string">'ready'</span>, createWindow);</span><br><span class="line"></span><br><span class="line">app.on(<span class="string">'window-all-closed'</span>, () =&gt; &#123;</span><br><span class="line">    app.quit();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.on(<span class="string">'activate'</span>, () =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (win == <span class="literal">null</span>) &#123;</span><br><span class="line">        createWindow();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createWindow</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 隐藏菜单栏,兼容 MAC</span></span><br><span class="line">    Menu.setApplicationMenu(Menu.buildFromTemplate([]));</span><br><span class="line"></span><br><span class="line">    win = <span class="keyword">new</span> BrowserWindow(windowConfig);</span><br><span class="line"></span><br><span class="line">    win.loadURL(<span class="string">'http://localhost:3000'</span>);</span><br><span class="line"></span><br><span class="line">    win.on(<span class="string">'close'</span>, () =&gt; &#123;</span><br><span class="line">        <span class="comment">//回收BrowserWindow对象</span></span><br><span class="line">        win = <span class="literal">null</span>;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    win.on(<span class="string">'resize'</span>, () =&gt; &#123;</span><br><span class="line">        <span class="comment">// win.reload();</span></span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li>package.json 更改脚本</li></ol><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="attr">"scripts"</span>: &#123;</span><br><span class="line">    <span class="attr">"react-start"</span>: <span class="string">"node scripts/start.js"</span>,</span><br><span class="line">    <span class="attr">"eletron-start"</span>: <span class="string">"electron ."</span>,</span><br><span class="line">    <span class="attr">"react-build"</span>: <span class="string">"node scripts/build.js"</span>,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="4"><li>启动时先 react-start 再 eletron-start 即可看到效果</li></ol>]]></content>
    
    <summary type="html">
    
      Create-React-App + Antd + Electron 项目的搭建
    
    </summary>
    
      <category term="Electron篇" scheme="http://blog.joylau.cn/categories/Electron%E7%AF%87/"/>
    
    
      <category term="Electron" scheme="http://blog.joylau.cn/tags/Electron/"/>
    
      <category term="React" scheme="http://blog.joylau.cn/tags/React/"/>
    
  </entry>
  
  <entry>
    <title>群晖系列 --- 添加私有仓库无法下载镜像问题的解决</title>
    <link href="http://blog.joylau.cn/2019/09/09/Synology-Docker-Insecure/"/>
    <id>http://blog.joylau.cn/2019/09/09/Synology-Docker-Insecure/</id>
    <published>2019-09-09T04:45:26.000Z</published>
    <updated>2019-09-12T16:01:05.650Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p>在群晖的 Docker 组件里添加了个人的私有仓库,发现却无法下载镜像….</p><h3 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h3><p>在 Docker 组件里添加新的仓库,并设置为使用仓库,发现在仓库里下载镜像总是失败,状态栏提示查看日志,可是在日志里总看不到东西</p><p>想了想,可能是新添加的 docker 私服是 http 的服务,而不是 https</p><h3 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h3><ol><li>于是我使用 GateOne 组件进入 shell </li><li>使用命令 docker pull xxx:xxx, 发现报错 <code>Get https://172.18.18.90:5000/v2/: http: server gave HTTP response to HTTPS client</code> , 果然是这个问题</li><li>于是找到 Docker 组件的配置文件目录,在 <code>/var/packages/Docker/etc</code> 目录下,添加配置文件 daemon.json </li></ol><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="attr">"insecure-registries"</span>: [<span class="string">"domain:5000"</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="4"><li>重启 Docker 组件, 发现不起作用,在命令行下 pull 依然报错,可想配置文件错了</li><li>转眼看到一个可疑的配置文件 <code>dockerd.json</code>, 里面已经有一些配置了,于是就把配置写到这个里面</li><li>再重启,问题解决.可见群晖对于 docker 是做了一些改变的.</li></ol>]]></content>
    
    <summary type="html">
    
      在群晖的 Docker 组件里添加了个人的私有仓库,发现却无法下载镜像....
    
    </summary>
    
      <category term="群晖篇" scheme="http://blog.joylau.cn/categories/%E7%BE%A4%E6%99%96%E7%AF%87/"/>
    
    
      <category term="Docker" scheme="http://blog.joylau.cn/tags/Docker/"/>
    
      <category term="群晖" scheme="http://blog.joylau.cn/tags/%E7%BE%A4%E6%99%96/"/>
    
  </entry>
  
  <entry>
    <title>InnoSetup --- 使用心得记录</title>
    <link href="http://blog.joylau.cn/2019/09/04/InnoSetup-Experience/"/>
    <id>http://blog.joylau.cn/2019/09/04/InnoSetup-Experience/</id>
    <published>2019-09-04T01:08:13.000Z</published>
    <updated>2019-09-04T01:28:20.033Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><h2 id="添加环境变量【Registry】"><a href="#添加环境变量【Registry】" class="headerlink" title="添加环境变量【Registry】"></a>添加环境变量【Registry】</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[Registry]</span><br><span class="line">Root: HKCR; Subkey: &quot;JOY-SECURITY&quot;; ValueType: string; ValueData: &quot;URL:JOY-SECURITY Protocol Handler&quot;; Flags: uninsdeletekey</span><br></pre></td></tr></table></figure><h3 id="Root-必需的"><a href="#Root-必需的" class="headerlink" title="Root  (必需的)"></a>Root  (必需的)</h3><p>根键。必须是下列值中的一个:</p><p>HKCR  (HKEY_CLASSES_ROOT)<br>HKCU  (HKEY_CURRENT_USER)<br>HKLM  (HKEY_LOCAL_MACHINE)<br>HKU  (HKEY_USERS)<br>HKCC  (HKEY_CURRENT_CONFIG) </p><h3 id="Subkey-必需的"><a href="#Subkey-必需的" class="headerlink" title="Subkey  (必需的)"></a>Subkey  (必需的)</h3><p>子键名，可以包含常量。</p><h3 id="ValueType"><a href="#ValueType" class="headerlink" title="ValueType"></a>ValueType</h3><p>值的数据类型。必须是下面中的一个:</p><p>none<br>string<br>expandsz<br>multisz<br>dword<br>qword<br>binary </p><p>如果指定了 none (默认设置)，安装程序将创建一个没有键值的键，在这种情况下，ValueData 参数将被忽略。<br>如果指定了 string，安装程序将创建一个字符串 (REG_SZ) 值。<br>如果指定了 expandsz，安装程序将创建一个扩展字符串 (REG_EXPAND_SZ) 值。<br>如果指定了 multisz，安装程序将创建一个多行文本 (REG_MULTI_SZ) 值。<br>如果指定了 dword，安装程序将创建一个32位整数 (REG_DWORD) 值。<br>如果指定了 qdword，安装程序将创建一个64位整数 (REG_QDWORD) 值。<br>如果指定了 binary，安装程序将创建一个二进制 (REG_BINARY) 值。</p><h3 id="Flags"><a href="#Flags" class="headerlink" title="Flags"></a>Flags</h3><p>这个参数是额外选项设置。多个选项可以使用空格隔开。支持下面的选项:</p><p>createvalueifdoesntexist<br>当指定了这个标记，安装程序只在如果没有相同名字的值存在时创建值。如果值类型是 none，或如果你指定了 deletevalue 标记，这个标记无效。</p><p>deletekey<br>当指定了这个标记，安装程序在如果条目存在的情况下，先将尝试删除它，包括其中的所有值和子键。如果 ValueType 不是 none，那么它将创建一个新的键和值。</p><p>要防止意外，如果 Subkey 是空白的或只包含反斜框符号，安装时这个标记被忽略。</p><p>deletevalue<br>当指定了这个标记，安装程序在如果值存在的情况下，先将尝试删除值，如果 ValueType 是 none，那么在键不存在的情况下，它将创建键以及新值。</p><p>dontcreatekey<br>当指定了这个标记，如果键已经在用户系统中不存在，安装程序将不尝试创建键或值。如果键不存在，不显示错误消息。</p><p>一般来说，这个键与 uninsdeletekey 标记组合使用，在卸载时删除键，但安装时不创建键。</p><p>noerror<br>如果安装程序因任何原因创建键或值失败，不显示错误消息。</p><p>preservestringtype<br>这只在当 ValueType 参数是 string 或 expandsz 时适用。当指定这个标记，并且值不存在或现有的值不是 string 类型 (REG_SZ 或 REG_EXPAND_SZ)，它将用 ValueType 指定的类型创建。如果值存在，并且是 string 类型，它将用先存在值的相同值类型替换。</p><p>uninsclearvalue<br>当卸载程序时，设置值数据为空字符 (类型 REG_SZ)。这个标记不能与 uninsdeletekey 标记组合使用。</p><p>uninsdeletekey<br>当卸载程序时，删除整个键，包含其中的所有值和子键。这对于 Windows 自身使用的键明显不是一个好方法。你只能用于你的应用程序特有的键中。</p><p>为防止意外，安装期间如果 Subkey 空白或只包含反斜框符号，这个标记被忽略。</p><p>uninsdeletekeyifempty<br>当程序卸载时，如果这个键的内部没有值或子键，则删除这个键。这个标记可以与 uninsdeletevalue 组合使用</p><p>为防止意外，安装期间如果 Subkey 空白或只包含反斜框符号，这个标记被忽略。</p><p>uninsdeletevalue<br>当程序卸载时删除该值。这个标记不能与 uninsdeletekeyifempty 组合使用</p><p>注意: 在早于 1.1 的 Inno Setup 版本中，你可以使用这个标记连同数据类型 none，那么它的功能与“如果空则删除键”标记一样。这个方法已经不支持了。你必须使用 uninsdeletekeyifempty 标记实现。</p><h2 id="添加环境变量【Code】"><a href="#添加环境变量【Code】" class="headerlink" title="添加环境变量【Code】"></a>添加环境变量【Code】</h2><figure class="highlight pascal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//添加环境变量</span></span><br><span class="line"><span class="function"><span class="keyword">procedure</span> <span class="title">CurStepChanged</span><span class="params">(CurStep: TSetupStep)</span>;</span></span><br><span class="line"><span class="keyword">var</span></span><br><span class="line">oldpath:<span class="keyword">String</span>;</span><br><span class="line">newpath:<span class="keyword">String</span>;</span><br><span class="line">ErrorCode: Integer;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line"><span class="keyword">if</span> CurStep = ssPostInstall <span class="keyword">then</span></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">   RegQueryStringValue(HKEY_LOCAL_MACHINE, <span class="string">'SYSTEM\CurrentControlSet\Control\Session Manager\Environment'</span>, <span class="string">'Path'</span>, oldPath);</span><br><span class="line">   newPath := oldPath + <span class="string">';%JAVA_HOME%\bin\;'</span>;</span><br><span class="line">   RegWriteStringValue(HKEY_LOCAL_MACHINE, <span class="string">'SYSTEM\CurrentControlSet\Control\Session Manager\Environment'</span>, <span class="string">'PATH'</span>, newPath);</span><br><span class="line">   RegWriteStringValue(HKEY_LOCAL_MACHINE, <span class="string">'SYSTEM\CurrentControlSet\Control\Session Manager\Environment'</span>, <span class="string">'JAVA_HOME'</span>, ExpandConstant(<span class="string">'&#123;app&#125;\java\jdk1.8.0_45'</span>));</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure><p>添加环境变量后记得在 setup 中配置 <code>ChangesEnvironment=yes</code> 通知其他应用程序从注册表重新获取环境变量</p><h2 id="删除环境变量【Code】"><a href="#删除环境变量【Code】" class="headerlink" title="删除环境变量【Code】"></a>删除环境变量【Code】</h2><figure class="highlight pascal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">procedure</span> <span class="title">CurUninstallStepChanged</span><span class="params">(CurUninstallStep: TUninstallStep)</span>;</span></span><br><span class="line"><span class="keyword">var</span></span><br><span class="line">oldpath:<span class="keyword">String</span>;</span><br><span class="line">newpath:<span class="keyword">String</span>;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line"><span class="keyword">if</span> CurUninstallStep = usDone <span class="keyword">then</span></span><br><span class="line">   RegDeleteValue(HKEY_LOCAL_MACHINE, <span class="string">'SYSTEM\CurrentControlSet\Control\Session Manager\Environment'</span>, <span class="string">'JAVA_HOME'</span>);</span><br><span class="line">   RegQueryStringValue(HKEY_LOCAL_MACHINE, <span class="string">'SYSTEM\CurrentControlSet\Control\Session Manager\Environment'</span>, <span class="string">'Path'</span>, oldPath);</span><br><span class="line">   StringChangeEx(oldPath, <span class="string">';%JAVA_HOME%\bin\;'</span>, <span class="string">''</span>, True);</span><br><span class="line">   newPath := oldPath;</span><br><span class="line">   RegWriteStringValue(HKEY_LOCAL_MACHINE, <span class="string">'SYSTEM\CurrentControlSet\Control\Session Manager\Environment'</span>, <span class="string">'PATH'</span>, newPath);</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure><h2 id="安装完成后执行脚本"><a href="#安装完成后执行脚本" class="headerlink" title="安装完成后执行脚本"></a>安装完成后执行脚本</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[Run]</span><br><span class="line">Filename: &quot;&#123;app&#125;\service-install.bat&quot;; Description: &quot;&#123;cm:LaunchProgram,&#123;#StringChange(&apos;SERVICE_INSTALL&apos;, &apos;&amp;&apos;, &apos;&amp;&amp;&apos;)&#125;&#125;&quot;; Flags: shellexec postinstall waituntilterminated runascurrentuser</span><br></pre></td></tr></table></figure><h3 id="Parameters"><a href="#Parameters" class="headerlink" title="Parameters"></a>Parameters</h3><p>程序的可选命令行参数，可以包含常量。</p><h3 id="Flags-1"><a href="#Flags-1" class="headerlink" title="Flags"></a>Flags</h3><p>这个参数是额外选项设置。多个选项可以使用空格隔开。支持下面的选项:</p><p>32bit<br>Causes the {sys} constant to map to the 32-bit System directory when used in the Filename and WorkingDir parameters. This is the default behavior in a 32-bit mode install。</p><p>这个标记不能与 shellexec 组合使用。</p><p>64bit<br>Causes the {sys} constant to map to the 64-bit System directory when used in the Filename and WorkingDir parameters. This is the default behavior in a 64-bit mode install。</p><p>This flag can only be used when Setup is running on 64-bit Windows, otherwise an error will occur. On an installation supporting both 32- and 64-bit architectures, it is possible to avoid the error by adding a Check: IsWin64 parameter, which will cause the entry to be silently skipped when running on 32-bit Windows。</p><p>这个标记不能与 shellexec 组合使用。</p><p>hidewizard<br>如果指定了这个标记，向导将在程序运行期间隐藏。</p><p>nowait<br>如果指定了这个标记，它将在处理下一个 [Run] 条目前或完成安装前不等待进程执行完成。不能与 waituntilidle 或 waituntilterminated 组合使用。</p><p>postinstall<br>仅在 [Run] 段有效。告诉安装程序在安装完成向导页创建一个选择框，用户可以选中或不选中这个选择框从而决定是否处理这个条目。以前这个标记调用 showcheckbox。</p><p>如果安装程序已经重新启动了用户的电脑 (安装了一个带 restartreplace 标记的文件或如果 [Setup] 段的 AlwaysRestart 指令是 yes 引起的)，选择框没有机会出现，因此这些条目不会被处理。</p><p>[Files] 段条目中的 isreadme 标记现在已被废弃。如果编译器带 isreadme 标记的条目，它将从 [Files] 段条目中忽略这个标记，并在 [Run] 段条目列表的开头插入一个生成的 [Run] 条目。这相生成的 [Run] 段条目运行自述文件，并带有 shellexec，skipifdoesntexist，postinstall 和 skipifsilent 标记。</p><p>runascurrentuser<br>如果指定了这个标记，the spawned process will inherit Setup/Uninstall’s user credentials (typically, full administrative privileges)。</p><p>This is the default behavior when the postinstall flag is not used。</p><p>这个标记不能与 runasoriginaluser 组合使用。</p><p>runasoriginaluser<br>仅在 [Run] 段有效。If this flag is specified and the system is running Windows Vista or later, the spawned process will execute with the (normally non-elevated) credentials of the user that started Setup initially (i.e., the “pre-UAC dialog” credentials)。</p><p>This is the default behavior when the postinstall flag is used。</p><p>If a user launches Setup by right-clicking its EXE file and selecting “Run as administrator”, then this flag, unfortunately, will have no effect, because Setup has no opportunity to run any code with the original user credentials. The same is true if Setup is launched from an already-elevated process. Note, however, that this is not an Inno Setup-specific limitation; Windows Installer-based installers cannot return to the original user credentials either in such cases。</p><p>这个标记不能与 runascurrentuser 组合使用。</p><p>runhidden<br>如果指定了这个标记，它将在隐藏窗口中运行程序。请在执行一个要提示用户输入的程序中不要使用这个标记。</p><p>runmaximized<br>如果指定了这个标记，将在最大化窗口运行程序或文档。</p><p>runminimized<br>如果指定了这个标记，将在最小化窗口运行程序或文档。</p><p>shellexec<br>如果 Filename 不是一个直接可执行文件 (.exe 或 .com 文件)，这个标记是必需的。当设置这个标记时，Filename 可以是一个文件夹或任何已注册的文件类型 – 包括 .hlp，.doc 等。该文件将用用户系统中与这个文件类型关联的应用程序打开，与在资源管理器双击文件的方法是相同的。</p><p>按默认，当使用 shellexec 标记时，将不等待，直到生成的进程终止。<br>如果你需要，你必须添加标记 waituntilterminated。注意，如果新进程未生成，它不能执行也将不等待 – 例如，文件指定指定为一个文件夹。</p><p>skipifdoesntexist<br>如果这个标记在 [Run] 段中指定，如果 Filename 不存在，安装程序不显示错误消息。</p><p>如果这个标记在 [UninstallRun] 段中指定，如果 Filename 不存在，卸载程序不显示“一些元素不能删除”的警告。</p><p>在使用这个标记时， Filename 必须是一个绝对路径。</p><p>skipifnotsilent<br>仅在 [Run] 段有效。告诉安装程序如果安装程序未在后台运行则跳过这个条目。</p><p>skipifsilent<br>仅在 [Run] 段有效。告诉安装程序如果安装程序在后台运行则跳过这个条目。</p><p>unchecked<br>仅在 [Run] 段有效。告诉安装程序初始为不选中选择框。如果用户希望处理这个条目，可以通过选取选择框执行。如果 postinstall 标记未同时指定，这个标记被忽略。</p><p>waituntilidle<br>如果指定了这个标记，它将在未输入期间等待，直到进程等待用户输入，而不是等待进程终止。(调用 WaitForInputIdle Win32 函数。) 不能与 nowait 或 waituntilterminated 组合使用。</p><p>waituntilterminated<br>如果指定这个标记，将等待到进程完全终止。注意这是一个默认动作 (也就是你不需要指定这个标记)，除非你使用了 shellexec 标记，在这种情况下，如果你要等待，需要指定这个标记。不能与 nowait 或 waituntilidle 组合使用。</p><h2 id="安装前卸载旧版本"><a href="#安装前卸载旧版本" class="headerlink" title="安装前卸载旧版本"></a>安装前卸载旧版本</h2><figure class="highlight pascal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">InitializeSetup</span><span class="params">()</span>:</span> boolean;</span><br><span class="line"><span class="keyword">var</span></span><br><span class="line">bRes: Boolean;</span><br><span class="line">ResultStr: <span class="keyword">String</span>;</span><br><span class="line">ResultCode: Integer;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line"><span class="keyword">if</span> RegQueryStringValue(HKLM, <span class="string">'SOFTWARE\WOW6432Node\Microsoft\Windows\CurrentVersion\Uninstall\&#123;4AA89D60-9EB2-4A69-B73E-67E3AC22CF8E&#125;_is1'</span>, <span class="string">'UninstallString'</span>, ResultStr) <span class="keyword">then</span></span><br><span class="line">  <span class="keyword">begin</span></span><br><span class="line">    MsgBox(<span class="string">'检测到系统之前安装过本程序,即将卸载低版本！'</span>, mbInformation, MB_OK);</span><br><span class="line">    ResultStr := RemoveQuotes(ResultStr);</span><br><span class="line">    bRes := Exec(ResultStr, <span class="string">'/silent'</span>, <span class="string">''</span>, SW_HIDE, ewWaitUntilTerminated, ResultCode);</span><br><span class="line">    <span class="keyword">if</span> bRes <span class="keyword">and</span> (ResultCode = <span class="number">0</span>) <span class="keyword">then</span> <span class="keyword">begin</span></span><br><span class="line">      result := true;</span><br><span class="line">      <span class="keyword">Exit</span>;</span><br><span class="line">    <span class="keyword">end</span> <span class="keyword">else</span></span><br><span class="line">      MsgBox(<span class="string">'卸载低版本失败！'</span>, mbInformation, MB_OK);</span><br><span class="line">      result:= false;</span><br><span class="line">      <span class="keyword">Exit</span>;</span><br><span class="line">  <span class="keyword">end</span>;</span><br><span class="line">  result := true;</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure><h2 id="检测服务是否存在并删除"><a href="#检测服务是否存在并删除" class="headerlink" title="检测服务是否存在并删除"></a>检测服务是否存在并删除</h2><figure class="highlight pascal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">DeleteService</span><span class="params">(strExeName: <span class="keyword">String</span>)</span>:</span> Boolean;</span><br><span class="line"><span class="keyword">var</span></span><br><span class="line">ErrorCode: Integer;</span><br><span class="line">bRes: Boolean;</span><br><span class="line">strCmdFind: <span class="keyword">String</span>;</span><br><span class="line">strCmdDelete: <span class="keyword">String</span>;</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">  strCmdFind := Format(<span class="string">'/c sc query "%s"'</span>, [strExeName]);</span><br><span class="line">  strCmdDelete := Format(<span class="string">'/c sc stop "%s" &amp; sc delete "%s"'</span>, [strExeName, strExeName]);</span><br><span class="line">  bRes := ShellExec(<span class="string">'open'</span>, ExpandConstant(<span class="string">'&#123;cmd&#125;'</span>), strCmdFind, <span class="string">''</span>, SW_HIDE, ewWaitUntilTerminated, ErrorCode);</span><br><span class="line">  <span class="keyword">if</span> bRes <span class="keyword">and</span> (ErrorCode = <span class="number">0</span>) <span class="keyword">then</span> <span class="keyword">begin</span></span><br><span class="line">      <span class="keyword">if</span> MsgBox(<span class="string">'检测到 '</span> + strExeName + <span class="string">' 服务存在，需要删除，是否继续？'</span>, mbConfirmation, MB_YESNO) = IDYES <span class="keyword">then</span> <span class="keyword">begin</span></span><br><span class="line">          bRes := ShellExec(<span class="string">'open'</span>, ExpandConstant(<span class="string">'&#123;cmd&#125;'</span>), strCmdDelete, <span class="string">''</span>, SW_HIDE, ewWaitUntilTerminated, ErrorCode);</span><br><span class="line">          <span class="keyword">if</span> bRes <span class="keyword">and</span> (ErrorCode = <span class="number">0</span>) <span class="keyword">then</span> <span class="keyword">begin</span></span><br><span class="line">             MsgBox(<span class="string">'服务 '</span>+strExeName+<span class="string">' 删除成功！'</span>, mbInformation, MB_OK);</span><br><span class="line">             result := true;</span><br><span class="line">             <span class="keyword">Exit</span>;</span><br><span class="line">          <span class="keyword">end</span> <span class="keyword">else</span></span><br><span class="line">             MsgBox(<span class="string">'删除失败，请手动删除服务 '</span> + strExeName, mbError, MB_OK);</span><br><span class="line">             result := false;</span><br><span class="line">             <span class="keyword">Exit</span>;</span><br><span class="line">      <span class="keyword">end</span> <span class="keyword">else</span></span><br><span class="line">      result := false;</span><br><span class="line">      <span class="keyword">Exit</span>;</span><br><span class="line">  <span class="keyword">end</span>;</span><br><span class="line">  MsgBox(<span class="string">'服务 '</span>+strExeName+<span class="string">' 不存在！'</span>, mbInformation, MB_OK);</span><br><span class="line">  result := true;</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      记录下 InnoSetup 的使用心得记录
    
    </summary>
    
      <category term="InnoSetup篇" scheme="http://blog.joylau.cn/categories/InnoSetup%E7%AF%87/"/>
    
    
      <category term="InnoSetup" scheme="http://blog.joylau.cn/tags/InnoSetup/"/>
    
  </entry>
  
  <entry>
    <title>git pull 和 git push 记住用户名密码</title>
    <link href="http://blog.joylau.cn/2019/09/03/Git-RememberMe/"/>
    <id>http://blog.joylau.cn/2019/09/03/Git-RememberMe/</id>
    <published>2019-09-03T09:14:14.000Z</published>
    <updated>2019-09-03T09:15:50.860Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><h2 id="执行"><a href="#执行" class="headerlink" title="执行"></a>执行</h2><p>执行 <code>git config credential.helper store</code></p><p>或者在 .gitconfig 添加</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[credential]</span><br><span class="line">helper = store</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      git pull 和 git push 记住用户名密码
    
    </summary>
    
      <category term="Git篇" scheme="http://blog.joylau.cn/categories/Git%E7%AF%87/"/>
    
    
      <category term="Git" scheme="http://blog.joylau.cn/tags/Git/"/>
    
  </entry>
  
  <entry>
    <title>Java 开启子线程执行其他操作，并获取结果</title>
    <link href="http://blog.joylau.cn/2019/08/23/Java-Future/"/>
    <id>http://blog.joylau.cn/2019/08/23/Java-Future/</id>
    <published>2019-08-23T02:01:43.000Z</published>
    <updated>2019-08-23T02:04:46.972Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><p>示例代码，10后抛出超时错误，并且取消子线程任务的执行</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">ExecutorService executorService = Executors.newSingleThreadExecutor();</span><br><span class="line">Future&lt;String&gt; future = executorService.submit(() -&gt; &#123;</span><br><span class="line">            ....</span><br><span class="line">        &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> future.get(<span class="number">10</span>, TimeUnit.SECONDS);</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">    future.cancel(<span class="keyword">true</span>);</span><br><span class="line">    executorService.shutdown();</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      Java 开启子线程执行其他操作，并获取结果
    
    </summary>
    
      <category term="Java篇" scheme="http://blog.joylau.cn/categories/Java%E7%AF%87/"/>
    
    
      <category term="Java" scheme="http://blog.joylau.cn/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>Spring Security 禁用匿名用户（anonymous().disable()）后无限重定向到登录页的问题解决</title>
    <link href="http://blog.joylau.cn/2019/08/19/SpringBoot-SpringSecurity-Anonymous/"/>
    <id>http://blog.joylau.cn/2019/08/19/SpringBoot-SpringSecurity-Anonymous/</id>
    <published>2019-08-19T07:06:48.000Z</published>
    <updated>2019-08-19T08:24:49.704Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>最近做了一个小 demo，需要使用到 spring security，于是就把以前写过的 spring security 的代码直接 copy 过来用了，没想到却出现了问题…..</p><h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>小 demo 直接使用 spring boot 构建，前后端不分离，于是自己写的登录界面，在 spring security 里配置好 loginPage 后，发现只要打开登录页就会无限重定向到登录页，其他任何请求都是如此</p><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableWebSecurity</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WebSecurityConfig</span> <span class="keyword">extends</span> <span class="title">WebSecurityConfigurerAdapter</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(HttpSecurity http)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        http</span><br><span class="line">                .anonymous().disable()</span><br><span class="line">                .csrf().disable()</span><br><span class="line">                .authorizeRequests()</span><br><span class="line">                .antMatchers(<span class="string">"/"</span>).permitAll()</span><br><span class="line">                .anyRequest().authenticated()<span class="comment">//其他请求必须授权后访问</span></span><br><span class="line">                .and()</span><br><span class="line">                .formLogin()</span><br><span class="line">                .loginPage(<span class="string">"/"</span>)</span><br><span class="line">                .loginProcessingUrl(<span class="string">"/login"</span>)</span><br><span class="line">                .permitAll();<span class="comment">//登录请求可以直接访问</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(AuthenticationManagerBuilder auth)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        auth.inMemoryAuthentication().passwordEncoder(passwordEncoder()).withUser(<span class="string">"admin"</span>).password(passwordEncoder().encode(<span class="string">"123456"</span>)).roles(<span class="string">"ADMIN"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> SessionRegistry <span class="title">sessionRegistry</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> SessionRegistryImpl();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> BCryptPasswordEncoder <span class="title">passwordEncoder</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> BCryptPasswordEncoder();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> AuthenticationSuccess <span class="title">authenticationSuccessHandler</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> AuthenticationSuccess();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> AuthenticationFailureHandler <span class="title">authenticationFailureHandler</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> AuthenticationFailure();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h2><p>一开始的直觉告诉我，登录页的请求 <strong>“/“</strong> 没有认证，而没有认证的请求会重定向到登录页，也就还是 <strong>“/“</strong>,于是就造成了重定向</p><p>于是我先添加请求 <strong>“/“</strong>, 不进行认证即可访问，也就是上面配置的 <code>.antMatchers(&quot;/&quot;).permitAll()</code></p><p>重启后发现不起作用，依旧无限重定向</p><p>然而可怕的是控制台没有打印任何日志….</p><p>一下子懵逼了，不知如何解决….</p><p>冷静下来分析后—</p><p>我是这样解决的</p><h3 id="打开-debug-日志"><a href="#打开-debug-日志" class="headerlink" title="打开 debug 日志"></a>打开 debug 日志</h3><p>配置 spring security 的日志级别</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">logging:</span></span><br><span class="line"><span class="attr">  level:</span></span><br><span class="line">    <span class="string">org.springframework.security:</span> <span class="string">debug</span></span><br></pre></td></tr></table></figure><p>启动时看到日志截取如下</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">2019-08-19 15:19:06.628 DEBUG 19133 --- [           main] edFilterInvocationSecurityMetadataSource : Adding web access control expression &apos;permitAll&apos;, for ExactUrl [processUrl=&apos;/?error&apos;]</span><br><span class="line">2019-08-19 15:19:06.631 DEBUG 19133 --- [           main] edFilterInvocationSecurityMetadataSource : Adding web access control expression &apos;permitAll&apos;, for ExactUrl [processUrl=&apos;/login&apos;]</span><br><span class="line">2019-08-19 15:19:06.631 DEBUG 19133 --- [           main] edFilterInvocationSecurityMetadataSource : Adding web access control expression &apos;permitAll&apos;, for ExactUrl [processUrl=&apos;/&apos;]</span><br><span class="line">2019-08-19 15:19:06.631 DEBUG 19133 --- [           main] edFilterInvocationSecurityMetadataSource : Adding web access control expression &apos;permitAll&apos;, for Ant [pattern=&apos;/&apos;]</span><br><span class="line">2019-08-19 15:19:06.632 DEBUG 19133 --- [           main] edFilterInvocationSecurityMetadataSource : Adding web access control expression &apos;authenticated&apos;, for any request</span><br><span class="line">2019-08-19 15:19:06.646 DEBUG 19133 --- [           main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes</span><br><span class="line">2019-08-19 15:19:06.648 DEBUG 19133 --- [           main] o.s.s.w.a.i.FilterSecurityInterceptor    : Validated configuration attributes</span><br><span class="line"></span><br><span class="line">2019-08-19 15:34:24.451  INFO 22575 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Creating filter chain: any request, [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@32c6d164, org.springframework.security.web.context.SecurityContextPersistenceFilter@390a7532, org.springframework.security.web.header.HeaderWriterFilter@5ebf776c, org.springframework.security.web.authentication.logout.LogoutFilter@523ade68, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@652f26da, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7d49a1a0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a12f3e7, org.springframework.security.web.session.SessionManagementFilter@54ae1240, org.springframework.security.web.access.ExceptionTranslationFilter@3c62f69a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2b3242a5]</span><br></pre></td></tr></table></figure><p>可以看到 <strong>“/“</strong> 添加成功了，可是为什么好像没有生效呢？</p><h3 id="错误信息"><a href="#错误信息" class="headerlink" title="错误信息"></a>错误信息</h3><p>继续往下走，刷新登录页，发现控制台打印了错误信息如下“</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line">2019-08-19 15:21:16.813 DEBUG 19133 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : / at position 1 of 10 in additional filter chain; firing Filter: &apos;WebAsyncManagerIntegrationFilter&apos;</span><br><span class="line">2019-08-19 15:21:16.815 DEBUG 19133 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : / at position 2 of 10 in additional filter chain; firing Filter: &apos;SecurityContextPersistenceFilter&apos;</span><br><span class="line">2019-08-19 15:21:16.816 DEBUG 19133 --- [nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : No HttpSession currently exists</span><br><span class="line">2019-08-19 15:21:16.817 DEBUG 19133 --- [nio-8080-exec-2] w.c.HttpSessionSecurityContextRepository : No SecurityContext was available from the HttpSession: null. A new one will be created.</span><br><span class="line">2019-08-19 15:21:16.822 DEBUG 19133 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : / at position 3 of 10 in additional filter chain; firing Filter: &apos;HeaderWriterFilter&apos;</span><br><span class="line">2019-08-19 15:21:16.825 DEBUG 19133 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : / at position 4 of 10 in additional filter chain; firing Filter: &apos;LogoutFilter&apos;</span><br><span class="line">2019-08-19 15:21:16.825 DEBUG 19133 --- [nio-8080-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern=&apos;/logout&apos;, GET]</span><br><span class="line">2019-08-19 15:21:16.825 DEBUG 19133 --- [nio-8080-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Checking match of request : &apos;/&apos;; against &apos;/logout&apos;</span><br><span class="line">2019-08-19 15:21:16.826 DEBUG 19133 --- [nio-8080-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern=&apos;/logout&apos;, POST]</span><br><span class="line">2019-08-19 15:21:16.826 DEBUG 19133 --- [nio-8080-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request &apos;GET /&apos; doesn&apos;t match &apos;POST /logout&apos;</span><br><span class="line">2019-08-19 15:21:16.826 DEBUG 19133 --- [nio-8080-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern=&apos;/logout&apos;, PUT]</span><br><span class="line">2019-08-19 15:21:16.826 DEBUG 19133 --- [nio-8080-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request &apos;GET /&apos; doesn&apos;t match &apos;PUT /logout&apos;</span><br><span class="line">2019-08-19 15:21:16.826 DEBUG 19133 --- [nio-8080-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : Trying to match using Ant [pattern=&apos;/logout&apos;, DELETE]</span><br><span class="line">2019-08-19 15:21:16.827 DEBUG 19133 --- [nio-8080-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request &apos;GET /&apos; doesn&apos;t match &apos;DELETE /logout&apos;</span><br><span class="line">2019-08-19 15:21:16.827 DEBUG 19133 --- [nio-8080-exec-2] o.s.s.web.util.matcher.OrRequestMatcher  : No matches found</span><br><span class="line">2019-08-19 15:21:16.827 DEBUG 19133 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : / at position 5 of 10 in additional filter chain; firing Filter: &apos;UsernamePasswordAuthenticationFilter&apos;</span><br><span class="line">2019-08-19 15:21:16.827 DEBUG 19133 --- [nio-8080-exec-2] o.s.s.w.u.matcher.AntPathRequestMatcher  : Request &apos;GET /&apos; doesn&apos;t match &apos;POST /login&apos;</span><br><span class="line">2019-08-19 15:21:16.828 DEBUG 19133 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : / at position 6 of 10 in additional filter chain; firing Filter: &apos;RequestCacheAwareFilter&apos;</span><br><span class="line">2019-08-19 15:21:16.828 DEBUG 19133 --- [nio-8080-exec-2] o.s.s.w.s.HttpSessionRequestCache        : saved request doesn&apos;t match</span><br><span class="line">2019-08-19 15:21:16.829 DEBUG 19133 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : / at position 7 of 10 in additional filter chain; firing Filter: &apos;SecurityContextHolderAwareRequestFilter&apos;</span><br><span class="line">2019-08-19 15:21:16.832 DEBUG 19133 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : / at position 8 of 10 in additional filter chain; firing Filter: &apos;SessionManagementFilter&apos;</span><br><span class="line">2019-08-19 15:21:16.833 DEBUG 19133 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : / at position 9 of 10 in additional filter chain; firing Filter: &apos;ExceptionTranslationFilter&apos;</span><br><span class="line">2019-08-19 15:21:21.085 DEBUG 19133 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : / at position 10 of 10 in additional filter chain; firing Filter: &apos;FilterSecurityInterceptor&apos;</span><br><span class="line">2019-08-19 15:21:21.440 DEBUG 19133 --- [nio-8080-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Secure object: FilterInvocation: URL: /; Attributes: [permitAll]</span><br><span class="line">2019-08-19 15:21:21.450 DEBUG 19133 --- [nio-8080-exec-2] o.s.s.w.a.ExceptionTranslationFilter     : Authentication exception occurred; redirecting to authentication entry point</span><br><span class="line"></span><br><span class="line">org.springframework.security.authentication.AuthenticationCredentialsNotFoundException: An Authentication object was not found in the SecurityContext</span><br><span class="line">at org.springframework.security.access.intercept.AbstractSecurityInterceptor.credentialsNotFound(AbstractSecurityInterceptor.java:379) ~[spring-security-core-5.1.6.RELEASE.jar:5.1.6.RELEASE]</span><br><span class="line">at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:223) ~[spring-security-core-5.1.6.RELEASE.jar:5.1.6.RELEASE]</span><br><span class="line">at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]</span><br><span class="line">at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]</span><br><span class="line">at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]</span><br><span class="line">at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119) ~[spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]</span><br><span class="line">at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]</span><br><span class="line">at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137) [spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]</span><br><span class="line">at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]</span><br><span class="line">at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170) [spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]</span><br><span class="line">at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]</span><br><span class="line">at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) [spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]</span><br><span class="line">at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]</span><br><span class="line">at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200) [spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]</span><br><span class="line">at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]</span><br><span class="line">at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) [spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]</span><br><span class="line">at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]</span><br><span class="line">at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:74) [spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]</span><br><span class="line">at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) [spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]</span><br><span class="line">at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]</span><br><span class="line">at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) [spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]</span><br><span class="line">at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]</span><br><span class="line">at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) [spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]</span><br><span class="line">at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) [spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]</span><br><span class="line">at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334) [spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]</span><br><span class="line">at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215) [spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]</span><br><span class="line">at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178) [spring-security-web-5.1.6.RELEASE.jar:5.1.6.RELEASE]</span><br><span class="line">at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357) [spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]</span><br><span class="line">at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270) [spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]</span><br><span class="line">at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.22.jar:9.0.22]</span><br><span class="line">at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.22.jar:9.0.22]</span><br><span class="line">at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]</span><br><span class="line">at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) [spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]</span><br><span class="line">at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.22.jar:9.0.22]</span><br><span class="line">at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.22.jar:9.0.22]</span><br><span class="line">at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:92) [spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]</span><br><span class="line">at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) [spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]</span><br><span class="line">at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.22.jar:9.0.22]</span><br><span class="line">at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.22.jar:9.0.22]</span><br><span class="line">at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:93) [spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]</span><br><span class="line">at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) [spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]</span><br><span class="line">at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.22.jar:9.0.22]</span><br><span class="line">at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.22.jar:9.0.22]</span><br><span class="line">at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200) [spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]</span><br><span class="line">at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:118) [spring-web-5.1.9.RELEASE.jar:5.1.9.RELEASE]</span><br><span class="line">at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-9.0.22.jar:9.0.22]</span><br><span class="line">at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-9.0.22.jar:9.0.22]</span><br><span class="line">at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) [tomcat-embed-core-9.0.22.jar:9.0.22]</span><br><span class="line">at org.apache.catalina.core.StandardContextValve.__invoke(StandardContextValve.java:96) [tomcat-embed-core-9.0.22.jar:9.0.22]</span><br><span class="line">at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:41002) [tomcat-embed-core-9.0.22.jar:9.0.22]</span><br><span class="line">at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490) [tomcat-embed-core-9.0.22.jar:9.0.22]</span><br><span class="line">at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139) [tomcat-embed-core-9.0.22.jar:9.0.22]</span><br><span class="line">at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.22.jar:9.0.22]</span><br><span class="line">at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) [tomcat-embed-core-9.0.22.jar:9.0.22]</span><br><span class="line">at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343) [tomcat-embed-core-9.0.22.jar:9.0.22]</span><br><span class="line">at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408) [tomcat-embed-core-9.0.22.jar:9.0.22]</span><br><span class="line">at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-9.0.22.jar:9.0.22]</span><br><span class="line">at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:853) [tomcat-embed-core-9.0.22.jar:9.0.22]</span><br><span class="line">at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1587) [tomcat-embed-core-9.0.22.jar:9.0.22]</span><br><span class="line">at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.22.jar:9.0.22]</span><br><span class="line">at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1135) [na:na]</span><br><span class="line">at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) [na:na]</span><br><span class="line">at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.22.jar:9.0.22]</span><br><span class="line">at java.base/java.lang.Thread.run(Thread.java:844) [na:na]</span><br></pre></td></tr></table></figure><p>看到2个关键的错误信息：</p><ol><li><strong>Authentication exception occurred; redirecting to authentication entry point</strong></li><li><strong>An Authentication object was not found in the SecurityContext</strong></li></ol><p>意思是认证异常，重定向到认证入口点，异常的原因是在 SecurityContext 没有找到认证信息对象</p><h3 id="排查"><a href="#排查" class="headerlink" title="排查"></a>排查</h3><p>根据错误信息，我先到 <code>ExceptionTranslationFilter</code> 类中去查看问题出在什么地方</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doFilter</span><span class="params">(ServletRequest req, ServletResponse res, FilterChain chain)</span></span></span><br><span class="line"><span class="function"><span class="keyword">throws</span> IOException, ServletException </span>&#123;</span><br><span class="line">HttpServletRequest request = (HttpServletRequest) req;</span><br><span class="line">HttpServletResponse response = (HttpServletResponse) res;</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">chain.doFilter(request, response);</span><br><span class="line"></span><br><span class="line">logger.debug(<span class="string">"Chain processed normally"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span> (IOException ex) &#123;</span><br><span class="line"><span class="keyword">throw</span> ex;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span> (Exception ex) &#123;</span><br><span class="line"><span class="comment">// Try to extract a SpringSecurityException from the stacktrace</span></span><br><span class="line">Throwable[] causeChain = throwableAnalyzer.determineCauseChain(ex);</span><br><span class="line">RuntimeException ase = (AuthenticationException) throwableAnalyzer</span><br><span class="line">.getFirstThrowableOfType(AuthenticationException.class, causeChain);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (ase == <span class="keyword">null</span>) &#123;</span><br><span class="line">ase = (AccessDeniedException) throwableAnalyzer.getFirstThrowableOfType(</span><br><span class="line">AccessDeniedException.class, causeChain);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (ase != <span class="keyword">null</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (response.isCommitted()) &#123;</span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> ServletException(<span class="string">"Unable to handle the Spring Security Exception because the response is already committed."</span>, ex);</span><br><span class="line">&#125;</span><br><span class="line">handleSpringSecurityException(request, response, chain, ase);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="comment">// Rethrow ServletExceptions and RuntimeExceptions as-is</span></span><br><span class="line"><span class="keyword">if</span> (ex <span class="keyword">instanceof</span> ServletException) &#123;</span><br><span class="line"><span class="keyword">throw</span> (ServletException) ex;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (ex <span class="keyword">instanceof</span> RuntimeException) &#123;</span><br><span class="line"><span class="keyword">throw</span> (RuntimeException) ex;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Wrap other Exceptions. This shouldn't actually happen</span></span><br><span class="line"><span class="comment">// as we've already covered all the possibilities for doFilter</span></span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(ex);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ExceptionTranslationFilter 没有什么逻辑，都是对异常的处理， 然后直接进入下一个过滤器了，</p><p>那么这时我们就需要了解 spring security 的过滤器链的顺序</p><p>我们来看最开始打印的 debug 的日志信息，我整理一下，有如下顺序：</p><p><strong>WebAsyncManagerIntegrationFilter</strong><br><strong>SecurityContextPersistenceFilter</strong><br><strong>HeaderWriterFilter</strong><br><strong>LogoutFilter</strong><br><strong>UsernamePasswordAuthenticationFilter</strong><br><strong>RequestCacheAwareFilter</strong><br><strong>SecurityContextHolderAwareRequestFilter</strong><br><strong>SessionManagementFilter</strong><br><strong>ExceptionTranslationFilter</strong><br><strong>FilterSecurityInterceptor</strong></p><p>这是spring security 的默认过滤器链，完整的过滤器链可以通过查看源码详细看到， 在类 FilterComparator 中：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">FilterComparator() &#123;</span><br><span class="line">Step order = <span class="keyword">new</span> Step(INITIAL_ORDER, ORDER_STEP);</span><br><span class="line">put(ChannelProcessingFilter.class, order.next());</span><br><span class="line">put(ConcurrentSessionFilter.class, order.next());</span><br><span class="line">put(WebAsyncManagerIntegrationFilter.class, order.next());</span><br><span class="line">put(SecurityContextPersistenceFilter.class, order.next());</span><br><span class="line">put(HeaderWriterFilter.class, order.next());</span><br><span class="line">put(CorsFilter.class, order.next());</span><br><span class="line">put(CsrfFilter.class, order.next());</span><br><span class="line">put(LogoutFilter.class, order.next());</span><br><span class="line">filterToOrder.put(</span><br><span class="line"><span class="string">"org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter"</span>,</span><br><span class="line">order.next());</span><br><span class="line">put(X509AuthenticationFilter.class, order.next());</span><br><span class="line">put(AbstractPreAuthenticatedProcessingFilter.class, order.next());</span><br><span class="line">filterToOrder.put(<span class="string">"org.springframework.security.cas.web.CasAuthenticationFilter"</span>,</span><br><span class="line">order.next());</span><br><span class="line">filterToOrder.put(</span><br><span class="line"><span class="string">"org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter"</span>,</span><br><span class="line">order.next());</span><br><span class="line">put(UsernamePasswordAuthenticationFilter.class, order.next());</span><br><span class="line">put(ConcurrentSessionFilter.class, order.next());</span><br><span class="line">filterToOrder.put(</span><br><span class="line"><span class="string">"org.springframework.security.openid.OpenIDAuthenticationFilter"</span>, order.next());</span><br><span class="line">put(DefaultLoginPageGeneratingFilter.class, order.next());</span><br><span class="line">put(DefaultLogoutPageGeneratingFilter.class, order.next());</span><br><span class="line">put(ConcurrentSessionFilter.class, order.next());</span><br><span class="line">put(DigestAuthenticationFilter.class, order.next());</span><br><span class="line">filterToOrder.put(</span><br><span class="line"><span class="string">"org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter"</span>, order.next());</span><br><span class="line">put(BasicAuthenticationFilter.class, order.next());</span><br><span class="line">put(RequestCacheAwareFilter.class, order.next());</span><br><span class="line">put(SecurityContextHolderAwareRequestFilter.class, order.next());</span><br><span class="line">put(JaasApiIntegrationFilter.class, order.next());</span><br><span class="line">put(RememberMeAuthenticationFilter.class, order.next());</span><br><span class="line">put(AnonymousAuthenticationFilter.class, order.next());</span><br><span class="line">filterToOrder.put(</span><br><span class="line"><span class="string">"org.springframework.security.oauth2.client.web.OAuth2AuthorizationCodeGrantFilter"</span>,</span><br><span class="line">order.next());</span><br><span class="line">put(SessionManagementFilter.class, order.next());</span><br><span class="line">put(ExceptionTranslationFilter.class, order.next());</span><br><span class="line">put(FilterSecurityInterceptor.class, order.next());</span><br><span class="line">put(SwitchUserFilter.class, order.next());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>回到原来的问题， <code>ExceptionTranslationFilter</code> 过滤器后是 <code>FilterSecurityInterceptor</code> 过滤器</p><p>再来看 <code>FilterSecurityInterceptor</code> 的源码</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doFilter</span><span class="params">(ServletRequest request, ServletResponse response,</span></span></span><br><span class="line"><span class="function"><span class="params">        FilterChain chain)</span> <span class="keyword">throws</span> IOException, ServletException </span>&#123;</span><br><span class="line">    FilterInvocation fi = <span class="keyword">new</span> FilterInvocation(request, response, chain);</span><br><span class="line">    invoke(fi);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">invoke</span><span class="params">(FilterInvocation fi)</span> <span class="keyword">throws</span> IOException, ServletException </span>&#123;</span><br><span class="line"><span class="keyword">if</span> ((fi.getRequest() != <span class="keyword">null</span>)</span><br><span class="line">&amp;&amp; (fi.getRequest().getAttribute(FILTER_APPLIED) != <span class="keyword">null</span>)</span><br><span class="line">&amp;&amp; observeOncePerRequest) &#123;</span><br><span class="line"><span class="comment">// filter already applied to this request and user wants us to observe</span></span><br><span class="line"><span class="comment">// once-per-request handling, so don't re-do security checking</span></span><br><span class="line">fi.getChain().doFilter(fi.getRequest(), fi.getResponse());</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="comment">// first time this request being called, so perform security checking</span></span><br><span class="line"><span class="keyword">if</span> (fi.getRequest() != <span class="keyword">null</span> &amp;&amp; observeOncePerRequest) &#123;</span><br><span class="line">fi.getRequest().setAttribute(FILTER_APPLIED, Boolean.TRUE);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">InterceptorStatusToken token = <span class="keyword">super</span>.beforeInvocation(fi);</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">fi.getChain().doFilter(fi.getRequest(), fi.getResponse());</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">finally</span> &#123;</span><br><span class="line"><span class="keyword">super</span>.finallyInvocation(token);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">super</span>.afterInvocation(token, <span class="keyword">null</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这里的看的主要方法是 <code>invoke（fi）</code></p><p>通过调试看到， 问题出在 beforeInvocation（fi） 方法里：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> InterceptorStatusToken <span class="title">beforeInvocation</span><span class="params">(Object object)</span> </span>&#123;</span><br><span class="line">Assert.notNull(object, <span class="string">"Object was null"</span>);</span><br><span class="line"><span class="keyword">final</span> <span class="keyword">boolean</span> debug = logger.isDebugEnabled();</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!getSecureObjectClass().isAssignableFrom(object.getClass())) &#123;</span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(</span><br><span class="line"><span class="string">"Security invocation attempted for object "</span></span><br><span class="line">+ object.getClass().getName()</span><br><span class="line">+ <span class="string">" but AbstractSecurityInterceptor only configured to support secure objects of type: "</span></span><br><span class="line">+ getSecureObjectClass());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Collection&lt;ConfigAttribute&gt; attributes = <span class="keyword">this</span>.obtainSecurityMetadataSource()</span><br><span class="line">.getAttributes(object);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (attributes == <span class="keyword">null</span> || attributes.isEmpty()) &#123;</span><br><span class="line"><span class="keyword">if</span> (rejectPublicInvocations) &#123;</span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(</span><br><span class="line"><span class="string">"Secure object invocation "</span></span><br><span class="line">+ object</span><br><span class="line">+ <span class="string">" was denied as public invocations are not allowed via this interceptor. "</span></span><br><span class="line">+ <span class="string">"This indicates a configuration error because the "</span></span><br><span class="line">+ <span class="string">"rejectPublicInvocations property is set to 'true'"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (debug) &#123;</span><br><span class="line">logger.debug(<span class="string">"Public object - authentication not attempted"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">publishEvent(<span class="keyword">new</span> PublicInvocationEvent(object));</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>; <span class="comment">// no further work post-invocation</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (debug) &#123;</span><br><span class="line">logger.debug(<span class="string">"Secure object: "</span> + object + <span class="string">"; Attributes: "</span> + attributes);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (SecurityContextHolder.getContext().getAuthentication() == <span class="keyword">null</span>) &#123;</span><br><span class="line">credentialsNotFound(messages.getMessage(</span><br><span class="line"><span class="string">"AbstractSecurityInterceptor.authenticationNotFound"</span>,</span><br><span class="line"><span class="string">"An Authentication object was not found in the SecurityContext"</span>),</span><br><span class="line">object, attributes);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Authentication authenticated = authenticateIfRequired();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Attempt authorization</span></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">this</span>.accessDecisionManager.decide(authenticated, object, attributes);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span> (AccessDeniedException accessDeniedException) &#123;</span><br><span class="line">publishEvent(<span class="keyword">new</span> AuthorizationFailureEvent(object, attributes, authenticated,</span><br><span class="line">accessDeniedException));</span><br><span class="line"></span><br><span class="line"><span class="keyword">throw</span> accessDeniedException;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (debug) &#123;</span><br><span class="line">logger.debug(<span class="string">"Authorization successful"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (publishAuthorizationSuccess) &#123;</span><br><span class="line">publishEvent(<span class="keyword">new</span> AuthorizedEvent(object, attributes, authenticated));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Attempt to run as a different user</span></span><br><span class="line">Authentication runAs = <span class="keyword">this</span>.runAsManager.buildRunAs(authenticated, object,</span><br><span class="line">attributes);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (runAs == <span class="keyword">null</span>) &#123;</span><br><span class="line"><span class="keyword">if</span> (debug) &#123;</span><br><span class="line">logger.debug(<span class="string">"RunAsManager did not change Authentication object"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// no further work post-invocation</span></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> InterceptorStatusToken(SecurityContextHolder.getContext(), <span class="keyword">false</span>,</span><br><span class="line">attributes, object);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (debug) &#123;</span><br><span class="line">logger.debug(<span class="string">"Switching to RunAs Authentication: "</span> + runAs);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">SecurityContext origCtx = SecurityContextHolder.getContext();</span><br><span class="line">SecurityContextHolder.setContext(SecurityContextHolder.createEmptyContext());</span><br><span class="line">SecurityContextHolder.getContext().setAuthentication(runAs);</span><br><span class="line"></span><br><span class="line"><span class="comment">// need to revert to token.Authenticated post-invocation</span></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> InterceptorStatusToken(origCtx, <span class="keyword">true</span>, attributes, object);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>继续调试，问题定位在了 <code>if (SecurityContextHolder.getContext().getAuthentication() == null)</code></p><p>也就打印出了日志 <code>An Authentication object was not found in the SecurityContext</code>，这也就对的上号了</p><p>继续分析</p><p>为什么 <code>SecurityContext</code> 里的 <code>Authentication</code> 会为空呢？</p><p>据官方文档解释 spring security 默认是会有匿名的 Authentication 的啊</p><p>一想到这里，马上看下配置，原来是我禁用了匿名用户， <code>.anonymous().disable()</code> 怪不得这样。。。。</p><p>可是一想，为什么以前项目这么配置就没有出现这个问题呢？？？</p><p>对比发现，以前的项目是前后端分离的，不需要配置 <code>loginPage</code>, 而且登录成功和登录失败都是返回状态码和错误信息的，和我的这个小 demo 不一样，这个是前后端不分离的，需要做页面的跳转</p><h3 id="为什么如此"><a href="#为什么如此" class="headerlink" title="为什么如此"></a>为什么如此</h3><p>这时搞清楚之后，我把 <code>.anonymous().disable()</code> 注释掉再重启，刷新下页面，果然登录页出来了，问题不再了</p><p>那么为什么会这样呢？？？</p><p>我仔细分析了一下， 看下注释掉配置会有说明不同</p><p>首先从过滤器链来看， 这里我不再贴日志信息了， 过滤器链整理如下：</p><p><strong>WebAsyncManagerIntegrationFilter</strong><br><strong>SecurityContextPersistenceFilter</strong><br><strong>HeaderWriterFilter</strong><br><strong>LogoutFilter</strong><br><strong>UsernamePasswordAuthenticationFilter</strong><br><strong>RequestCacheAwareFilter</strong><br><strong>SecurityContextHolderAwareRequestFilter</strong><br><code>AnonymousAuthenticationFilter</code><br><strong>SessionManagementFilter</strong><br><strong>ExceptionTranslationFilter</strong><br><strong>FilterSecurityInterceptor</strong></p><p>对比发现，过滤器链里多了一个过滤器 <code>AnonymousAuthenticationFilter</code>，来看看 <code>AnonymousAuthenticationFilter</code> 做了什么事情</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doFilter</span><span class="params">(ServletRequest req, ServletResponse res, FilterChain chain)</span></span></span><br><span class="line"><span class="function"><span class="keyword">throws</span> IOException, ServletException </span>&#123;</span><br><span class="line">    </span><br><span class="line"><span class="keyword">if</span> (SecurityContextHolder.getContext().getAuthentication() == <span class="keyword">null</span>) &#123;</span><br><span class="line">SecurityContextHolder.getContext().setAuthentication(</span><br><span class="line">createAuthentication((HttpServletRequest) req));</span><br><span class="line">    </span><br><span class="line"><span class="keyword">if</span> (logger.isDebugEnabled()) &#123;</span><br><span class="line">logger.debug(<span class="string">"Populated SecurityContextHolder with anonymous token: '"</span></span><br><span class="line">+ SecurityContextHolder.getContext().getAuthentication() + <span class="string">"'"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (logger.isDebugEnabled()) &#123;</span><br><span class="line">logger.debug(<span class="string">"SecurityContextHolder not populated with anonymous token, as it already contained: '"</span></span><br><span class="line">+ SecurityContextHolder.getContext().getAuthentication() + <span class="string">"'"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line">chain.doFilter(req, res);</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">protected</span> Authentication <span class="title">createAuthentication</span><span class="params">(HttpServletRequest request)</span> </span>&#123;</span><br><span class="line">AnonymousAuthenticationToken auth = <span class="keyword">new</span> AnonymousAuthenticationToken(key,</span><br><span class="line">principal, authorities);</span><br><span class="line">auth.setDetails(authenticationDetailsSource.buildDetails(request));</span><br><span class="line">    </span><br><span class="line"><span class="keyword">return</span> auth;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>看到了关键信息 <code>createAuthentication</code> 和 <code>setAuthentication</code>， 那么在后续的过滤器链中就有了认证信息，不再报错了</p><p>这也就是为什么解决了这个问题的原因所在</p><h3 id="重定向的原因"><a href="#重定向的原因" class="headerlink" title="重定向的原因"></a>重定向的原因</h3><p>至于为什么会无限的重定向到登录页，还得再回过头来看 <code>ExceptionTranslationFilter</code> 类，这里有个处理异常的方法</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">handleSpringSecurityException</span><span class="params">(HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">HttpServletResponse response, FilterChain chain, RuntimeException exception)</span></span></span><br><span class="line"><span class="function"><span class="keyword">throws</span> IOException, ServletException </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (exception <span class="keyword">instanceof</span> AuthenticationException) &#123;</span><br><span class="line">logger.debug(</span><br><span class="line"><span class="string">"Authentication exception occurred; redirecting to authentication entry point"</span>,</span><br><span class="line">exception);</span><br><span class="line">    </span><br><span class="line">sendStartAuthentication(request, response, chain,</span><br><span class="line">(AuthenticationException) exception);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (exception <span class="keyword">instanceof</span> AccessDeniedException) &#123;</span><br><span class="line">Authentication authentication = SecurityContextHolder.getContext().getAuthentication();</span><br><span class="line"><span class="keyword">if</span> (authenticationTrustResolver.isAnonymous(authentication) || authenticationTrustResolver.isRememberMe(authentication)) &#123;</span><br><span class="line">logger.debug(</span><br><span class="line"><span class="string">"Access is denied (user is "</span> + (authenticationTrustResolver.isAnonymous(authentication) ? <span class="string">"anonymous"</span> : <span class="string">"not fully authenticated"</span>) + <span class="string">"); redirecting to authentication entry point"</span>,</span><br><span class="line">exception);</span><br><span class="line">    </span><br><span class="line">sendStartAuthentication(</span><br><span class="line">request,</span><br><span class="line">response,</span><br><span class="line">chain,</span><br><span class="line"><span class="keyword">new</span> InsufficientAuthenticationException(</span><br><span class="line">messages.getMessage(</span><br><span class="line"><span class="string">"ExceptionTranslationFilter.insufficientAuthentication"</span>,</span><br><span class="line"><span class="string">"Full authentication is required to access this resource"</span>)));</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">logger.debug(</span><br><span class="line"><span class="string">"Access is denied (user is not anonymous); delegating to AccessDeniedHandler"</span>,</span><br><span class="line">exception);</span><br><span class="line">    </span><br><span class="line">accessDeniedHandler.handle(request, response,</span><br><span class="line">(AccessDeniedException) exception);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">sendStartAuthentication</span><span class="params">(HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">HttpServletResponse response, FilterChain chain,</span></span></span><br><span class="line"><span class="function"><span class="params">AuthenticationException reason)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line"><span class="comment">// SEC-112: Clear the SecurityContextHolder's Authentication, as the</span></span><br><span class="line"><span class="comment">// existing Authentication is no longer considered valid</span></span><br><span class="line">SecurityContextHolder.getContext().setAuthentication(<span class="keyword">null</span>);</span><br><span class="line">requestCache.saveRequest(request, response);</span><br><span class="line">logger.debug(<span class="string">"Calling Authentication entry point."</span>);</span><br><span class="line">authenticationEntryPoint.commence(request, response, reason);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>通过调试， 发现进入了 <code>sendStartAuthentication</code> 方法，继续调试，进入 <code>authenticationEntryPoint.commence</code> 查看</p><p>实现类为 <code>LoginUrlAuthenticationEntryPoint</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">commence</span><span class="params">(HttpServletRequest request, HttpServletResponse response,</span></span></span><br><span class="line"><span class="function"><span class="params">AuthenticationException authException)</span> <span class="keyword">throws</span> IOException, ServletException </span>&#123;</span><br><span class="line">    </span><br><span class="line">String redirectUrl = <span class="keyword">null</span>;</span><br><span class="line">    </span><br><span class="line"><span class="keyword">if</span> (useForward) &#123;</span><br><span class="line">    </span><br><span class="line"><span class="keyword">if</span> (forceHttps &amp;&amp; <span class="string">"http"</span>.equals(request.getScheme())) &#123;</span><br><span class="line"><span class="comment">// First redirect the current request to HTTPS.</span></span><br><span class="line"><span class="comment">// When that request is received, the forward to the login page will be</span></span><br><span class="line"><span class="comment">// used.</span></span><br><span class="line">redirectUrl = buildHttpsRedirectUrlForRequest(request);</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line"><span class="keyword">if</span> (redirectUrl == <span class="keyword">null</span>) &#123;</span><br><span class="line">String loginForm = determineUrlToUseForThisRequest(request, response,</span><br><span class="line">authException);</span><br><span class="line">    </span><br><span class="line"><span class="keyword">if</span> (logger.isDebugEnabled()) &#123;</span><br><span class="line">logger.debug(<span class="string">"Server side forward to: "</span> + loginForm);</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line">RequestDispatcher dispatcher = request.getRequestDispatcher(loginForm);</span><br><span class="line">    </span><br><span class="line">dispatcher.forward(request, response);</span><br><span class="line">    </span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line"><span class="comment">// redirect to login page. Use https if forceHttps true</span></span><br><span class="line">    </span><br><span class="line">redirectUrl = buildRedirectUrlToLoginPage(request, response, authException);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line">redirectStrategy.sendRedirect(request, response, redirectUrl);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这里的 <code>redirectUrl</code> 通过调试发现就是 <code>&quot;/&quot;</code></p><p>于是无限重定向的原因也清楚了。</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>解决方式有 2 种： </p><ol><li>上面所说的注释掉 <code>.anonymous().disable()</code></li><li>配置 <code>webSecurity.ignoring().antMatchers(&quot;/&quot;)</code></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(WebSecurity web)</span> </span>&#123;</span><br><span class="line">    web.ignoring().antMatchers(<span class="string">"/"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这种方法一般是配置系统静态资源用，配置的请求根本不会进入 spring security 的过滤器链，直接放行，<br>而 <code>.antMatchers(&quot;/&quot;).permitAll()</code> 是会进入 spring security 的过滤器链的，这是 2 者的主要区别<br>结合实际情况，第二种方式不是太好，建议第一种方式。</p>]]></content>
    
    <summary type="html">
    
      最近做了一个小 demo，需要使用到 spring security，于是就把以前写过的 spring security 的代码直接 copy 过来用了，没想到却出现了问题.....
    
    </summary>
    
      <category term="SpringSecurity篇" scheme="http://blog.joylau.cn/categories/SpringSecurity%E7%AF%87/"/>
    
    
      <category term="SpringBoot" scheme="http://blog.joylau.cn/tags/SpringBoot/"/>
    
      <category term="SpringSecurity" scheme="http://blog.joylau.cn/tags/SpringSecurity/"/>
    
  </entry>
  
  <entry>
    <title>日常折腾 --- 硕美科 E95x 耳机复活记</title>
    <link href="http://blog.joylau.cn/2019/07/26/Daily-Somix-E95X/"/>
    <id>http://blog.joylau.cn/2019/07/26/Daily-Somix-E95X/</id>
    <published>2019-07-26T02:33:13.000Z</published>
    <updated>2019-07-29T16:01:04.748Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>我这款硕美科耳机是 2015 年入手的,到现在已经 4 年多了,日常使用中汗水已经腐蚀了耳机的皮套和头悬梁的皮套<br>但是耳机本身是没有任何问题的,只是用起来经常掉皮,我并不想重新再买一个<br>于是我决定在淘宝上买些配件<br>把原来腐蚀掉的皮套给换掉</p><h2 id="材料"><a href="#材料" class="headerlink" title="材料"></a>材料</h2><p>就下面 2 个皮套和一个头悬梁<br><img src="http://gd4.alicdn.com/imgextra/i4/1714578795/O1CN01IAg4JF2Eq9sEivlHX_!!1714578795.jpg_800x800.jpg" alt="材料"></p><h2 id="原来的模样"><a href="#原来的模样" class="headerlink" title="原来的模样"></a>原来的模样</h2><p>下面是我耳机没有更换前的模样,掉皮,平时我都是用纸巾包一层在戴到头上使用</p><p><img src="http://image.joylau.cn/blog/Somix_E95x_IMG_0534.JPG" alt><br><img src="http://image.joylau.cn/blog/Somix_E95x_IMG_0535.JPG" alt><br><img src="http://image.joylau.cn/blog/Somix_E95x_IMG_0536.JPG" alt>  </p><h2 id="动手"><a href="#动手" class="headerlink" title="动手"></a>动手</h2><ol><li>先硬撕掉耳机保护套,撕不掉用剪子剪掉</li><li><p>撕掉之后使用扁平的螺丝刀沿着边缘将卡口翘出来,像下面这样<br><img src="http://image.joylau.cn/blog/Somix_E95x_IMG_0537.JPG" alt><br><img src="http://image.joylau.cn/blog/Somix_E95x_IMG_0538.JPG" alt></p></li><li><p>之后将皮套套到卡口的圈中,注意皮套上的一圈洞和卡口上的突起相对应<br><img src="![](http://image.joylau.cn/blog/Somix_E95x_IMG_0539.JPG" alt>)</p></li><li><p>将套好的一只耳机沿着之前的翘起的卡口位置在按到耳机架上,另一只耳机也是这样操作</p></li><li>接下来就是头悬梁的皮套的安装了,这个比较麻烦<br><img src="http://image.joylau.cn/blog/Somix_E95x_IMG_0545.JPG" alt></li><li>先用小号螺丝刀打开悬梁 2 边的塑料小盒,露出 2 边的钢丝</li><li>用剪刀剪断钢丝,再翘起钢丝边缘的卡扣,把钢丝取出来,另一边也是这样操作<br><img src="http://image.joylau.cn/blog/Somix_E95x_IMG_0540.JPG" alt><br><img src="http://image.joylau.cn/blog/Somix_E95x_IMG_0544.JPG" alt></li><li>把新的悬梁换上,把钢丝穿过悬梁的小盒子,在穿进耳机架里面</li><li>打开送的小袋子里面的四个铜帽,用钳子夹紧到耳机架边缘伸出来的钢丝末端<br><img src="http://image.joylau.cn/blog/Somix_E95x_IMG_0541.JPG" alt><br><img src="http://image.joylau.cn/blog/Somix_E95x_IMG_0542.JPG" alt><br><img src="http://image.joylau.cn/blog/Somix_E95x_IMG_0543.JPG" alt></li><li>另一边也是相同的方式安装好</li></ol><h2 id="更换完成"><a href="#更换完成" class="headerlink" title="更换完成"></a>更换完成</h2><p>这是更换完成后的模样<br><img src="http://image.joylau.cn/blog/Somix_E95x_IMG_0546.JPG" alt><br><img src="http://image.joylau.cn/blog/Somix_E95x_IMG_0547.JPG" alt></p>]]></content>
    
    <summary type="html">
    
      我这款硕美科耳机是 2015 年入手的,到现在已经 4 年多了,日常使用中汗水已经腐蚀了耳机的皮套和头悬梁的皮套
    
    </summary>
    
      <category term="日常折腾篇" scheme="http://blog.joylau.cn/categories/%E6%97%A5%E5%B8%B8%E6%8A%98%E8%85%BE%E7%AF%87/"/>
    
    
      <category term="日常折腾" scheme="http://blog.joylau.cn/tags/%E6%97%A5%E5%B8%B8%E6%8A%98%E8%85%BE/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntu 强制设置分辨率</title>
    <link href="http://blog.joylau.cn/2019/07/15/Ubuntu-Force-Resolution/"/>
    <id>http://blog.joylau.cn/2019/07/15/Ubuntu-Force-Resolution/</id>
    <published>2019-07-15T01:10:44.000Z</published>
    <updated>2019-09-12T16:01:05.650Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>一次系统重启后,Ubuntu 系统无法正确识别连接的显示器分辨率了,我连接的 2 个显示器,其中一个分辨率正确识别,另一个却无法识别,默认成 1024 的分辨率了</p><h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><p>强制设置的分辨率起码显示器得支持</p><h2 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h2><ol><li><code>xrandr</code> 查看当前显示器的设置信息, 记住当前显示接口的名称,我这里是 <code>VGA-1</code>, 而且支持的分辨率列表应该是没有你想要的分辨率,不然的话在设置里就能看到了</li><li>添加一个分辨率,我这里是 1920 * 1080 : <code>cvt 1920 1080</code>; 得到输出: <code>Modeline &quot;1920x1080_60.00&quot;  173.00  1920 2048 2248 2576  1080 1083 1088 1120 -hsync +vsync</code></li><li>将 cvt 得到的显示模式使用 xrandr 命令添加:<br> <code>sudo xrandr --newmode &quot;1920x1080_60.00&quot; 173.00  1920 2048 2248 2576  1080 1083 1088 1120 -hsync +vsync</code><br> <code>sudo xrandr --addmode VGA-1 &quot;1920x1080_60.00&quot;</code></li><li>这样设置重启会失效, 将脚本写到一个文件中,并授予执行权限</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">!<span class="comment">#/bin/bash</span></span><br><span class="line">cvt 1920 1080</span><br><span class="line"><span class="comment">## 如果登录用户不是 root ,则需要使用 sudo ,sudo 需要输入密码,可使用下面的方式解决</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"password"</span> | sudo -S xrandr --newmode <span class="string">"1920x1080_60.00"</span> 173.00  1920 2048 2248 2576  1080 1083 1088 1120 -hsync +vsync</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"password"</span> | sudo -S xrandr --addmode VGA-1 <span class="string">"1920x1080_60.00"</span></span><br></pre></td></tr></table></figure><ol start="5"><li>在 Ubuntu 中搜索 <code>启动应用程序</code>, 将脚本添加进去,完成.</li></ol>]]></content>
    
    <summary type="html">
    
      一次系统重启后,Ubuntu 系统无法正确识别连接的显示器分辨率了...
    
    </summary>
    
      <category term="Ubuntu篇" scheme="http://blog.joylau.cn/categories/Ubuntu%E7%AF%87/"/>
    
    
      <category term="Ubuntu" scheme="http://blog.joylau.cn/tags/Ubuntu/"/>
    
  </entry>
  
  <entry>
    <title>OpenCV --- 基于 OpenCV 的百度路况研究记录 (五) 性能测试</title>
    <link href="http://blog.joylau.cn/2019/07/04/OpenCV-Baidu-Traffic-5/"/>
    <id>http://blog.joylau.cn/2019/07/04/OpenCV-Baidu-Traffic-5/</id>
    <published>2019-07-04T07:13:13.000Z</published>
    <updated>2019-07-05T16:01:06.329Z</updated>
    
    <content type="html"><![CDATA[<a id="more"></a><h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><h4 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h4><p>基于百度地图的路况分析服务目前实现的功能有:</p><ol><li>根据给定的行政区划(省,市,区,县等)获取任一缩放等级下的瓦片</li><li>提取分析拥堵数据(拥堵等级,拥堵点集,拥堵空间数据,拥堵距离,道路代码,省,市,区县,镇,街区,道路名,道路车道数,拥堵方向,拥堵描述,拥堵趋势变化,拥堵时长)</li><li>分析性能监控,日志记录</li></ol><h4 id="特性"><a href="#特性" class="headerlink" title="特性:"></a>特性:</h4><ol><li>简单: 提供 web 界面,可支持在线查看,分析,调试路况信息</li><li>实时: 提供根据给定的区域范围 (矩形区域) 实时分析该区域拥堵数据的 API</li><li>弹性: 分布式计算分析,弹性增加或减少机器</li><li>易部署: 所有复杂的环境和依赖都已打包成镜像, 一条命令即可部署启动</li><li>少依赖: 服务的地理位置解析不依赖互联网接口及其他第三方接口,全部由分析服务自己解决</li></ol><h4 id="输入输出"><a href="#输入输出" class="headerlink" title="输入输出"></a>输入输出</h4><p>输入: 百度地图瓦片<br>输出: 拥堵数据</p><h3 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h3><h4 id="数据"><a href="#数据" class="headerlink" title="数据"></a>数据</h4><p>合肥市(行政区划范围)第 17 等级下的全部地图瓦片, 共 <code>61172</code> 张瓦片,其中有道路信息(截止 2019-06-28) 的有 <code>18092</code> 张 </p><h4 id="环境依赖"><a href="#环境依赖" class="headerlink" title="环境依赖"></a>环境依赖</h4><ol start="0"><li>centOS : 7.5</li><li>openjdk : 12</li><li>openCV : 4.1.0</li><li>docker : 18.09</li><li>docker compose : 1.24.0</li><li>redis : 5.0.5</li><li>zookeeper : 3.5.5</li><li>rabbitMQ : 3.7.15-management</li><li>mariadb: 10.4.6</li><li>postgres : 11.4</li><li>node : 8.16.0</li><li>PostGIS : 2.5.0</li><li>PHP : 7.3.6 (PHP-pgsql, PHP-intl)</li><li>Apache : 2.4</li></ol><h4 id="测试机器配置"><a href="#测试机器配置" class="headerlink" title="测试机器配置"></a>测试机器配置</h4><p>暂时没有找到更合适的机器用来长时间运行测试,本次使用的是公司的机器,运行着几个服务,但对系统资源的占用都不大,可以忽略对本次性能测试的影响  </p><p>CPU : Intel(R) Core(TM) i7-4770 CPU @ 3.40GHz x64 / 单颗 / 8 核<br>GPU : Intel Corporation Xeon E3-1200 v3/4th Gen Core Processor Integrated Graphics Controller / 核显<br>MEM : 组合内存, 4 个插槽, 共 24G</p><pre><code>1. 8G Kingston DDR3 1600MHz2. 8G Kingston DDR3 1600MHz3. 4G Samsung DDR3 1600MHz4. 4G Hynix/Hyundai DDR3 1600MHz</code></pre><p>DISK : INTEL SSDSC2BW240H6 240G<br>NETWORK : Intel Corporation Ethernet Connection I217-LM 1000M</p><p>网络 : 中国电信 50M 对等宽带, PING 60ms, 抖动 28ms, 丢包 0% (公司网络正常使用情况下)<br>局域网 : 100M 局域网</p><h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><h4 id="测试说明"><a href="#测试说明" class="headerlink" title="测试说明"></a>测试说明</h4><ol><li>服务部署在单台机器上, 线程跑满</li><li>目前已稳定运行一星期 (<strong>2019年06月28日 - 2019年07月05日</strong>)</li><li>从中抽取其中 1 天的分析数据 (<strong>2019年07月04日13:12:40 - 2019年07月05日13:12:40</strong>)</li><li>本次测试的功能包含了已经开发完成的全部功能</li></ol><h4 id="测试数据"><a href="#测试数据" class="headerlink" title="测试数据"></a>测试数据</h4><table><thead><tr><th>id</th><th>task_id</th><th>max_thread_size</th><th>start_time</th><th>end_time</th><th>total_time</th><th>network_time</th><th>all_count</th><th>error_count</th><th>congest_count</th></tr></thead><tbody><tr><td>102</td><td>1562217160232</td><td>8</td><td>2019-07-04 13:12:40</td><td>2019-07-04 13:14:16</td><td>95</td><td>84</td><td>18902</td><td>0</td><td>152</td></tr><tr><td>103</td><td>1562217280004</td><td>8</td><td>2019-07-04 13:14:40</td><td>2019-07-04 13:16:18</td><td>98</td><td>89</td><td>18902</td><td>0</td><td>153</td></tr><tr><td>104</td><td>1562217400004</td><td>8</td><td>2019-07-04 13:16:40</td><td>2019-07-04 13:18:14</td><td>94</td><td>85</td><td>18902</td><td>0</td><td>142</td></tr><tr><td>105</td><td>1562217520003</td><td>8</td><td>2019-07-04 13:18:40</td><td>2019-07-04 13:20:18</td><td>98</td><td>87</td><td>18902</td><td>0</td><td>151</td></tr><tr><td>106</td><td>1562217640004</td><td>8</td><td>2019-07-04 13:20:40</td><td>2019-07-04 13:22:21</td><td>101</td><td>90</td><td>18902</td><td>0</td><td>158</td></tr><tr><td>107</td><td>1562217760003</td><td>8</td><td>2019-07-04 13:22:40</td><td>2019-07-04 13:24:13</td><td>93</td><td>82</td><td>18902</td><td>0</td><td>166</td></tr><tr><td>108</td><td>1562217880004</td><td>8</td><td>2019-07-04 13:24:40</td><td>2019-07-04 13:26:16</td><td>96</td><td>85</td><td>18902</td><td>0</td><td>165</td></tr><tr><td>109</td><td>1562218000003</td><td>8</td><td>2019-07-04 13:26:40</td><td>2019-07-04 13:28:17</td><td>97</td><td>87</td><td>18902</td><td>0</td><td>157</td></tr><tr><td>110</td><td>1562218120004</td><td>8</td><td>2019-07-04 13:28:40</td><td>2019-07-04 13:30:18</td><td>98</td><td>86</td><td>18902</td><td>0</td><td>171</td></tr><tr><td>111</td><td>1562218240003</td><td>8</td><td>2019-07-04 13:30:40</td><td>2019-07-04 13:32:16</td><td>96</td><td>85</td><td>18902</td><td>0</td><td>164</td></tr><tr><td>112</td><td>1562218360003</td><td>8</td><td>2019-07-04 13:32:40</td><td>2019-07-04 13:34:29</td><td>109</td><td>97</td><td>18902</td><td>0</td><td>163</td></tr><tr><td>113</td><td>1562218480004</td><td>8</td><td>2019-07-04 13:34:40</td><td>2019-07-04 13:36:16</td><td>96</td><td>85</td><td>18902</td><td>0</td><td>169</td></tr><tr><td>114</td><td>1562218600003</td><td>8</td><td>2019-07-04 13:36:40</td><td>2019-07-04 13:38:17</td><td>97</td><td>86</td><td>18902</td><td>0</td><td>182</td></tr><tr><td>115</td><td>1562218720003</td><td>8</td><td>2019-07-04 13:38:40</td><td>2019-07-04 13:40:17</td><td>97</td><td>86</td><td>18902</td><td>0</td><td>182</td></tr><tr><td>116</td><td>1562218840004</td><td>8</td><td>2019-07-04 13:40:40</td><td>2019-07-04 13:42:18</td><td>98</td><td>86</td><td>18902</td><td>0</td><td>201</td></tr><tr><td>117</td><td>1562218960004</td><td>8</td><td>2019-07-04 13:42:40</td><td>2019-07-04 13:44:19</td><td>99</td><td>88</td><td>18902</td><td>0</td><td>196</td></tr><tr><td>118</td><td>1562219080003</td><td>8</td><td>2019-07-04 13:44:40</td><td>2019-07-04 13:46:16</td><td>96</td><td>84</td><td>18902</td><td>0</td><td>188</td></tr><tr><td>119</td><td>1562219200003</td><td>8</td><td>2019-07-04 13:46:40</td><td>2019-07-04 13:48:15</td><td>95</td><td>83</td><td>18902</td><td>0</td><td>174</td></tr><tr><td>120</td><td>1562219320003</td><td>8</td><td>2019-07-04 13:48:40</td><td>2019-07-04 13:50:16</td><td>96</td><td>83</td><td>18902</td><td>0</td><td>176</td></tr><tr><td>121</td><td>1562219440003</td><td>8</td><td>2019-07-04 13:50:40</td><td>2019-07-04 13:52:19</td><td>99</td><td>86</td><td>18902</td><td>0</td><td>195</td></tr><tr><td>122</td><td>1562219560003</td><td>8</td><td>2019-07-04 13:52:40</td><td>2019-07-04 13:54:26</td><td>106</td><td>93</td><td>18902</td><td>0</td><td>182</td></tr><tr><td>123</td><td>1562219680003</td><td>8</td><td>2019-07-04 13:54:40</td><td>2019-07-04 13:56:27</td><td>107</td><td>95</td><td>18902</td><td>0</td><td>185</td></tr><tr><td>124</td><td>1562219800003</td><td>8</td><td>2019-07-04 13:56:40</td><td>2019-07-04 13:58:19</td><td>99</td><td>89</td><td>18902</td><td>0</td><td>189</td></tr><tr><td>125</td><td>1562219920003</td><td>8</td><td>2019-07-04 13:58:40</td><td>2019-07-04 14:00:28</td><td>108</td><td>96</td><td>18902</td><td>0</td><td>195</td></tr><tr><td>126</td><td>1562220040003</td><td>8</td><td>2019-07-04 14:00:40</td><td>2019-07-04 14:02:25</td><td>105</td><td>93</td><td>18902</td><td>0</td><td>209</td></tr><tr><td>127</td><td>1562220160003</td><td>8</td><td>2019-07-04 14:02:40</td><td>2019-07-04 14:04:22</td><td>102</td><td>90</td><td>18902</td><td>0</td><td>205</td></tr><tr><td>128</td><td>1562220280003</td><td>8</td><td>2019-07-04 14:04:40</td><td>2019-07-04 14:06:18</td><td>98</td><td>87</td><td>18902</td><td>0</td><td>214</td></tr><tr><td>129</td><td>1562220400003</td><td>8</td><td>2019-07-04 14:06:40</td><td>2019-07-04 14:08:16</td><td>96</td><td>83</td><td>18901</td><td>1</td><td>219</td></tr><tr><td>130</td><td>1562220520003</td><td>8</td><td>2019-07-04 14:08:40</td><td>2019-07-04 14:10:16</td><td>96</td><td>83</td><td>18902</td><td>0</td><td>226</td></tr><tr><td>131</td><td>1562220640003</td><td>8</td><td>2019-07-04 14:10:40</td><td>2019-07-04 14:12:19</td><td>99</td><td>88</td><td>18902</td><td>0</td><td>240</td></tr><tr><td>132</td><td>1562220760002</td><td>8</td><td>2019-07-04 14:12:40</td><td>2019-07-04 14:14:18</td><td>98</td><td>85</td><td>18902</td><td>0</td><td>228</td></tr><tr><td>133</td><td>1562220880003</td><td>8</td><td>2019-07-04 14:14:40</td><td>2019-07-04 14:16:22</td><td>102</td><td>89</td><td>18902</td><td>0</td><td>219</td></tr><tr><td>134</td><td>1562221000003</td><td>8</td><td>2019-07-04 14:16:40</td><td>2019-07-04 14:18:17</td><td>97</td><td>85</td><td>18902</td><td>0</td><td>230</td></tr><tr><td>135</td><td>1562221120003</td><td>8</td><td>2019-07-04 14:18:40</td><td>2019-07-04 14:20:20</td><td>100</td><td>88</td><td>18902</td><td>0</td><td>247</td></tr><tr><td>136</td><td>1562221240003</td><td>8</td><td>2019-07-04 14:20:40</td><td>2019-07-04 14:22:17</td><td>97</td><td>86</td><td>18902</td><td>0</td><td>218</td></tr><tr><td>137</td><td>1562221360003</td><td>8</td><td>2019-07-04 14:22:40</td><td>2019-07-04 14:24:18</td><td>98</td><td>85</td><td>18902</td><td>0</td><td>256</td></tr><tr><td>138</td><td>1562221480003</td><td>8</td><td>2019-07-04 14:24:40</td><td>2019-07-04 14:26:23</td><td>103</td><td>89</td><td>18902</td><td>0</td><td>233</td></tr><tr><td>139</td><td>1562221600003</td><td>8</td><td>2019-07-04 14:26:40</td><td>2019-07-04 14:28:23</td><td>103</td><td>89</td><td>18902</td><td>0</td><td>246</td></tr><tr><td>140</td><td>1562221720003</td><td>8</td><td>2019-07-04 14:28:40</td><td>2019-07-04 14:30:22</td><td>102</td><td>87</td><td>18902</td><td>0</td><td>241</td></tr><tr><td>141</td><td>1562221840003</td><td>8</td><td>2019-07-04 14:30:40</td><td>2019-07-04 14:32:15</td><td>95</td><td>82</td><td>18902</td><td>0</td><td>231</td></tr><tr><td>142</td><td>1562221960004</td><td>8</td><td>2019-07-04 14:32:40</td><td>2019-07-04 14:34:17</td><td>97</td><td>83</td><td>18902</td><td>0</td><td>241</td></tr><tr><td>143</td><td>1562222080003</td><td>8</td><td>2019-07-04 14:34:40</td><td>2019-07-04 14:36:17</td><td>97</td><td>84</td><td>18902</td><td>0</td><td>241</td></tr><tr><td>144</td><td>1562222200002</td><td>8</td><td>2019-07-04 14:36:40</td><td>2019-07-04 14:38:52</td><td>132</td><td>120</td><td>18902</td><td>0</td><td>258</td></tr><tr><td>145</td><td>1562222340003</td><td>8</td><td>2019-07-04 14:39:00</td><td>2019-07-04 14:40:37</td><td>97</td><td>82</td><td>18901</td><td>1</td><td>263</td></tr><tr><td>146</td><td>1562222500043</td><td>8</td><td>2019-07-04 14:41:40</td><td>2019-07-04 14:43:14</td><td>94</td><td>81</td><td>18902</td><td>0</td><td>219</td></tr><tr><td>147</td><td>1562222620004</td><td>8</td><td>2019-07-04 14:43:40</td><td>2019-07-04 14:45:29</td><td>109</td><td>97</td><td>18902</td><td>0</td><td>208</td></tr><tr><td>148</td><td>1562222740004</td><td>8</td><td>2019-07-04 14:45:40</td><td>2019-07-04 14:47:18</td><td>98</td><td>84</td><td>18902</td><td>0</td><td>219</td></tr><tr><td>149</td><td>1562222860004</td><td>8</td><td>2019-07-04 14:47:40</td><td>2019-07-04 14:49:12</td><td>92</td><td>80</td><td>18902</td><td>0</td><td>237</td></tr><tr><td>150</td><td>1562222980003</td><td>8</td><td>2019-07-04 14:49:40</td><td>2019-07-04 14:51:12</td><td>92</td><td>79</td><td>18902</td><td>0</td><td>212</td></tr><tr><td>151</td><td>1562223100004</td><td>8</td><td>2019-07-04 14:51:40</td><td>2019-07-04 14:53:15</td><td>95</td><td>81</td><td>18902</td><td>0</td><td>248</td></tr><tr><td>152</td><td>1562223220003</td><td>8</td><td>2019-07-04 14:53:40</td><td>2019-07-04 14:55:22</td><td>102</td><td>89</td><td>18902</td><td>0</td><td>242</td></tr><tr><td>153</td><td>1562223340003</td><td>8</td><td>2019-07-04 14:55:40</td><td>2019-07-04 14:57:18</td><td>98</td><td>84</td><td>18902</td><td>0</td><td>258</td></tr><tr><td>154</td><td>1562223460003</td><td>8</td><td>2019-07-04 14:57:40</td><td>2019-07-04 14:59:19</td><td>99</td><td>84</td><td>18902</td><td>0</td><td>258</td></tr><tr><td>155</td><td>1562223580003</td><td>8</td><td>2019-07-04 14:59:40</td><td>2019-07-04 15:01:24</td><td>104</td><td>88</td><td>18900</td><td>2</td><td>270</td></tr><tr><td>156</td><td>1562223700003</td><td>8</td><td>2019-07-04 15:01:40</td><td>2019-07-04 15:03:18</td><td>98</td><td>85</td><td>18902</td><td>0</td><td>254</td></tr><tr><td>157</td><td>1562223820003</td><td>8</td><td>2019-07-04 15:03:40</td><td>2019-07-04 15:05:57</td><td>137</td><td>113</td><td>18902</td><td>0</td><td>253</td></tr><tr><td>158</td><td>1562223960003</td><td>8</td><td>2019-07-04 15:06:00</td><td>2019-07-04 15:07:50</td><td>110</td><td>97</td><td>18902</td><td>0</td><td>262</td></tr><tr><td>159</td><td>1562224080004</td><td>8</td><td>2019-07-04 15:08:00</td><td>2019-07-04 15:09:44</td><td>104</td><td>90</td><td>18902</td><td>0</td><td>250</td></tr><tr><td>160</td><td>1562224200003</td><td>8</td><td>2019-07-04 15:10:00</td><td>2019-07-04 15:11:44</td><td>104</td><td>92</td><td>18902</td><td>0</td><td>244</td></tr><tr><td>161</td><td>1562224320004</td><td>8</td><td>2019-07-04 15:12:00</td><td>2019-07-04 15:13:46</td><td>106</td><td>93</td><td>18902</td><td>0</td><td>259</td></tr><tr><td>162</td><td>1562224440003</td><td>8</td><td>2019-07-04 15:14:00</td><td>2019-07-04 15:15:42</td><td>102</td><td>88</td><td>18902</td><td>0</td><td>239</td></tr><tr><td>163</td><td>1562224560003</td><td>8</td><td>2019-07-04 15:16:00</td><td>2019-07-04 15:17:43</td><td>103</td><td>89</td><td>18902</td><td>0</td><td>269</td></tr><tr><td>164</td><td>1562224680003</td><td>8</td><td>2019-07-04 15:18:00</td><td>2019-07-04 15:19:35</td><td>95</td><td>83</td><td>18902</td><td>0</td><td>241</td></tr><tr><td>165</td><td>1562224780003</td><td>8</td><td>2019-07-04 15:19:40</td><td>2019-07-04 15:21:19</td><td>99</td><td>86</td><td>18902</td><td>0</td><td>254</td></tr><tr><td>166</td><td>1562224900003</td><td>8</td><td>2019-07-04 15:21:40</td><td>2019-07-04 15:23:16</td><td>96</td><td>83</td><td>18902</td><td>0</td><td>262</td></tr><tr><td>167</td><td>1562225020003</td><td>8</td><td>2019-07-04 15:23:40</td><td>2019-07-04 15:25:16</td><td>96</td><td>82</td><td>18902</td><td>0</td><td>268</td></tr><tr><td>168</td><td>1562225140003</td><td>8</td><td>2019-07-04 15:25:40</td><td>2019-07-04 15:27:35</td><td>115</td><td>99</td><td>18900</td><td>2</td><td>254</td></tr><tr><td>169</td><td>1562225260003</td><td>8</td><td>2019-07-04 15:27:40</td><td>2019-07-04 15:29:52</td><td>132</td><td>118</td><td>18902</td><td>0</td><td>252</td></tr><tr><td>170</td><td>1562225400003</td><td>8</td><td>2019-07-04 15:30:00</td><td>2019-07-04 15:31:57</td><td>117</td><td>103</td><td>18902</td><td>0</td><td>240</td></tr><tr><td>171</td><td>1562225520003</td><td>8</td><td>2019-07-04 15:32:00</td><td>2019-07-04 15:33:44</td><td>104</td><td>88</td><td>18902</td><td>0</td><td>260</td></tr><tr><td>172</td><td>1562225640003</td><td>8</td><td>2019-07-04 15:34:00</td><td>2019-07-04 15:35:42</td><td>102</td><td>88</td><td>18902</td><td>0</td><td>264</td></tr><tr><td>173</td><td>1562225760003</td><td>8</td><td>2019-07-04 15:36:00</td><td>2019-07-04 15:37:41</td><td>101</td><td>86</td><td>18902</td><td>0</td><td>277</td></tr><tr><td>174</td><td>1562225880002</td><td>8</td><td>2019-07-04 15:38:00</td><td>2019-07-04 15:39:50</td><td>110</td><td>94</td><td>18900</td><td>2</td><td>275</td></tr><tr><td>175</td><td>1562226000003</td><td>8</td><td>2019-07-04 15:40:00</td><td>2019-07-04 15:41:39</td><td>99</td><td>84</td><td>18902</td><td>0</td><td>281</td></tr><tr><td>176</td><td>1562226100003</td><td>8</td><td>2019-07-04 15:41:40</td><td>2019-07-04 15:43:17</td><td>97</td><td>82</td><td>18902</td><td>0</td><td>304</td></tr><tr><td>177</td><td>1562226220004</td><td>8</td><td>2019-07-04 15:43:40</td><td>2019-07-04 15:45:21</td><td>101</td><td>87</td><td>18902</td><td>0</td><td>269</td></tr><tr><td>178</td><td>1562226340002</td><td>8</td><td>2019-07-04 15:45:40</td><td>2019-07-04 15:47:24</td><td>104</td><td>89</td><td>18902</td><td>0</td><td>284</td></tr><tr><td>179</td><td>1562226460003</td><td>8</td><td>2019-07-04 15:47:40</td><td>2019-07-04 15:49:22</td><td>102</td><td>87</td><td>18902</td><td>0</td><td>290</td></tr><tr><td>180</td><td>1562226580003</td><td>8</td><td>2019-07-04 15:49:40</td><td>2019-07-04 15:51:23</td><td>103</td><td>89</td><td>18902</td><td>0</td><td>287</td></tr><tr><td>181</td><td>1562226700003</td><td>8</td><td>2019-07-04 15:51:40</td><td>2019-07-04 15:53:21</td><td>101</td><td>89</td><td>18902</td><td>0</td><td>260</td></tr><tr><td>182</td><td>1562226820003</td><td>8</td><td>2019-07-04 15:53:40</td><td>2019-07-04 15:55:34</td><td>114</td><td>99</td><td>18902</td><td>0</td><td>276</td></tr><tr><td>183</td><td>1562226940004</td><td>8</td><td>2019-07-04 15:55:40</td><td>2019-07-04 15:57:50</td><td>130</td><td>113</td><td>18901</td><td>1</td><td>280</td></tr><tr><td>184</td><td>1562227080003</td><td>8</td><td>2019-07-04 15:58:00</td><td>2019-07-04 15:59:54</td><td>114</td><td>99</td><td>18902</td><td>0</td><td>259</td></tr><tr><td>185</td><td>1562227200003</td><td>8</td><td>2019-07-04 16:00:00</td><td>2019-07-04 16:01:43</td><td>103</td><td>89</td><td>18902</td><td>0</td><td>258</td></tr><tr><td>186</td><td>1562227320003</td><td>8</td><td>2019-07-04 16:02:00</td><td>2019-07-04 16:03:48</td><td>108</td><td>94</td><td>18902</td><td>0</td><td>265</td></tr><tr><td>187</td><td>1562227440002</td><td>8</td><td>2019-07-04 16:04:00</td><td>2019-07-04 16:05:39</td><td>99</td><td>86</td><td>18902</td><td>0</td><td>257</td></tr><tr><td>188</td><td>1562227540003</td><td>8</td><td>2019-07-04 16:05:40</td><td>2019-07-04 16:07:21</td><td>101</td><td>87</td><td>18901</td><td>1</td><td>251</td></tr><tr><td>189</td><td>1562227660003</td><td>8</td><td>2019-07-04 16:07:40</td><td>2019-07-04 16:09:20</td><td>100</td><td>85</td><td>18902</td><td>0</td><td>239</td></tr><tr><td>190</td><td>1562227780003</td><td>8</td><td>2019-07-04 16:09:40</td><td>2019-07-04 16:11:28</td><td>108</td><td>95</td><td>18902</td><td>0</td><td>264</td></tr><tr><td>191</td><td>1562227900003</td><td>8</td><td>2019-07-04 16:11:40</td><td>2019-07-04 16:13:15</td><td>95</td><td>82</td><td>18902</td><td>0</td><td>284</td></tr><tr><td>192</td><td>1562228020002</td><td>8</td><td>2019-07-04 16:13:40</td><td>2019-07-04 16:15:46</td><td>126</td><td>114</td><td>18902</td><td>0</td><td>247</td></tr><tr><td>193</td><td>1562228160003</td><td>8</td><td>2019-07-04 16:16:00</td><td>2019-07-04 16:17:39</td><td>99</td><td>86</td><td>18902</td><td>0</td><td>274</td></tr><tr><td>194</td><td>1562228260003</td><td>8</td><td>2019-07-04 16:17:40</td><td>2019-07-04 16:19:22</td><td>102</td><td>89</td><td>18902</td><td>0</td><td>269</td></tr><tr><td>195</td><td>1562228380003</td><td>8</td><td>2019-07-04 16:19:40</td><td>2019-07-04 16:21:28</td><td>108</td><td>93</td><td>18901</td><td>1</td><td>252</td></tr><tr><td>196</td><td>1562228500004</td><td>8</td><td>2019-07-04 16:21:40</td><td>2019-07-04 16:23:33</td><td>113</td><td>97</td><td>18899</td><td>3</td><td>252</td></tr><tr><td>197</td><td>1562228620003</td><td>8</td><td>2019-07-04 16:23:40</td><td>2019-07-04 16:25:46</td><td>126</td><td>101</td><td>18898</td><td>4</td><td>269</td></tr><tr><td>198</td><td>1562228760002</td><td>8</td><td>2019-07-04 16:26:00</td><td>2019-07-04 16:27:51</td><td>111</td><td>93</td><td>18899</td><td>3</td><td>250</td></tr><tr><td>199</td><td>1562228880003</td><td>8</td><td>2019-07-04 16:28:00</td><td>2019-07-04 16:29:35</td><td>95</td><td>82</td><td>18902</td><td>0</td><td>247</td></tr><tr><td>200</td><td>1562228980002</td><td>8</td><td>2019-07-04 16:29:40</td><td>2019-07-04 16:31:22</td><td>102</td><td>87</td><td>18902</td><td>0</td><td>252</td></tr><tr><td>201</td><td>1562229100003</td><td>8</td><td>2019-07-04 16:31:40</td><td>2019-07-04 16:33:21</td><td>101</td><td>89</td><td>18902</td><td>0</td><td>226</td></tr><tr><td>202</td><td>1562229220003</td><td>8</td><td>2019-07-04 16:33:40</td><td>2019-07-04 16:35:23</td><td>103</td><td>91</td><td>18902</td><td>0</td><td>241</td></tr><tr><td>203</td><td>1562229340002</td><td>8</td><td>2019-07-04 16:35:40</td><td>2019-07-04 16:37:28</td><td>108</td><td>91</td><td>18899</td><td>3</td><td>266</td></tr><tr><td>204</td><td>1562229460003</td><td>8</td><td>2019-07-04 16:37:40</td><td>2019-07-04 16:40:41</td><td>181</td><td>159</td><td>18901</td><td>1</td><td>264</td></tr><tr><td>205</td><td>1562229660003</td><td>8</td><td>2019-07-04 16:41:00</td><td>2019-07-04 16:42:42</td><td>102</td><td>87</td><td>18902</td><td>0</td><td>260</td></tr><tr><td>206</td><td>1562229780002</td><td>8</td><td>2019-07-04 16:43:00</td><td>2019-07-04 16:44:36</td><td>96</td><td>85</td><td>18902</td><td>0</td><td>240</td></tr><tr><td>207</td><td>1562229880003</td><td>8</td><td>2019-07-04 16:44:40</td><td>2019-07-04 16:46:20</td><td>100</td><td>85</td><td>18901</td><td>1</td><td>242</td></tr><tr><td>208</td><td>1562230000003</td><td>8</td><td>2019-07-04 16:46:40</td><td>2019-07-04 16:48:22</td><td>102</td><td>89</td><td>18902</td><td>0</td><td>243</td></tr><tr><td>209</td><td>1562230120002</td><td>8</td><td>2019-07-04 16:48:40</td><td>2019-07-04 16:50:33</td><td>113</td><td>88</td><td>18900</td><td>2</td><td>255</td></tr><tr><td>210</td><td>1562230240003</td><td>8</td><td>2019-07-04 16:50:40</td><td>2019-07-04 16:52:27</td><td>106</td><td>93</td><td>18902</td><td>0</td><td>244</td></tr><tr><td>211</td><td>1562230360003</td><td>8</td><td>2019-07-04 16:52:40</td><td>2019-07-04 16:54:21</td><td>101</td><td>88</td><td>18902</td><td>0</td><td>276</td></tr><tr><td>212</td><td>1562230480003</td><td>8</td><td>2019-07-04 16:54:40</td><td>2019-07-04 16:56:25</td><td>105</td><td>89</td><td>18900</td><td>2</td><td>284</td></tr><tr><td>213</td><td>1562230600003</td><td>8</td><td>2019-07-04 16:56:40</td><td>2019-07-04 16:58:19</td><td>99</td><td>83</td><td>18902</td><td>0</td><td>290</td></tr><tr><td>214</td><td>1562230720002</td><td>8</td><td>2019-07-04 16:58:40</td><td>2019-07-04 17:00:57</td><td>137</td><td>97</td><td>18894</td><td>8</td><td>282</td></tr><tr><td>215</td><td>1562230860003</td><td>8</td><td>2019-07-04 17:01:00</td><td>2019-07-04 17:02:40</td><td>100</td><td>85</td><td>18901</td><td>1</td><td>264</td></tr><tr><td>216</td><td>1562230980002</td><td>8</td><td>2019-07-04 17:03:00</td><td>2019-07-04 17:04:50</td><td>110</td><td>97</td><td>18902</td><td>0</td><td>296</td></tr><tr><td>217</td><td>1562231100003</td><td>8</td><td>2019-07-04 17:05:00</td><td>2019-07-04 17:06:58</td><td>118</td><td>102</td><td>18902</td><td>0</td><td>267</td></tr><tr><td>218</td><td>1562231220003</td><td>8</td><td>2019-07-04 17:07:00</td><td>2019-07-04 17:09:00</td><td>120</td><td>103</td><td>18902</td><td>0</td><td>289</td></tr><tr><td>219</td><td>1562231380003</td><td>8</td><td>2019-07-04 17:09:40</td><td>2019-07-04 17:11:37</td><td>117</td><td>101</td><td>18902</td><td>0</td><td>360</td></tr><tr><td>220</td><td>1562231500003</td><td>8</td><td>2019-07-04 17:11:40</td><td>2019-07-04 17:13:46</td><td>126</td><td>100</td><td>18901</td><td>1</td><td>347</td></tr><tr><td>221</td><td>1562231640003</td><td>8</td><td>2019-07-04 17:14:00</td><td>2019-07-04 17:16:21</td><td>141</td><td>122</td><td>18901</td><td>1</td><td>342</td></tr><tr><td>222</td><td>1562231800003</td><td>8</td><td>2019-07-04 17:16:40</td><td>2019-07-04 17:18:52</td><td>132</td><td>113</td><td>18902</td><td>0</td><td>354</td></tr><tr><td>223</td><td>1562231940003</td><td>8</td><td>2019-07-04 17:19:00</td><td>2019-07-04 17:20:56</td><td>116</td><td>97</td><td>18901</td><td>1</td><td>349</td></tr><tr><td>224</td><td>1562232060003</td><td>8</td><td>2019-07-04 17:21:00</td><td>2019-07-04 17:22:51</td><td>111</td><td>93</td><td>18902</td><td>0</td><td>352</td></tr><tr><td>225</td><td>1562232180003</td><td>8</td><td>2019-07-04 17:23:00</td><td>2019-07-04 17:24:44</td><td>104</td><td>87</td><td>18902</td><td>0</td><td>375</td></tr><tr><td>226</td><td>1562232300002</td><td>8</td><td>2019-07-04 17:25:00</td><td>2019-07-04 17:27:01</td><td>121</td><td>91</td><td>18899</td><td>3</td><td>385</td></tr><tr><td>227</td><td>1562232460002</td><td>8</td><td>2019-07-04 17:27:40</td><td>2019-07-04 17:29:30</td><td>110</td><td>91</td><td>18902</td><td>0</td><td>390</td></tr><tr><td>228</td><td>1562232580002</td><td>8</td><td>2019-07-04 17:29:40</td><td>2019-07-04 17:31:47</td><td>127</td><td>105</td><td>18900</td><td>2</td><td>407</td></tr><tr><td>229</td><td>1562232720003</td><td>8</td><td>2019-07-04 17:32:00</td><td>2019-07-04 17:33:46</td><td>105</td><td>86</td><td>18902</td><td>0</td><td>415</td></tr><tr><td>230</td><td>1562232840003</td><td>8</td><td>2019-07-04 17:34:00</td><td>2019-07-04 17:35:54</td><td>114</td><td>82</td><td>18901</td><td>1</td><td>431</td></tr><tr><td>231</td><td>1562232960003</td><td>8</td><td>2019-07-04 17:36:00</td><td>2019-07-04 17:37:56</td><td>116</td><td>93</td><td>18901</td><td>1</td><td>468</td></tr><tr><td>232</td><td>1562233080003</td><td>8</td><td>2019-07-04 17:38:00</td><td>2019-07-04 17:39:45</td><td>105</td><td>82</td><td>18902</td><td>0</td><td>499</td></tr><tr><td>233</td><td>1562233200003</td><td>8</td><td>2019-07-04 17:40:00</td><td>2019-07-04 17:41:47</td><td>107</td><td>85</td><td>18902</td><td>0</td><td>490</td></tr><tr><td>234</td><td>1562233320002</td><td>8</td><td>2019-07-04 17:42:00</td><td>2019-07-04 17:43:55</td><td>115</td><td>89</td><td>18902</td><td>0</td><td>499</td></tr><tr><td>235</td><td>1562233440002</td><td>8</td><td>2019-07-04 17:44:00</td><td>2019-07-04 17:45:42</td><td>102</td><td>78</td><td>18902</td><td>0</td><td>491</td></tr><tr><td>236</td><td>1562233560003</td><td>8</td><td>2019-07-04 17:46:00</td><td>2019-07-04 17:47:49</td><td>109</td><td>84</td><td>18902</td><td>0</td><td>506</td></tr><tr><td>237</td><td>1562233680002</td><td>8</td><td>2019-07-04 17:48:00</td><td>2019-07-04 17:49:46</td><td>106</td><td>80</td><td>18902</td><td>0</td><td>521</td></tr><tr><td>238</td><td>1562233800002</td><td>8</td><td>2019-07-04 17:50:00</td><td>2019-07-04 17:51:49</td><td>109</td><td>83</td><td>18902</td><td>0</td><td>547</td></tr><tr><td>239</td><td>1562233920003</td><td>8</td><td>2019-07-04 17:52:00</td><td>2019-07-04 17:53:48</td><td>108</td><td>81</td><td>18902</td><td>0</td><td>558</td></tr><tr><td>240</td><td>1562234040003</td><td>8</td><td>2019-07-04 17:54:00</td><td>2019-07-04 17:55:51</td><td>111</td><td>84</td><td>18902</td><td>0</td><td>557</td></tr><tr><td>241</td><td>1562234160002</td><td>8</td><td>2019-07-04 17:56:00</td><td>2019-07-04 17:57:51</td><td>111</td><td>82</td><td>18902</td><td>0</td><td>574</td></tr><tr><td>242</td><td>1562234280002</td><td>8</td><td>2019-07-04 17:58:00</td><td>2019-07-04 17:59:51</td><td>111</td><td>80</td><td>18902</td><td>0</td><td>613</td></tr><tr><td>243</td><td>1562234400003</td><td>8</td><td>2019-07-04 18:00:00</td><td>2019-07-04 18:01:58</td><td>118</td><td>84</td><td>18899</td><td>3</td><td>577</td></tr><tr><td>244</td><td>1562234520003</td><td>8</td><td>2019-07-04 18:02:00</td><td>2019-07-04 18:03:45</td><td>105</td><td>78</td><td>18902</td><td>0</td><td>568</td></tr><tr><td>245</td><td>1562234640003</td><td>8</td><td>2019-07-04 18:04:00</td><td>2019-07-04 18:05:47</td><td>107</td><td>78</td><td>18902</td><td>0</td><td>554</td></tr><tr><td>246</td><td>1562234760003</td><td>8</td><td>2019-07-04 18:06:00</td><td>2019-07-04 18:07:47</td><td>107</td><td>78</td><td>18902</td><td>0</td><td>561</td></tr><tr><td>247</td><td>1562234880002</td><td>8</td><td>2019-07-04 18:08:00</td><td>2019-07-04 18:09:46</td><td>106</td><td>81</td><td>18902</td><td>0</td><td>533</td></tr><tr><td>248</td><td>1562235000003</td><td>8</td><td>2019-07-04 18:10:00</td><td>2019-07-04 18:11:47</td><td>107</td><td>81</td><td>18902</td><td>0</td><td>530</td></tr><tr><td>249</td><td>1562235120002</td><td>8</td><td>2019-07-04 18:12:00</td><td>2019-07-04 18:13:48</td><td>108</td><td>80</td><td>18902</td><td>0</td><td>571</td></tr><tr><td>250</td><td>1562235240002</td><td>8</td><td>2019-07-04 18:14:00</td><td>2019-07-04 18:15:52</td><td>112</td><td>81</td><td>18902</td><td>0</td><td>582</td></tr><tr><td>251</td><td>1562235360003</td><td>8</td><td>2019-07-04 18:16:00</td><td>2019-07-04 18:17:50</td><td>110</td><td>81</td><td>18902</td><td>0</td><td>602</td></tr><tr><td>252</td><td>1562235480003</td><td>8</td><td>2019-07-04 18:18:00</td><td>2019-07-04 18:19:48</td><td>108</td><td>80</td><td>18902</td><td>0</td><td>571</td></tr><tr><td>253</td><td>1562235600002</td><td>8</td><td>2019-07-04 18:20:00</td><td>2019-07-04 18:21:52</td><td>112</td><td>81</td><td>18902</td><td>0</td><td>588</td></tr><tr><td>254</td><td>1562235720003</td><td>8</td><td>2019-07-04 18:22:00</td><td>2019-07-04 18:23:53</td><td>113</td><td>84</td><td>18902</td><td>0</td><td>588</td></tr><tr><td>255</td><td>1562235840003</td><td>8</td><td>2019-07-04 18:24:00</td><td>2019-07-04 18:25:48</td><td>108</td><td>79</td><td>18902</td><td>0</td><td>565</td></tr><tr><td>256</td><td>1562235960002</td><td>8</td><td>2019-07-04 18:26:00</td><td>2019-07-04 18:27:51</td><td>111</td><td>81</td><td>18902</td><td>0</td><td>577</td></tr><tr><td>257</td><td>1562236080003</td><td>8</td><td>2019-07-04 18:28:00</td><td>2019-07-04 18:29:48</td><td>108</td><td>81</td><td>18902</td><td>0</td><td>558</td></tr><tr><td>258</td><td>1562236200003</td><td>8</td><td>2019-07-04 18:30:00</td><td>2019-07-04 18:31:50</td><td>110</td><td>82</td><td>18902</td><td>0</td><td>555</td></tr><tr><td>259</td><td>1562236320002</td><td>8</td><td>2019-07-04 18:32:00</td><td>2019-07-04 18:33:50</td><td>110</td><td>82</td><td>18902</td><td>0</td><td>547</td></tr><tr><td>260</td><td>1562236440004</td><td>8</td><td>2019-07-04 18:34:00</td><td>2019-07-04 18:35:46</td><td>106</td><td>80</td><td>18902</td><td>0</td><td>546</td></tr><tr><td>261</td><td>1562236560003</td><td>8</td><td>2019-07-04 18:36:00</td><td>2019-07-04 18:37:51</td><td>111</td><td>84</td><td>18902</td><td>0</td><td>508</td></tr><tr><td>262</td><td>1562236680003</td><td>8</td><td>2019-07-04 18:38:00</td><td>2019-07-04 18:39:46</td><td>106</td><td>81</td><td>18902</td><td>0</td><td>509</td></tr><tr><td>263</td><td>1562236800003</td><td>8</td><td>2019-07-04 18:40:00</td><td>2019-07-04 18:41:54</td><td>114</td><td>83</td><td>18901</td><td>1</td><td>511</td></tr><tr><td>264</td><td>1562236920003</td><td>8</td><td>2019-07-04 18:42:00</td><td>2019-07-04 18:43:49</td><td>109</td><td>83</td><td>18902</td><td>0</td><td>517</td></tr><tr><td>265</td><td>1562237040003</td><td>8</td><td>2019-07-04 18:44:00</td><td>2019-07-04 18:45:45</td><td>105</td><td>81</td><td>18902</td><td>0</td><td>493</td></tr><tr><td>266</td><td>1562237160003</td><td>8</td><td>2019-07-04 18:46:00</td><td>2019-07-04 18:47:45</td><td>105</td><td>81</td><td>18902</td><td>0</td><td>498</td></tr><tr><td>267</td><td>1562237280003</td><td>8</td><td>2019-07-04 18:48:00</td><td>2019-07-04 18:49:47</td><td>107</td><td>82</td><td>18902</td><td>0</td><td>482</td></tr><tr><td>268</td><td>1562237400002</td><td>8</td><td>2019-07-04 18:50:00</td><td>2019-07-04 18:51:44</td><td>104</td><td>80</td><td>18902</td><td>0</td><td>466</td></tr><tr><td>269</td><td>1562237520003</td><td>8</td><td>2019-07-04 18:52:00</td><td>2019-07-04 18:53:44</td><td>104</td><td>81</td><td>18902</td><td>0</td><td>458</td></tr><tr><td>270</td><td>1562237640003</td><td>8</td><td>2019-07-04 18:54:00</td><td>2019-07-04 18:55:42</td><td>102</td><td>80</td><td>18902</td><td>0</td><td>458</td></tr><tr><td>271</td><td>1562237760002</td><td>8</td><td>2019-07-04 18:56:00</td><td>2019-07-04 18:57:42</td><td>102</td><td>80</td><td>18902</td><td>0</td><td>453</td></tr><tr><td>272</td><td>1562237880003</td><td>8</td><td>2019-07-04 18:58:00</td><td>2019-07-04 18:59:44</td><td>104</td><td>84</td><td>18902</td><td>0</td><td>440</td></tr><tr><td>273</td><td>1562238000002</td><td>8</td><td>2019-07-04 19:00:00</td><td>2019-07-04 19:01:41</td><td>101</td><td>81</td><td>18902</td><td>0</td><td>403</td></tr><tr><td>274</td><td>1562238120003</td><td>8</td><td>2019-07-04 19:02:00</td><td>2019-07-04 19:03:41</td><td>101</td><td>83</td><td>18902</td><td>0</td><td>381</td></tr><tr><td>275</td><td>1562238240002</td><td>8</td><td>2019-07-04 19:04:00</td><td>2019-07-04 19:05:41</td><td>101</td><td>84</td><td>18902</td><td>0</td><td>349</td></tr><tr><td>276</td><td>1562238360002</td><td>8</td><td>2019-07-04 19:06:00</td><td>2019-07-04 19:07:37</td><td>97</td><td>79</td><td>18902</td><td>0</td><td>352</td></tr><tr><td>277</td><td>1562238460003</td><td>8</td><td>2019-07-04 19:07:40</td><td>2019-07-04 19:09:16</td><td>96</td><td>79</td><td>18902</td><td>0</td><td>329</td></tr><tr><td>278</td><td>1562238580002</td><td>8</td><td>2019-07-04 19:09:40</td><td>2019-07-04 19:11:18</td><td>98</td><td>81</td><td>18902</td><td>0</td><td>354</td></tr><tr><td>279</td><td>1562238700002</td><td>8</td><td>2019-07-04 19:11:40</td><td>2019-07-04 19:13:17</td><td>97</td><td>82</td><td>18902</td><td>0</td><td>329</td></tr><tr><td>280</td><td>1562238820003</td><td>8</td><td>2019-07-04 19:13:40</td><td>2019-07-04 19:15:15</td><td>95</td><td>81</td><td>18902</td><td>0</td><td>320</td></tr><tr><td>281</td><td>1562238940002</td><td>8</td><td>2019-07-04 19:15:40</td><td>2019-07-04 19:17:15</td><td>95</td><td>82</td><td>18902</td><td>0</td><td>296</td></tr><tr><td>282</td><td>1562239060002</td><td>8</td><td>2019-07-04 19:17:40</td><td>2019-07-04 19:19:17</td><td>97</td><td>83</td><td>18902</td><td>0</td><td>303</td></tr><tr><td>283</td><td>1562239180003</td><td>8</td><td>2019-07-04 19:19:40</td><td>2019-07-04 19:21:17</td><td>97</td><td>82</td><td>18902</td><td>0</td><td>311</td></tr><tr><td>284</td><td>1562239300002</td><td>8</td><td>2019-07-04 19:21:40</td><td>2019-07-04 19:23:16</td><td>96</td><td>81</td><td>18902</td><td>0</td><td>304</td></tr><tr><td>285</td><td>1562239420003</td><td>8</td><td>2019-07-04 19:23:40</td><td>2019-07-04 19:25:12</td><td>92</td><td>78</td><td>18902</td><td>0</td><td>314</td></tr><tr><td>286</td><td>1562239540003</td><td>8</td><td>2019-07-04 19:25:40</td><td>2019-07-04 19:27:13</td><td>93</td><td>80</td><td>18902</td><td>0</td><td>280</td></tr><tr><td>287</td><td>1562239660003</td><td>8</td><td>2019-07-04 19:27:40</td><td>2019-07-04 19:29:11</td><td>91</td><td>77</td><td>18902</td><td>0</td><td>299</td></tr><tr><td>288</td><td>1562239780002</td><td>8</td><td>2019-07-04 19:29:40</td><td>2019-07-04 19:31:14</td><td>94</td><td>80</td><td>18902</td><td>0</td><td>312</td></tr><tr><td>289</td><td>1562239900002</td><td>8</td><td>2019-07-04 19:31:40</td><td>2019-07-04 19:33:15</td><td>95</td><td>83</td><td>18902</td><td>0</td><td>269</td></tr><tr><td>290</td><td>1562240020002</td><td>8</td><td>2019-07-04 19:33:40</td><td>2019-07-04 19:35:14</td><td>94</td><td>82</td><td>18902</td><td>0</td><td>264</td></tr><tr><td>291</td><td>1562240140003</td><td>8</td><td>2019-07-04 19:35:40</td><td>2019-07-04 19:37:18</td><td>98</td><td>84</td><td>18902</td><td>0</td><td>243</td></tr><tr><td>292</td><td>1562240260002</td><td>8</td><td>2019-07-04 19:37:40</td><td>2019-07-04 19:39:14</td><td>94</td><td>82</td><td>18902</td><td>0</td><td>262</td></tr><tr><td>293</td><td>1562240380003</td><td>8</td><td>2019-07-04 19:39:40</td><td>2019-07-04 19:41:16</td><td>96</td><td>84</td><td>18902</td><td>0</td><td>275</td></tr><tr><td>294</td><td>1562240500003</td><td>8</td><td>2019-07-04 19:41:40</td><td>2019-07-04 19:43:18</td><td>98</td><td>85</td><td>18902</td><td>0</td><td>269</td></tr><tr><td>295</td><td>1562240620003</td><td>8</td><td>2019-07-04 19:43:40</td><td>2019-07-04 19:45:16</td><td>96</td><td>83</td><td>18902</td><td>0</td><td>268</td></tr><tr><td>296</td><td>1562240740003</td><td>8</td><td>2019-07-04 19:45:40</td><td>2019-07-04 19:47:15</td><td>95</td><td>82</td><td>18902</td><td>0</td><td>258</td></tr><tr><td>297</td><td>1562240860003</td><td>8</td><td>2019-07-04 19:47:40</td><td>2019-07-04 19:49:18</td><td>98</td><td>85</td><td>18902</td><td>0</td><td>261</td></tr><tr><td>298</td><td>1562240980002</td><td>8</td><td>2019-07-04 19:49:40</td><td>2019-07-04 19:51:16</td><td>96</td><td>83</td><td>18902</td><td>0</td><td>264</td></tr><tr><td>299</td><td>1562241100003</td><td>8</td><td>2019-07-04 19:51:40</td><td>2019-07-04 19:53:13</td><td>93</td><td>81</td><td>18902</td><td>0</td><td>256</td></tr><tr><td>300</td><td>1562241220003</td><td>8</td><td>2019-07-04 19:53:40</td><td>2019-07-04 19:55:14</td><td>94</td><td>82</td><td>18902</td><td>0</td><td>280</td></tr><tr><td>301</td><td>1562241340002</td><td>8</td><td>2019-07-04 19:55:40</td><td>2019-07-04 19:57:15</td><td>95</td><td>82</td><td>18902</td><td>0</td><td>278</td></tr><tr><td>302</td><td>1562241460003</td><td>8</td><td>2019-07-04 19:57:40</td><td>2019-07-04 19:59:12</td><td>92</td><td>80</td><td>18902</td><td>0</td><td>265</td></tr><tr><td>303</td><td>1562241580003</td><td>8</td><td>2019-07-04 19:59:40</td><td>2019-07-04 20:01:14</td><td>94</td><td>82</td><td>18902</td><td>0</td><td>258</td></tr><tr><td>304</td><td>1562241700003</td><td>8</td><td>2019-07-04 20:01:40</td><td>2019-07-04 20:03:14</td><td>94</td><td>82</td><td>18902</td><td>0</td><td>265</td></tr><tr><td>305</td><td>1562241820003</td><td>8</td><td>2019-07-04 20:03:40</td><td>2019-07-04 20:05:12</td><td>92</td><td>81</td><td>18902</td><td>0</td><td>266</td></tr><tr><td>306</td><td>1562241940003</td><td>8</td><td>2019-07-04 20:05:40</td><td>2019-07-04 20:07:16</td><td>96</td><td>81</td><td>18902</td><td>0</td><td>296</td></tr><tr><td>307</td><td>1562242060002</td><td>8</td><td>2019-07-04 20:07:40</td><td>2019-07-04 20:09:15</td><td>95</td><td>80</td><td>18902</td><td>0</td><td>296</td></tr><tr><td>308</td><td>1562242180002</td><td>8</td><td>2019-07-04 20:09:40</td><td>2019-07-04 20:11:17</td><td>97</td><td>82</td><td>18902</td><td>0</td><td>306</td></tr><tr><td>309</td><td>1562242300003</td><td>8</td><td>2019-07-04 20:11:40</td><td>2019-07-04 20:13:16</td><td>96</td><td>83</td><td>18902</td><td>0</td><td>291</td></tr><tr><td>310</td><td>1562242420003</td><td>8</td><td>2019-07-04 20:13:40</td><td>2019-07-04 20:15:12</td><td>92</td><td>80</td><td>18902</td><td>0</td><td>267</td></tr><tr><td>311</td><td>1562242540002</td><td>8</td><td>2019-07-04 20:15:40</td><td>2019-07-04 20:17:11</td><td>91</td><td>79</td><td>18902</td><td>0</td><td>255</td></tr><tr><td>312</td><td>1562242660003</td><td>8</td><td>2019-07-04 20:17:40</td><td>2019-07-04 20:19:16</td><td>96</td><td>83</td><td>18902</td><td>0</td><td>273</td></tr><tr><td>313</td><td>1562242780003</td><td>8</td><td>2019-07-04 20:19:40</td><td>2019-07-04 20:21:14</td><td>94</td><td>82</td><td>18902</td><td>0</td><td>284</td></tr><tr><td>314</td><td>1562242900002</td><td>8</td><td>2019-07-04 20:21:40</td><td>2019-07-04 20:23:15</td><td>95</td><td>81</td><td>18902</td><td>0</td><td>260</td></tr><tr><td>315</td><td>1562243020003</td><td>8</td><td>2019-07-04 20:23:40</td><td>2019-07-04 20:25:12</td><td>92</td><td>80</td><td>18902</td><td>0</td><td>266</td></tr><tr><td>316</td><td>1562243140003</td><td>8</td><td>2019-07-04 20:25:40</td><td>2019-07-04 20:27:18</td><td>98</td><td>87</td><td>18902</td><td>0</td><td>269</td></tr><tr><td>317</td><td>1562243260008</td><td>8</td><td>2019-07-04 20:27:40</td><td>2019-07-04 20:29:18</td><td>98</td><td>86</td><td>18902</td><td>0</td><td>297</td></tr><tr><td>318</td><td>1562243380003</td><td>8</td><td>2019-07-04 20:29:40</td><td>2019-07-04 20:31:20</td><td>100</td><td>87</td><td>18902</td><td>0</td><td>289</td></tr><tr><td>319</td><td>1562243500002</td><td>8</td><td>2019-07-04 20:31:40</td><td>2019-07-04 20:33:16</td><td>96</td><td>83</td><td>18902</td><td>0</td><td>264</td></tr><tr><td>320</td><td>1562243620002</td><td>8</td><td>2019-07-04 20:33:40</td><td>2019-07-04 20:35:16</td><td>96</td><td>83</td><td>18902</td><td>0</td><td>278</td></tr><tr><td>321</td><td>1562243740002</td><td>8</td><td>2019-07-04 20:35:40</td><td>2019-07-04 20:37:15</td><td>95</td><td>82</td><td>18902</td><td>0</td><td>269</td></tr><tr><td>322</td><td>1562243860003</td><td>8</td><td>2019-07-04 20:37:40</td><td>2019-07-04 20:39:13</td><td>93</td><td>81</td><td>18902</td><td>0</td><td>264</td></tr><tr><td>323</td><td>1562243980002</td><td>8</td><td>2019-07-04 20:39:40</td><td>2019-07-04 20:41:16</td><td>96</td><td>84</td><td>18902</td><td>0</td><td>236</td></tr><tr><td>324</td><td>1562244100002</td><td>8</td><td>2019-07-04 20:41:40</td><td>2019-07-04 20:43:16</td><td>96</td><td>84</td><td>18902</td><td>0</td><td>248</td></tr><tr><td>325</td><td>1562244220002</td><td>8</td><td>2019-07-04 20:43:40</td><td>2019-07-04 20:45:14</td><td>94</td><td>82</td><td>18902</td><td>0</td><td>273</td></tr><tr><td>326</td><td>1562244340002</td><td>8</td><td>2019-07-04 20:45:40</td><td>2019-07-04 20:47:12</td><td>92</td><td>79</td><td>18902</td><td>0</td><td>256</td></tr><tr><td>327</td><td>1562244460004</td><td>8</td><td>2019-07-04 20:47:40</td><td>2019-07-04 20:49:15</td><td>95</td><td>82</td><td>18902</td><td>0</td><td>274</td></tr><tr><td>328</td><td>1562244580003</td><td>8</td><td>2019-07-04 20:49:40</td><td>2019-07-04 20:51:15</td><td>95</td><td>82</td><td>18902</td><td>0</td><td>284</td></tr><tr><td>329</td><td>1562244700002</td><td>8</td><td>2019-07-04 20:51:40</td><td>2019-07-04 20:53:15</td><td>95</td><td>83</td><td>18902</td><td>0</td><td>276</td></tr><tr><td>330</td><td>1562244820002</td><td>8</td><td>2019-07-04 20:53:40</td><td>2019-07-04 20:55:15</td><td>95</td><td>83</td><td>18902</td><td>0</td><td>235</td></tr><tr><td>331</td><td>1562244940003</td><td>8</td><td>2019-07-04 20:55:40</td><td>2019-07-04 20:57:12</td><td>92</td><td>80</td><td>18902</td><td>0</td><td>250</td></tr><tr><td>332</td><td>1562245060003</td><td>8</td><td>2019-07-04 20:57:40</td><td>2019-07-04 20:59:13</td><td>93</td><td>80</td><td>18902</td><td>0</td><td>273</td></tr><tr><td>333</td><td>1562245180003</td><td>8</td><td>2019-07-04 20:59:40</td><td>2019-07-04 21:01:10</td><td>90</td><td>78</td><td>18902</td><td>0</td><td>259</td></tr><tr><td>334</td><td>1562245300002</td><td>8</td><td>2019-07-04 21:01:40</td><td>2019-07-04 21:03:13</td><td>93</td><td>80</td><td>18902</td><td>0</td><td>214</td></tr><tr><td>335</td><td>1562245420002</td><td>8</td><td>2019-07-04 21:03:40</td><td>2019-07-04 21:05:11</td><td>91</td><td>79</td><td>18902</td><td>0</td><td>226</td></tr><tr><td>336</td><td>1562245540002</td><td>8</td><td>2019-07-04 21:05:40</td><td>2019-07-04 21:07:15</td><td>95</td><td>84</td><td>18902</td><td>0</td><td>237</td></tr><tr><td>337</td><td>1562245660002</td><td>8</td><td>2019-07-04 21:07:40</td><td>2019-07-04 21:09:11</td><td>91</td><td>80</td><td>18902</td><td>0</td><td>219</td></tr><tr><td>338</td><td>1562245780003</td><td>8</td><td>2019-07-04 21:09:40</td><td>2019-07-04 21:11:19</td><td>99</td><td>87</td><td>18902</td><td>0</td><td>236</td></tr><tr><td>339</td><td>1562245900002</td><td>8</td><td>2019-07-04 21:11:40</td><td>2019-07-04 21:13:10</td><td>90</td><td>81</td><td>18902</td><td>0</td><td>220</td></tr><tr><td>340</td><td>1562246020003</td><td>8</td><td>2019-07-04 21:13:40</td><td>2019-07-04 21:15:13</td><td>93</td><td>81</td><td>18902</td><td>0</td><td>222</td></tr><tr><td>341</td><td>1562246140003</td><td>8</td><td>2019-07-04 21:15:40</td><td>2019-07-04 21:17:10</td><td>90</td><td>79</td><td>18902</td><td>0</td><td>197</td></tr><tr><td>342</td><td>1562246260003</td><td>8</td><td>2019-07-04 21:17:40</td><td>2019-07-04 21:19:11</td><td>91</td><td>79</td><td>18902</td><td>0</td><td>218</td></tr><tr><td>343</td><td>1562246380002</td><td>8</td><td>2019-07-04 21:19:40</td><td>2019-07-04 21:21:15</td><td>95</td><td>83</td><td>18902</td><td>0</td><td>212</td></tr><tr><td>344</td><td>1562246500003</td><td>8</td><td>2019-07-04 21:21:40</td><td>2019-07-04 21:23:14</td><td>94</td><td>82</td><td>18902</td><td>0</td><td>199</td></tr><tr><td>345</td><td>1562246620002</td><td>8</td><td>2019-07-04 21:23:40</td><td>2019-07-04 21:25:14</td><td>94</td><td>82</td><td>18902</td><td>0</td><td>208</td></tr><tr><td>346</td><td>1562246740003</td><td>8</td><td>2019-07-04 21:25:40</td><td>2019-07-04 21:27:14</td><td>94</td><td>83</td><td>18902</td><td>0</td><td>212</td></tr><tr><td>347</td><td>1562246860003</td><td>8</td><td>2019-07-04 21:27:40</td><td>2019-07-04 21:29:14</td><td>94</td><td>83</td><td>18902</td><td>0</td><td>211</td></tr><tr><td>348</td><td>1562246980003</td><td>8</td><td>2019-07-04 21:29:40</td><td>2019-07-04 21:31:16</td><td>96</td><td>85</td><td>18902</td><td>0</td><td>207</td></tr><tr><td>349</td><td>1562247100003</td><td>8</td><td>2019-07-04 21:31:40</td><td>2019-07-04 21:33:19</td><td>99</td><td>87</td><td>18902</td><td>0</td><td>212</td></tr><tr><td>350</td><td>1562247220002</td><td>8</td><td>2019-07-04 21:33:40</td><td>2019-07-04 21:35:20</td><td>100</td><td>89</td><td>18902</td><td>0</td><td>193</td></tr><tr><td>351</td><td>1562247340002</td><td>8</td><td>2019-07-04 21:35:40</td><td>2019-07-04 21:37:23</td><td>103</td><td>91</td><td>18902</td><td>0</td><td>198</td></tr><tr><td>352</td><td>1562247460002</td><td>8</td><td>2019-07-04 21:37:40</td><td>2019-07-04 21:39:16</td><td>96</td><td>85</td><td>18902</td><td>0</td><td>206</td></tr><tr><td>353</td><td>1562247580002</td><td>8</td><td>2019-07-04 21:39:40</td><td>2019-07-04 21:41:13</td><td>93</td><td>81</td><td>18902</td><td>0</td><td>223</td></tr><tr><td>354</td><td>1562247700002</td><td>8</td><td>2019-07-04 21:41:40</td><td>2019-07-04 21:43:14</td><td>94</td><td>82</td><td>18902</td><td>0</td><td>210</td></tr><tr><td>355</td><td>1562247820002</td><td>8</td><td>2019-07-04 21:43:40</td><td>2019-07-04 21:45:13</td><td>93</td><td>81</td><td>18902</td><td>0</td><td>209</td></tr><tr><td>356</td><td>1562247940002</td><td>8</td><td>2019-07-04 21:45:40</td><td>2019-07-04 21:47:09</td><td>89</td><td>78</td><td>18902</td><td>0</td><td>191</td></tr><tr><td>357</td><td>1562248060003</td><td>8</td><td>2019-07-04 21:47:40</td><td>2019-07-04 21:49:12</td><td>92</td><td>81</td><td>18902</td><td>0</td><td>187</td></tr><tr><td>358</td><td>1562248180002</td><td>8</td><td>2019-07-04 21:49:40</td><td>2019-07-04 21:51:11</td><td>91</td><td>80</td><td>18902</td><td>0</td><td>181</td></tr><tr><td>359</td><td>1562248300003</td><td>8</td><td>2019-07-04 21:51:40</td><td>2019-07-04 21:53:13</td><td>93</td><td>82</td><td>18902</td><td>0</td><td>185</td></tr><tr><td>360</td><td>1562248420003</td><td>8</td><td>2019-07-04 21:53:40</td><td>2019-07-04 21:55:12</td><td>92</td><td>81</td><td>18902</td><td>0</td><td>173</td></tr><tr><td>361</td><td>1562248540002</td><td>8</td><td>2019-07-04 21:55:40</td><td>2019-07-04 21:57:06</td><td>86</td><td>77</td><td>18902</td><td>0</td><td>158</td></tr><tr><td>362</td><td>1562248660034</td><td>8</td><td>2019-07-04 21:57:40</td><td>2019-07-04 21:59:12</td><td>92</td><td>82</td><td>18902</td><td>0</td><td>178</td></tr><tr><td>363</td><td>1562248780002</td><td>8</td><td>2019-07-04 21:59:40</td><td>2019-07-04 22:01:14</td><td>94</td><td>83</td><td>18902</td><td>0</td><td>182</td></tr><tr><td>364</td><td>1562248900002</td><td>8</td><td>2019-07-04 22:01:40</td><td>2019-07-04 22:03:12</td><td>92</td><td>79</td><td>18902</td><td>0</td><td>195</td></tr><tr><td>365</td><td>1562249020002</td><td>8</td><td>2019-07-04 22:03:40</td><td>2019-07-04 22:05:10</td><td>90</td><td>80</td><td>18902</td><td>0</td><td>189</td></tr><tr><td>366</td><td>1562249140003</td><td>8</td><td>2019-07-04 22:05:40</td><td>2019-07-04 22:07:13</td><td>93</td><td>82</td><td>18902</td><td>0</td><td>171</td></tr><tr><td>367</td><td>1562249260002</td><td>8</td><td>2019-07-04 22:07:40</td><td>2019-07-04 22:09:19</td><td>99</td><td>88</td><td>18902</td><td>0</td><td>170</td></tr><tr><td>368</td><td>1562249380002</td><td>8</td><td>2019-07-04 22:09:40</td><td>2019-07-04 22:11:16</td><td>96</td><td>87</td><td>18902</td><td>0</td><td>173</td></tr><tr><td>369</td><td>1562249500003</td><td>8</td><td>2019-07-04 22:11:40</td><td>2019-07-04 22:13:19</td><td>99</td><td>89</td><td>18902</td><td>0</td><td>175</td></tr><tr><td>370</td><td>1562249620003</td><td>8</td><td>2019-07-04 22:13:40</td><td>2019-07-04 22:15:16</td><td>96</td><td>86</td><td>18902</td><td>0</td><td>153</td></tr><tr><td>371</td><td>1562249740002</td><td>8</td><td>2019-07-04 22:15:40</td><td>2019-07-04 22:17:15</td><td>95</td><td>85</td><td>18902</td><td>0</td><td>171</td></tr><tr><td>372</td><td>1562249860003</td><td>8</td><td>2019-07-04 22:17:40</td><td>2019-07-04 22:19:12</td><td>92</td><td>81</td><td>18902</td><td>0</td><td>193</td></tr><tr><td>373</td><td>1562249980002</td><td>8</td><td>2019-07-04 22:19:40</td><td>2019-07-04 22:21:10</td><td>90</td><td>80</td><td>18902</td><td>0</td><td>172</td></tr><tr><td>374</td><td>1562250100002</td><td>8</td><td>2019-07-04 22:21:40</td><td>2019-07-04 22:23:11</td><td>91</td><td>81</td><td>18902</td><td>0</td><td>158</td></tr><tr><td>375</td><td>1562250220003</td><td>8</td><td>2019-07-04 22:23:40</td><td>2019-07-04 22:25:10</td><td>90</td><td>81</td><td>18902</td><td>0</td><td>159</td></tr><tr><td>376</td><td>1562250340003</td><td>8</td><td>2019-07-04 22:25:40</td><td>2019-07-04 22:27:11</td><td>91</td><td>82</td><td>18902</td><td>0</td><td>146</td></tr><tr><td>377</td><td>1562250460002</td><td>8</td><td>2019-07-04 22:27:40</td><td>2019-07-04 22:29:11</td><td>91</td><td>82</td><td>18902</td><td>0</td><td>153</td></tr><tr><td>378</td><td>1562250580002</td><td>8</td><td>2019-07-04 22:29:40</td><td>2019-07-04 22:31:07</td><td>87</td><td>78</td><td>18902</td><td>0</td><td>132</td></tr><tr><td>379</td><td>1562250700003</td><td>8</td><td>2019-07-04 22:31:40</td><td>2019-07-04 22:33:12</td><td>92</td><td>83</td><td>18902</td><td>0</td><td>131</td></tr><tr><td>380</td><td>1562250820002</td><td>8</td><td>2019-07-04 22:33:40</td><td>2019-07-04 22:35:13</td><td>93</td><td>84</td><td>18902</td><td>0</td><td>133</td></tr><tr><td>381</td><td>1562250940003</td><td>8</td><td>2019-07-04 22:35:40</td><td>2019-07-04 22:37:16</td><td>96</td><td>86</td><td>18902</td><td>0</td><td>143</td></tr><tr><td>382</td><td>1562251060002</td><td>8</td><td>2019-07-04 22:37:40</td><td>2019-07-04 22:39:15</td><td>95</td><td>84</td><td>18902</td><td>0</td><td>145</td></tr><tr><td>383</td><td>1562251180003</td><td>8</td><td>2019-07-04 22:39:40</td><td>2019-07-04 22:41:13</td><td>93</td><td>83</td><td>18902</td><td>0</td><td>142</td></tr><tr><td>384</td><td>1562251300003</td><td>8</td><td>2019-07-04 22:41:40</td><td>2019-07-04 22:43:10</td><td>90</td><td>80</td><td>18902</td><td>0</td><td>127</td></tr><tr><td>385</td><td>1562251420004</td><td>8</td><td>2019-07-04 22:43:40</td><td>2019-07-04 22:45:08</td><td>88</td><td>78</td><td>18902</td><td>0</td><td>140</td></tr><tr><td>386</td><td>1562251540004</td><td>8</td><td>2019-07-04 22:45:40</td><td>2019-07-04 22:47:09</td><td>89</td><td>78</td><td>18902</td><td>0</td><td>145</td></tr><tr><td>387</td><td>1562251660003</td><td>8</td><td>2019-07-04 22:47:40</td><td>2019-07-04 22:49:11</td><td>91</td><td>81</td><td>18902</td><td>0</td><td>142</td></tr><tr><td>388</td><td>1562251780002</td><td>8</td><td>2019-07-04 22:49:40</td><td>2019-07-04 22:51:08</td><td>88</td><td>78</td><td>18902</td><td>0</td><td>137</td></tr><tr><td>389</td><td>1562251900003</td><td>8</td><td>2019-07-04 22:51:40</td><td>2019-07-04 22:53:15</td><td>95</td><td>86</td><td>18902</td><td>0</td><td>142</td></tr><tr><td>390</td><td>1562252020004</td><td>8</td><td>2019-07-04 22:53:40</td><td>2019-07-04 22:55:10</td><td>90</td><td>81</td><td>18902</td><td>0</td><td>138</td></tr><tr><td>391</td><td>1562252140002</td><td>8</td><td>2019-07-04 22:55:40</td><td>2019-07-04 22:57:08</td><td>88</td><td>79</td><td>18902</td><td>0</td><td>136</td></tr><tr><td>392</td><td>1562252260004</td><td>8</td><td>2019-07-04 22:57:40</td><td>2019-07-04 22:59:13</td><td>93</td><td>84</td><td>18902</td><td>0</td><td>141</td></tr><tr><td>393</td><td>1562252380005</td><td>8</td><td>2019-07-04 22:59:40</td><td>2019-07-04 23:01:13</td><td>93</td><td>84</td><td>18902</td><td>0</td><td>117</td></tr><tr><td>394</td><td>1562252500005</td><td>8</td><td>2019-07-04 23:01:40</td><td>2019-07-04 23:03:12</td><td>92</td><td>82</td><td>18902</td><td>0</td><td>124</td></tr><tr><td>395</td><td>1562252620003</td><td>8</td><td>2019-07-04 23:03:40</td><td>2019-07-04 23:05:13</td><td>93</td><td>83</td><td>18902</td><td>0</td><td>118</td></tr><tr><td>396</td><td>1562252740002</td><td>8</td><td>2019-07-04 23:05:40</td><td>2019-07-04 23:07:11</td><td>91</td><td>82</td><td>18902</td><td>0</td><td>106</td></tr><tr><td>397</td><td>1562252860002</td><td>8</td><td>2019-07-04 23:07:40</td><td>2019-07-04 23:09:11</td><td>91</td><td>81</td><td>18902</td><td>0</td><td>125</td></tr><tr><td>398</td><td>1562252980003</td><td>8</td><td>2019-07-04 23:09:40</td><td>2019-07-04 23:11:11</td><td>91</td><td>81</td><td>18902</td><td>0</td><td>144</td></tr><tr><td>399</td><td>1562253100002</td><td>8</td><td>2019-07-04 23:11:40</td><td>2019-07-04 23:13:13</td><td>93</td><td>83</td><td>18902</td><td>0</td><td>141</td></tr><tr><td>400</td><td>1562253220005</td><td>8</td><td>2019-07-04 23:13:40</td><td>2019-07-04 23:15:15</td><td>95</td><td>86</td><td>18902</td><td>0</td><td>135</td></tr><tr><td>401</td><td>1562253340004</td><td>8</td><td>2019-07-04 23:15:40</td><td>2019-07-04 23:17:16</td><td>96</td><td>86</td><td>18902</td><td>0</td><td>141</td></tr><tr><td>402</td><td>1562253460005</td><td>8</td><td>2019-07-04 23:17:40</td><td>2019-07-04 23:19:12</td><td>92</td><td>83</td><td>18902</td><td>0</td><td>126</td></tr><tr><td>403</td><td>1562253580004</td><td>8</td><td>2019-07-04 23:19:40</td><td>2019-07-04 23:21:11</td><td>91</td><td>82</td><td>18902</td><td>0</td><td>118</td></tr><tr><td>404</td><td>1562253700003</td><td>8</td><td>2019-07-04 23:21:40</td><td>2019-07-04 23:23:10</td><td>90</td><td>82</td><td>18902</td><td>0</td><td>107</td></tr><tr><td>405</td><td>1562253820006</td><td>8</td><td>2019-07-04 23:23:40</td><td>2019-07-04 23:25:10</td><td>90</td><td>80</td><td>18902</td><td>0</td><td>123</td></tr><tr><td>406</td><td>1562253940005</td><td>8</td><td>2019-07-04 23:25:40</td><td>2019-07-04 23:27:09</td><td>89</td><td>81</td><td>18902</td><td>0</td><td>105</td></tr><tr><td>407</td><td>1562254060006</td><td>8</td><td>2019-07-04 23:27:40</td><td>2019-07-04 23:29:14</td><td>94</td><td>85</td><td>18902</td><td>0</td><td>106</td></tr><tr><td>408</td><td>1562254180008</td><td>8</td><td>2019-07-04 23:29:40</td><td>2019-07-04 23:31:13</td><td>93</td><td>85</td><td>18902</td><td>0</td><td>109</td></tr><tr><td>409</td><td>1562254300005</td><td>8</td><td>2019-07-04 23:31:40</td><td>2019-07-04 23:33:13</td><td>93</td><td>85</td><td>18902</td><td>0</td><td>89</td></tr><tr><td>410</td><td>1562254420003</td><td>8</td><td>2019-07-04 23:33:40</td><td>2019-07-04 23:35:13</td><td>93</td><td>85</td><td>18902</td><td>0</td><td>93</td></tr><tr><td>411</td><td>1562254540006</td><td>8</td><td>2019-07-04 23:35:40</td><td>2019-07-04 23:37:13</td><td>93</td><td>85</td><td>18902</td><td>0</td><td>99</td></tr><tr><td>412</td><td>1562254660006</td><td>8</td><td>2019-07-04 23:37:40</td><td>2019-07-04 23:39:10</td><td>90</td><td>81</td><td>18902</td><td>0</td><td>107</td></tr><tr><td>413</td><td>1562254780004</td><td>8</td><td>2019-07-04 23:39:40</td><td>2019-07-04 23:41:08</td><td>88</td><td>79</td><td>18902</td><td>0</td><td>108</td></tr><tr><td>414</td><td>1562254900005</td><td>8</td><td>2019-07-04 23:41:40</td><td>2019-07-04 23:43:05</td><td>85</td><td>76</td><td>18902</td><td>0</td><td>112</td></tr><tr><td>415</td><td>1562255020004</td><td>8</td><td>2019-07-04 23:43:40</td><td>2019-07-04 23:45:10</td><td>90</td><td>81</td><td>18902</td><td>0</td><td>116</td></tr><tr><td>416</td><td>1562255140004</td><td>8</td><td>2019-07-04 23:45:40</td><td>2019-07-04 23:47:10</td><td>90</td><td>81</td><td>18902</td><td>0</td><td>122</td></tr><tr><td>417</td><td>1562255260005</td><td>8</td><td>2019-07-04 23:47:40</td><td>2019-07-04 23:49:12</td><td>92</td><td>82</td><td>18902</td><td>0</td><td>110</td></tr><tr><td>418</td><td>1562255380004</td><td>8</td><td>2019-07-04 23:49:40</td><td>2019-07-04 23:51:15</td><td>95</td><td>86</td><td>18902</td><td>0</td><td>126</td></tr><tr><td>419</td><td>1562255500005</td><td>8</td><td>2019-07-04 23:51:40</td><td>2019-07-04 23:53:15</td><td>95</td><td>86</td><td>18902</td><td>0</td><td>121</td></tr><tr><td>420</td><td>1562255620004</td><td>8</td><td>2019-07-04 23:53:40</td><td>2019-07-04 23:55:13</td><td>93</td><td>84</td><td>18902</td><td>0</td><td>110</td></tr><tr><td>421</td><td>1562255740005</td><td>8</td><td>2019-07-04 23:55:40</td><td>2019-07-04 23:57:10</td><td>90</td><td>81</td><td>18902</td><td>0</td><td>116</td></tr><tr><td>422</td><td>1562255860005</td><td>8</td><td>2019-07-04 23:57:40</td><td>2019-07-04 23:59:07</td><td>87</td><td>78</td><td>18902</td><td>0</td><td>128</td></tr><tr><td>423</td><td>1562255980005</td><td>8</td><td>2019-07-04 23:59:40</td><td>2019-07-05 00:01:07</td><td>87</td><td>79</td><td>18902</td><td>0</td><td>110</td></tr><tr><td>424</td><td>1562256100005</td><td>8</td><td>2019-07-05 00:01:40</td><td>2019-07-05 00:03:07</td><td>87</td><td>79</td><td>18902</td><td>0</td><td>97</td></tr><tr><td>425</td><td>1562256220005</td><td>8</td><td>2019-07-05 00:03:40</td><td>2019-07-05 00:05:09</td><td>89</td><td>81</td><td>18902</td><td>0</td><td>105</td></tr><tr><td>426</td><td>1562256340006</td><td>8</td><td>2019-07-05 00:05:40</td><td>2019-07-05 00:07:08</td><td>88</td><td>80</td><td>18902</td><td>0</td><td>97</td></tr><tr><td>427</td><td>1562256460006</td><td>8</td><td>2019-07-05 00:07:40</td><td>2019-07-05 00:09:09</td><td>89</td><td>80</td><td>18902</td><td>0</td><td>102</td></tr><tr><td>428</td><td>1562256580005</td><td>8</td><td>2019-07-05 00:09:40</td><td>2019-07-05 00:11:05</td><td>85</td><td>77</td><td>18902</td><td>0</td><td>101</td></tr><tr><td>429</td><td>1562256700006</td><td>8</td><td>2019-07-05 00:11:40</td><td>2019-07-05 00:13:08</td><td>88</td><td>81</td><td>18902</td><td>0</td><td>92</td></tr><tr><td>430</td><td>1562256820005</td><td>8</td><td>2019-07-05 00:13:40</td><td>2019-07-05 00:15:08</td><td>88</td><td>81</td><td>18902</td><td>0</td><td>93</td></tr><tr><td>431</td><td>1562256940005</td><td>8</td><td>2019-07-05 00:15:40</td><td>2019-07-05 00:17:06</td><td>86</td><td>78</td><td>18902</td><td>0</td><td>85</td></tr><tr><td>432</td><td>1562257060006</td><td>8</td><td>2019-07-05 00:17:40</td><td>2019-07-05 00:19:10</td><td>90</td><td>82</td><td>18902</td><td>0</td><td>84</td></tr><tr><td>433</td><td>1562257180006</td><td>8</td><td>2019-07-05 00:19:40</td><td>2019-07-05 00:21:09</td><td>89</td><td>81</td><td>18902</td><td>0</td><td>89</td></tr><tr><td>434</td><td>1562257300005</td><td>8</td><td>2019-07-05 00:21:40</td><td>2019-07-05 00:23:03</td><td>83</td><td>75</td><td>18902</td><td>0</td><td>83</td></tr><tr><td>435</td><td>1562257420005</td><td>8</td><td>2019-07-05 00:23:40</td><td>2019-07-05 00:25:05</td><td>85</td><td>77</td><td>18902</td><td>0</td><td>89</td></tr><tr><td>436</td><td>1562257540004</td><td>8</td><td>2019-07-05 00:25:40</td><td>2019-07-05 00:27:05</td><td>85</td><td>77</td><td>18902</td><td>0</td><td>96</td></tr><tr><td>437</td><td>1562257660005</td><td>8</td><td>2019-07-05 00:27:40</td><td>2019-07-05 00:29:15</td><td>95</td><td>87</td><td>18902</td><td>0</td><td>107</td></tr><tr><td>438</td><td>1562257780003</td><td>8</td><td>2019-07-05 00:29:40</td><td>2019-07-05 00:31:15</td><td>95</td><td>87</td><td>18902</td><td>0</td><td>97</td></tr><tr><td>439</td><td>1562257900005</td><td>8</td><td>2019-07-05 00:31:40</td><td>2019-07-05 00:33:16</td><td>96</td><td>86</td><td>18902</td><td>0</td><td>107</td></tr><tr><td>440</td><td>1562258020005</td><td>8</td><td>2019-07-05 00:33:40</td><td>2019-07-05 00:35:13</td><td>93</td><td>84</td><td>18902</td><td>0</td><td>111</td></tr><tr><td>441</td><td>1562258140005</td><td>8</td><td>2019-07-05 00:35:40</td><td>2019-07-05 00:37:10</td><td>90</td><td>82</td><td>18902</td><td>0</td><td>99</td></tr><tr><td>442</td><td>1562258260005</td><td>8</td><td>2019-07-05 00:37:40</td><td>2019-07-05 00:39:10</td><td>90</td><td>82</td><td>18902</td><td>0</td><td>92</td></tr><tr><td>443</td><td>1562258380004</td><td>8</td><td>2019-07-05 00:39:40</td><td>2019-07-05 00:41:11</td><td>91</td><td>83</td><td>18902</td><td>0</td><td>109</td></tr><tr><td>444</td><td>1562258500013</td><td>8</td><td>2019-07-05 00:41:40</td><td>2019-07-05 00:43:11</td><td>91</td><td>82</td><td>18902</td><td>0</td><td>105</td></tr><tr><td>445</td><td>1562258620292</td><td>8</td><td>2019-07-05 00:43:40</td><td>2019-07-05 00:45:08</td><td>88</td><td>80</td><td>18902</td><td>0</td><td>105</td></tr><tr><td>446</td><td>1562258740004</td><td>8</td><td>2019-07-05 00:45:40</td><td>2019-07-05 00:47:00</td><td>80</td><td>72</td><td>18902</td><td>0</td><td>106</td></tr><tr><td>447</td><td>1562258860002</td><td>8</td><td>2019-07-05 00:47:40</td><td>2019-07-05 00:49:15</td><td>95</td><td>86</td><td>18902</td><td>0</td><td>102</td></tr><tr><td>448</td><td>1562258980004</td><td>8</td><td>2019-07-05 00:49:40</td><td>2019-07-05 00:51:10</td><td>90</td><td>82</td><td>18902</td><td>0</td><td>105</td></tr><tr><td>449</td><td>1562259100004</td><td>8</td><td>2019-07-05 00:51:40</td><td>2019-07-05 00:53:08</td><td>88</td><td>80</td><td>18902</td><td>0</td><td>78</td></tr><tr><td>450</td><td>1562259220002</td><td>8</td><td>2019-07-05 00:53:40</td><td>2019-07-05 00:55:10</td><td>90</td><td>83</td><td>18902</td><td>0</td><td>83</td></tr><tr><td>451</td><td>1562259340004</td><td>8</td><td>2019-07-05 00:55:40</td><td>2019-07-05 00:57:11</td><td>91</td><td>84</td><td>18902</td><td>0</td><td>80</td></tr><tr><td>452</td><td>1562259460004</td><td>8</td><td>2019-07-05 00:57:40</td><td>2019-07-05 00:59:12</td><td>92</td><td>85</td><td>18902</td><td>0</td><td>76</td></tr><tr><td>453</td><td>1562259580006</td><td>8</td><td>2019-07-05 00:59:40</td><td>2019-07-05 01:01:12</td><td>92</td><td>84</td><td>18902</td><td>0</td><td>84</td></tr><tr><td>454</td><td>1562259700005</td><td>8</td><td>2019-07-05 01:01:40</td><td>2019-07-05 01:03:12</td><td>92</td><td>84</td><td>18902</td><td>0</td><td>88</td></tr><tr><td>455</td><td>1562259820005</td><td>8</td><td>2019-07-05 01:03:40</td><td>2019-07-05 01:05:09</td><td>89</td><td>81</td><td>18902</td><td>0</td><td>83</td></tr><tr><td>456</td><td>1562259940004</td><td>8</td><td>2019-07-05 01:05:40</td><td>2019-07-05 01:07:12</td><td>92</td><td>84</td><td>18902</td><td>0</td><td>97</td></tr><tr><td>457</td><td>1562260060005</td><td>8</td><td>2019-07-05 01:07:40</td><td>2019-07-05 01:09:16</td><td>95</td><td>87</td><td>18902</td><td>0</td><td>98</td></tr><tr><td>458</td><td>1562260180004</td><td>8</td><td>2019-07-05 01:09:40</td><td>2019-07-05 01:11:14</td><td>94</td><td>86</td><td>18902</td><td>0</td><td>88</td></tr><tr><td>459</td><td>1562260300005</td><td>8</td><td>2019-07-05 01:11:40</td><td>2019-07-05 01:13:12</td><td>92</td><td>84</td><td>18902</td><td>0</td><td>101</td></tr><tr><td>460</td><td>1562260420005</td><td>8</td><td>2019-07-05 01:13:40</td><td>2019-07-05 01:15:12</td><td>92</td><td>84</td><td>18902</td><td>0</td><td>107</td></tr><tr><td>461</td><td>1562260540004</td><td>8</td><td>2019-07-05 01:15:40</td><td>2019-07-05 01:17:13</td><td>93</td><td>85</td><td>18902</td><td>0</td><td>102</td></tr><tr><td>462</td><td>1562260660004</td><td>8</td><td>2019-07-05 01:17:40</td><td>2019-07-05 01:19:16</td><td>96</td><td>88</td><td>18902</td><td>0</td><td>96</td></tr><tr><td>463</td><td>1562260780004</td><td>8</td><td>2019-07-05 01:19:40</td><td>2019-07-05 01:21:18</td><td>98</td><td>90</td><td>18902</td><td>0</td><td>97</td></tr><tr><td>464</td><td>1562260900004</td><td>8</td><td>2019-07-05 01:21:40</td><td>2019-07-05 01:23:15</td><td>95</td><td>87</td><td>18902</td><td>0</td><td>91</td></tr><tr><td>465</td><td>1562261020005</td><td>8</td><td>2019-07-05 01:23:40</td><td>2019-07-05 01:25:13</td><td>93</td><td>85</td><td>18902</td><td>0</td><td>97</td></tr><tr><td>466</td><td>1562261140004</td><td>8</td><td>2019-07-05 01:25:40</td><td>2019-07-05 01:27:13</td><td>93</td><td>85</td><td>18902</td><td>0</td><td>93</td></tr><tr><td>467</td><td>1562261260005</td><td>8</td><td>2019-07-05 01:27:40</td><td>2019-07-05 01:29:12</td><td>92</td><td>85</td><td>18902</td><td>0</td><td>82</td></tr><tr><td>468</td><td>1562261380005</td><td>8</td><td>2019-07-05 01:29:40</td><td>2019-07-05 01:31:07</td><td>87</td><td>79</td><td>18902</td><td>0</td><td>82</td></tr><tr><td>469</td><td>1562261500005</td><td>8</td><td>2019-07-05 01:31:40</td><td>2019-07-05 01:33:12</td><td>92</td><td>85</td><td>18902</td><td>0</td><td>74</td></tr><tr><td>470</td><td>1562261620007</td><td>8</td><td>2019-07-05 01:33:40</td><td>2019-07-05 01:35:11</td><td>91</td><td>83</td><td>18902</td><td>0</td><td>74</td></tr><tr><td>471</td><td>1562261740005</td><td>8</td><td>2019-07-05 01:35:40</td><td>2019-07-05 01:37:12</td><td>92</td><td>85</td><td>18902</td><td>0</td><td>85</td></tr><tr><td>472</td><td>1562261860006</td><td>8</td><td>2019-07-05 01:37:40</td><td>2019-07-05 01:39:16</td><td>96</td><td>88</td><td>18902</td><td>0</td><td>96</td></tr><tr><td>473</td><td>1562261980005</td><td>8</td><td>2019-07-05 01:39:40</td><td>2019-07-05 01:41:12</td><td>92</td><td>84</td><td>18902</td><td>0</td><td>72</td></tr><tr><td>474</td><td>1562262100004</td><td>8</td><td>2019-07-05 01:41:40</td><td>2019-07-05 01:43:10</td><td>90</td><td>82</td><td>18902</td><td>0</td><td>81</td></tr><tr><td>475</td><td>1562262220004</td><td>8</td><td>2019-07-05 01:43:40</td><td>2019-07-05 01:45:05</td><td>85</td><td>78</td><td>18902</td><td>0</td><td>83</td></tr><tr><td>476</td><td>1562262340007</td><td>8</td><td>2019-07-05 01:45:40</td><td>2019-07-05 01:47:04</td><td>84</td><td>77</td><td>18902</td><td>0</td><td>75</td></tr><tr><td>477</td><td>1562262460010</td><td>8</td><td>2019-07-05 01:47:40</td><td>2019-07-05 01:49:17</td><td>97</td><td>90</td><td>18902</td><td>0</td><td>77</td></tr><tr><td>478</td><td>1562262580007</td><td>8</td><td>2019-07-05 01:49:40</td><td>2019-07-05 01:51:13</td><td>93</td><td>85</td><td>18902</td><td>0</td><td>97</td></tr><tr><td>479</td><td>1562262700005</td><td>8</td><td>2019-07-05 01:51:40</td><td>2019-07-05 01:53:13</td><td>93</td><td>86</td><td>18902</td><td>0</td><td>85</td></tr><tr><td>480</td><td>1562262954308</td><td>8</td><td>2019-07-05 01:55:54</td><td>2019-07-05 01:57:24</td><td>90</td><td>81</td><td>18902</td><td>0</td><td>75</td></tr><tr><td>481</td><td>1562263060006</td><td>8</td><td>2019-07-05 01:57:40</td><td>2019-07-05 01:59:07</td><td>87</td><td>80</td><td>18902</td><td>0</td><td>78</td></tr><tr><td>482</td><td>1562263180006</td><td>8</td><td>2019-07-05 01:59:40</td><td>2019-07-05 02:01:12</td><td>92</td><td>85</td><td>18902</td><td>0</td><td>86</td></tr><tr><td>483</td><td>1562263300006</td><td>8</td><td>2019-07-05 02:01:40</td><td>2019-07-05 02:03:12</td><td>92</td><td>84</td><td>18902</td><td>0</td><td>88</td></tr><tr><td>484</td><td>1562263420005</td><td>8</td><td>2019-07-05 02:03:40</td><td>2019-07-05 02:05:08</td><td>88</td><td>80</td><td>18902</td><td>0</td><td>89</td></tr><tr><td>485</td><td>1562263540008</td><td>8</td><td>2019-07-05 02:05:40</td><td>2019-07-05 02:07:06</td><td>86</td><td>77</td><td>18902</td><td>0</td><td>92</td></tr><tr><td>486</td><td>1562263660005</td><td>8</td><td>2019-07-05 02:07:40</td><td>2019-07-05 02:09:03</td><td>83</td><td>76</td><td>18902</td><td>0</td><td>90</td></tr><tr><td>487</td><td>1562263780006</td><td>8</td><td>2019-07-05 02:09:40</td><td>2019-07-05 02:11:15</td><td>95</td><td>88</td><td>18902</td><td>0</td><td>83</td></tr><tr><td>488</td><td>1562263900003</td><td>8</td><td>2019-07-05 02:11:40</td><td>2019-07-05 02:13:17</td><td>97</td><td>88</td><td>18902</td><td>0</td><td>83</td></tr><tr><td>489</td><td>1562264020005</td><td>8</td><td>2019-07-05 02:13:40</td><td>2019-07-05 02:15:12</td><td>92</td><td>84</td><td>18902</td><td>0</td><td>94</td></tr><tr><td>490</td><td>1562264140005</td><td>8</td><td>2019-07-05 02:15:40</td><td>2019-07-05 02:17:11</td><td>91</td><td>83</td><td>18902</td><td>0</td><td>91</td></tr><tr><td>491</td><td>1562264260005</td><td>8</td><td>2019-07-05 02:17:40</td><td>2019-07-05 02:19:10</td><td>90</td><td>83</td><td>18902</td><td>0</td><td>83</td></tr><tr><td>492</td><td>1562264380004</td><td>8</td><td>2019-07-05 02:19:40</td><td>2019-07-05 02:21:10</td><td>90</td><td>83</td><td>18902</td><td>0</td><td>82</td></tr><tr><td>493</td><td>1562264500004</td><td>8</td><td>2019-07-05 02:21:40</td><td>2019-07-05 02:23:11</td><td>91</td><td>83</td><td>18902</td><td>0</td><td>90</td></tr><tr><td>494</td><td>1562264620006</td><td>8</td><td>2019-07-05 02:23:40</td><td>2019-07-05 02:25:11</td><td>91</td><td>83</td><td>18902</td><td>0</td><td>82</td></tr><tr><td>495</td><td>1562264740007</td><td>8</td><td>2019-07-05 02:25:40</td><td>2019-07-05 02:27:11</td><td>91</td><td>83</td><td>18902</td><td>0</td><td>81</td></tr><tr><td>496</td><td>1562264860005</td><td>8</td><td>2019-07-05 02:27:40</td><td>2019-07-05 02:29:11</td><td>91</td><td>83</td><td>18902</td><td>0</td><td>86</td></tr><tr><td>497</td><td>1562264980010</td><td>8</td><td>2019-07-05 02:29:40</td><td>2019-07-05 02:31:10</td><td>90</td><td>83</td><td>18902</td><td>0</td><td>90</td></tr><tr><td>498</td><td>1562265100006</td><td>8</td><td>2019-07-05 02:31:40</td><td>2019-07-05 02:33:12</td><td>92</td><td>83</td><td>18902</td><td>0</td><td>89</td></tr><tr><td>499</td><td>1562265220006</td><td>8</td><td>2019-07-05 02:33:40</td><td>2019-07-05 02:35:11</td><td>91</td><td>83</td><td>18902</td><td>0</td><td>85</td></tr><tr><td>500</td><td>1562265340008</td><td>8</td><td>2019-07-05 02:35:40</td><td>2019-07-05 02:37:13</td><td>93</td><td>84</td><td>18902</td><td>0</td><td>90</td></tr><tr><td>501</td><td>1562265460006</td><td>8</td><td>2019-07-05 02:37:40</td><td>2019-07-05 02:39:13</td><td>93</td><td>86</td><td>18902</td><td>0</td><td>74</td></tr><tr><td>502</td><td>1562265580006</td><td>8</td><td>2019-07-05 02:39:40</td><td>2019-07-05 02:41:14</td><td>94</td><td>86</td><td>18902</td><td>0</td><td>91</td></tr><tr><td>503</td><td>1562265700004</td><td>8</td><td>2019-07-05 02:41:40</td><td>2019-07-05 02:43:14</td><td>94</td><td>85</td><td>18902</td><td>0</td><td>97</td></tr><tr><td>504</td><td>1562265820005</td><td>8</td><td>2019-07-05 02:43:40</td><td>2019-07-05 02:45:11</td><td>91</td><td>82</td><td>18902</td><td>0</td><td>99</td></tr><tr><td>505</td><td>1562265940004</td><td>8</td><td>2019-07-05 02:45:40</td><td>2019-07-05 02:47:02</td><td>82</td><td>75</td><td>18902</td><td>0</td><td>108</td></tr><tr><td>506</td><td>1562266060005</td><td>8</td><td>2019-07-05 02:47:40</td><td>2019-07-05 02:49:08</td><td>88</td><td>80</td><td>18902</td><td>0</td><td>107</td></tr><tr><td>507</td><td>1562266180006</td><td>8</td><td>2019-07-05 02:49:40</td><td>2019-07-05 02:51:08</td><td>88</td><td>80</td><td>18902</td><td>0</td><td>98</td></tr><tr><td>508</td><td>1562266300003</td><td>8</td><td>2019-07-05 02:51:40</td><td>2019-07-05 02:53:07</td><td>87</td><td>78</td><td>18902</td><td>0</td><td>107</td></tr><tr><td>509</td><td>1562266420003</td><td>8</td><td>2019-07-05 02:53:40</td><td>2019-07-05 02:55:04</td><td>84</td><td>77</td><td>18902</td><td>0</td><td>88</td></tr><tr><td>510</td><td>1562266540003</td><td>8</td><td>2019-07-05 02:55:40</td><td>2019-07-05 02:57:03</td><td>83</td><td>74</td><td>18902</td><td>0</td><td>107</td></tr><tr><td>511</td><td>1562266660006</td><td>8</td><td>2019-07-05 02:57:40</td><td>2019-07-05 02:59:13</td><td>93</td><td>85</td><td>18902</td><td>0</td><td>92</td></tr><tr><td>512</td><td>1562266780005</td><td>8</td><td>2019-07-05 02:59:40</td><td>2019-07-05 03:01:10</td><td>90</td><td>83</td><td>18902</td><td>0</td><td>90</td></tr><tr><td>513</td><td>1562266900006</td><td>8</td><td>2019-07-05 03:01:40</td><td>2019-07-05 03:03:13</td><td>93</td><td>85</td><td>18902</td><td>0</td><td>100</td></tr><tr><td>514</td><td>1562267020031</td><td>8</td><td>2019-07-05 03:03:40</td><td>2019-07-05 03:05:13</td><td>93</td><td>85</td><td>18902</td><td>0</td><td>101</td></tr><tr><td>515</td><td>1562267140284</td><td>8</td><td>2019-07-05 03:05:40</td><td>2019-07-05 03:07:15</td><td>94</td><td>87</td><td>18902</td><td>0</td><td>89</td></tr><tr><td>516</td><td>1562267260005</td><td>8</td><td>2019-07-05 03:07:40</td><td>2019-07-05 03:09:16</td><td>96</td><td>88</td><td>18902</td><td>0</td><td>87</td></tr><tr><td>517</td><td>1562267380273</td><td>8</td><td>2019-07-05 03:09:40</td><td>2019-07-05 03:11:16</td><td>96</td><td>87</td><td>18902</td><td>0</td><td>97</td></tr><tr><td>518</td><td>1562267500290</td><td>8</td><td>2019-07-05 03:11:40</td><td>2019-07-05 03:13:14</td><td>94</td><td>86</td><td>18902</td><td>0</td><td>92</td></tr><tr><td>519</td><td>1562267620291</td><td>8</td><td>2019-07-05 03:13:40</td><td>2019-07-05 03:15:14</td><td>93</td><td>86</td><td>18902</td><td>0</td><td>92</td></tr><tr><td>520</td><td>1562267740004</td><td>8</td><td>2019-07-05 03:15:40</td><td>2019-07-05 03:17:08</td><td>88</td><td>80</td><td>18902</td><td>0</td><td>79</td></tr><tr><td>521</td><td>1562267860005</td><td>8</td><td>2019-07-05 03:17:40</td><td>2019-07-05 03:19:03</td><td>83</td><td>76</td><td>18902</td><td>0</td><td>63</td></tr><tr><td>522</td><td>1562267980004</td><td>8</td><td>2019-07-05 03:19:40</td><td>2019-07-05 03:21:07</td><td>87</td><td>80</td><td>18902</td><td>0</td><td>52</td></tr><tr><td>523</td><td>1562268100005</td><td>8</td><td>2019-07-05 03:21:40</td><td>2019-07-05 03:23:06</td><td>86</td><td>79</td><td>18902</td><td>0</td><td>55</td></tr><tr><td>524</td><td>1562268220005</td><td>8</td><td>2019-07-05 03:23:40</td><td>2019-07-05 03:25:02</td><td>82</td><td>75</td><td>18902</td><td>0</td><td>55</td></tr><tr><td>525</td><td>1562268340005</td><td>8</td><td>2019-07-05 03:25:40</td><td>2019-07-05 03:27:04</td><td>84</td><td>77</td><td>18902</td><td>0</td><td>63</td></tr><tr><td>526</td><td>1562268460004</td><td>8</td><td>2019-07-05 03:27:40</td><td>2019-07-05 03:29:06</td><td>86</td><td>79</td><td>18902</td><td>0</td><td>67</td></tr><tr><td>527</td><td>1562268580005</td><td>8</td><td>2019-07-05 03:29:40</td><td>2019-07-05 03:31:10</td><td>90</td><td>83</td><td>18902</td><td>0</td><td>51</td></tr><tr><td>528</td><td>1562268700005</td><td>8</td><td>2019-07-05 03:31:40</td><td>2019-07-05 03:33:10</td><td>90</td><td>82</td><td>18902</td><td>0</td><td>66</td></tr><tr><td>529</td><td>1562268820005</td><td>8</td><td>2019-07-05 03:33:40</td><td>2019-07-05 03:35:11</td><td>91</td><td>84</td><td>18902</td><td>0</td><td>63</td></tr><tr><td>530</td><td>1562268940004</td><td>8</td><td>2019-07-05 03:35:40</td><td>2019-07-05 03:37:12</td><td>92</td><td>85</td><td>18902</td><td>0</td><td>51</td></tr><tr><td>531</td><td>1562269060003</td><td>8</td><td>2019-07-05 03:37:40</td><td>2019-07-05 03:39:12</td><td>92</td><td>85</td><td>18902</td><td>0</td><td>62</td></tr><tr><td>532</td><td>1562269180006</td><td>8</td><td>2019-07-05 03:39:40</td><td>2019-07-05 03:41:13</td><td>93</td><td>85</td><td>18902</td><td>0</td><td>61</td></tr><tr><td>533</td><td>1562269300041</td><td>8</td><td>2019-07-05 03:41:40</td><td>2019-07-05 03:43:12</td><td>92</td><td>85</td><td>18902</td><td>0</td><td>61</td></tr><tr><td>534</td><td>1562269420005</td><td>8</td><td>2019-07-05 03:43:40</td><td>2019-07-05 03:45:12</td><td>92</td><td>85</td><td>18902</td><td>0</td><td>71</td></tr><tr><td>535</td><td>1562269540005</td><td>8</td><td>2019-07-05 03:45:40</td><td>2019-07-05 03:47:12</td><td>92</td><td>85</td><td>18902</td><td>0</td><td>67</td></tr><tr><td>536</td><td>1562269660005</td><td>8</td><td>2019-07-05 03:47:40</td><td>2019-07-05 03:49:11</td><td>91</td><td>84</td><td>18902</td><td>0</td><td>79</td></tr><tr><td>537</td><td>1562269780005</td><td>8</td><td>2019-07-05 03:49:40</td><td>2019-07-05 03:51:11</td><td>91</td><td>83</td><td>18902</td><td>0</td><td>74</td></tr><tr><td>538</td><td>1562269900004</td><td>8</td><td>2019-07-05 03:51:40</td><td>2019-07-05 03:53:11</td><td>91</td><td>83</td><td>18902</td><td>0</td><td>81</td></tr><tr><td>539</td><td>1562270020005</td><td>8</td><td>2019-07-05 03:53:40</td><td>2019-07-05 03:55:11</td><td>91</td><td>83</td><td>18902</td><td>0</td><td>80</td></tr><tr><td>540</td><td>1562270140005</td><td>8</td><td>2019-07-05 03:55:40</td><td>2019-07-05 03:57:11</td><td>91</td><td>83</td><td>18902</td><td>0</td><td>73</td></tr><tr><td>541</td><td>1562270260305</td><td>8</td><td>2019-07-05 03:57:40</td><td>2019-07-05 03:59:09</td><td>88</td><td>81</td><td>18902</td><td>0</td><td>67</td></tr><tr><td>542</td><td>1562270380004</td><td>8</td><td>2019-07-05 03:59:40</td><td>2019-07-05 04:01:08</td><td>88</td><td>80</td><td>18902</td><td>0</td><td>59</td></tr><tr><td>543</td><td>1562270500005</td><td>8</td><td>2019-07-05 04:01:40</td><td>2019-07-05 04:03:10</td><td>90</td><td>83</td><td>18902</td><td>0</td><td>60</td></tr><tr><td>544</td><td>1562270620003</td><td>8</td><td>2019-07-05 04:03:40</td><td>2019-07-05 04:05:11</td><td>91</td><td>83</td><td>18902</td><td>0</td><td>70</td></tr><tr><td>545</td><td>1562270740003</td><td>8</td><td>2019-07-05 04:05:40</td><td>2019-07-05 04:07:11</td><td>91</td><td>83</td><td>18902</td><td>0</td><td>67</td></tr><tr><td>546</td><td>1562270860004</td><td>8</td><td>2019-07-05 04:07:40</td><td>2019-07-05 04:09:11</td><td>91</td><td>82</td><td>18902</td><td>0</td><td>74</td></tr><tr><td>547</td><td>1562270980007</td><td>8</td><td>2019-07-05 04:09:40</td><td>2019-07-05 04:11:11</td><td>91</td><td>83</td><td>18902</td><td>0</td><td>74</td></tr><tr><td>548</td><td>1562271100006</td><td>8</td><td>2019-07-05 04:11:40</td><td>2019-07-05 04:13:12</td><td>92</td><td>83</td><td>18902</td><td>0</td><td>67</td></tr><tr><td>549</td><td>1562271220003</td><td>8</td><td>2019-07-05 04:13:40</td><td>2019-07-05 04:15:11</td><td>91</td><td>84</td><td>18902</td><td>0</td><td>61</td></tr><tr><td>550</td><td>1562271340003</td><td>8</td><td>2019-07-05 04:15:40</td><td>2019-07-05 04:17:13</td><td>93</td><td>86</td><td>18902</td><td>0</td><td>73</td></tr><tr><td>551</td><td>1562271460005</td><td>8</td><td>2019-07-05 04:17:40</td><td>2019-07-05 04:19:16</td><td>96</td><td>88</td><td>18902</td><td>0</td><td>74</td></tr><tr><td>552</td><td>1562271580010</td><td>8</td><td>2019-07-05 04:19:40</td><td>2019-07-05 04:21:14</td><td>94</td><td>86</td><td>18902</td><td>0</td><td>78</td></tr><tr><td>553</td><td>1562271700004</td><td>8</td><td>2019-07-05 04:21:40</td><td>2019-07-05 04:23:12</td><td>92</td><td>85</td><td>18902</td><td>0</td><td>83</td></tr><tr><td>554</td><td>1562271820005</td><td>8</td><td>2019-07-05 04:23:40</td><td>2019-07-05 04:25:12</td><td>92</td><td>84</td><td>18902</td><td>0</td><td>65</td></tr><tr><td>555</td><td>1562271940004</td><td>8</td><td>2019-07-05 04:25:40</td><td>2019-07-05 04:27:12</td><td>92</td><td>85</td><td>18902</td><td>0</td><td>75</td></tr><tr><td>556</td><td>1562272060003</td><td>8</td><td>2019-07-05 04:27:40</td><td>2019-07-05 04:29:13</td><td>93</td><td>85</td><td>18902</td><td>0</td><td>72</td></tr><tr><td>557</td><td>1562272180002</td><td>8</td><td>2019-07-05 04:29:40</td><td>2019-07-05 04:31:15</td><td>95</td><td>87</td><td>18902</td><td>0</td><td>81</td></tr><tr><td>558</td><td>1562272300005</td><td>8</td><td>2019-07-05 04:31:40</td><td>2019-07-05 04:33:15</td><td>95</td><td>87</td><td>18902</td><td>0</td><td>88</td></tr><tr><td>559</td><td>1562272420003</td><td>8</td><td>2019-07-05 04:33:40</td><td>2019-07-05 04:35:14</td><td>94</td><td>87</td><td>18902</td><td>0</td><td>85</td></tr><tr><td>560</td><td>1562272540002</td><td>8</td><td>2019-07-05 04:35:40</td><td>2019-07-05 04:37:13</td><td>93</td><td>85</td><td>18902</td><td>0</td><td>72</td></tr><tr><td>561</td><td>1562272660005</td><td>8</td><td>2019-07-05 04:37:40</td><td>2019-07-05 04:39:09</td><td>89</td><td>81</td><td>18902</td><td>0</td><td>70</td></tr><tr><td>562</td><td>1562272780004</td><td>8</td><td>2019-07-05 04:39:40</td><td>2019-07-05 04:41:07</td><td>87</td><td>79</td><td>18902</td><td>0</td><td>84</td></tr><tr><td>563</td><td>1562272900004</td><td>8</td><td>2019-07-05 04:41:40</td><td>2019-07-05 04:43:07</td><td>87</td><td>79</td><td>18902</td><td>0</td><td>80</td></tr><tr><td>564</td><td>1562273020005</td><td>8</td><td>2019-07-05 04:43:40</td><td>2019-07-05 04:45:05</td><td>85</td><td>77</td><td>18902</td><td>0</td><td>76</td></tr><tr><td>565</td><td>1562273140005</td><td>8</td><td>2019-07-05 04:45:40</td><td>2019-07-05 04:47:11</td><td>91</td><td>84</td><td>18902</td><td>0</td><td>61</td></tr><tr><td>566</td><td>1562273260004</td><td>8</td><td>2019-07-05 04:47:40</td><td>2019-07-05 04:49:12</td><td>92</td><td>84</td><td>18902</td><td>0</td><td>68</td></tr><tr><td>567</td><td>1562273380288</td><td>8</td><td>2019-07-05 04:49:40</td><td>2019-07-05 04:51:12</td><td>92</td><td>84</td><td>18902</td><td>0</td><td>63</td></tr><tr><td>568</td><td>1562273500174</td><td>8</td><td>2019-07-05 04:51:40</td><td>2019-07-05 04:53:12</td><td>91</td><td>84</td><td>18902</td><td>0</td><td>58</td></tr><tr><td>569</td><td>1562273620003</td><td>8</td><td>2019-07-05 04:53:40</td><td>2019-07-05 04:55:11</td><td>91</td><td>84</td><td>18902</td><td>0</td><td>50</td></tr><tr><td>570</td><td>1562273740003</td><td>8</td><td>2019-07-05 04:55:40</td><td>2019-07-05 04:57:10</td><td>90</td><td>83</td><td>18902</td><td>0</td><td>57</td></tr><tr><td>571</td><td>1562273860002</td><td>8</td><td>2019-07-05 04:57:40</td><td>2019-07-05 04:59:10</td><td>90</td><td>83</td><td>18902</td><td>0</td><td>55</td></tr><tr><td>572</td><td>1562273980003</td><td>8</td><td>2019-07-05 04:59:40</td><td>2019-07-05 05:01:10</td><td>90</td><td>82</td><td>18902</td><td>0</td><td>56</td></tr><tr><td>573</td><td>1562274100002</td><td>8</td><td>2019-07-05 05:01:40</td><td>2019-07-05 05:03:10</td><td>90</td><td>82</td><td>18902</td><td>0</td><td>62</td></tr><tr><td>574</td><td>1562274220003</td><td>8</td><td>2019-07-05 05:03:40</td><td>2019-07-05 05:05:14</td><td>94</td><td>87</td><td>18902</td><td>0</td><td>53</td></tr><tr><td>575</td><td>1562274340002</td><td>8</td><td>2019-07-05 05:05:40</td><td>2019-07-05 05:07:16</td><td>96</td><td>88</td><td>18902</td><td>0</td><td>53</td></tr><tr><td>576</td><td>1562274460003</td><td>8</td><td>2019-07-05 05:07:40</td><td>2019-07-05 05:09:13</td><td>93</td><td>85</td><td>18902</td><td>0</td><td>55</td></tr><tr><td>577</td><td>1562274580002</td><td>8</td><td>2019-07-05 05:09:40</td><td>2019-07-05 05:11:10</td><td>90</td><td>83</td><td>18902</td><td>0</td><td>55</td></tr><tr><td>578</td><td>1562274700002</td><td>8</td><td>2019-07-05 05:11:40</td><td>2019-07-05 05:13:09</td><td>89</td><td>81</td><td>18902</td><td>0</td><td>69</td></tr><tr><td>579</td><td>1562274820003</td><td>8</td><td>2019-07-05 05:13:40</td><td>2019-07-05 05:15:07</td><td>87</td><td>79</td><td>18902</td><td>0</td><td>57</td></tr><tr><td>580</td><td>1562274940003</td><td>8</td><td>2019-07-05 05:15:40</td><td>2019-07-05 05:17:08</td><td>88</td><td>81</td><td>18902</td><td>0</td><td>63</td></tr><tr><td>581</td><td>1562275060002</td><td>8</td><td>2019-07-05 05:17:40</td><td>2019-07-05 05:19:02</td><td>82</td><td>75</td><td>18902</td><td>0</td><td>58</td></tr><tr><td>582</td><td>1562275180002</td><td>8</td><td>2019-07-05 05:19:40</td><td>2019-07-05 05:21:05</td><td>85</td><td>78</td><td>18902</td><td>0</td><td>51</td></tr><tr><td>583</td><td>1562275300003</td><td>8</td><td>2019-07-05 05:21:40</td><td>2019-07-05 05:23:06</td><td>86</td><td>78</td><td>18902</td><td>0</td><td>49</td></tr><tr><td>584</td><td>1562275420003</td><td>8</td><td>2019-07-05 05:23:40</td><td>2019-07-05 05:25:11</td><td>91</td><td>84</td><td>18902</td><td>0</td><td>49</td></tr><tr><td>585</td><td>1562275540003</td><td>8</td><td>2019-07-05 05:25:40</td><td>2019-07-05 05:27:09</td><td>89</td><td>81</td><td>18902</td><td>0</td><td>53</td></tr><tr><td>586</td><td>1562275660003</td><td>8</td><td>2019-07-05 05:27:40</td><td>2019-07-05 05:29:11</td><td>91</td><td>83</td><td>18902</td><td>0</td><td>64</td></tr><tr><td>587</td><td>1562275780003</td><td>8</td><td>2019-07-05 05:29:40</td><td>2019-07-05 05:31:11</td><td>91</td><td>83</td><td>18902</td><td>0</td><td>60</td></tr><tr><td>588</td><td>1562275900002</td><td>8</td><td>2019-07-05 05:31:40</td><td>2019-07-05 05:33:10</td><td>90</td><td>83</td><td>18902</td><td>0</td><td>52</td></tr><tr><td>589</td><td>1562276020003</td><td>8</td><td>2019-07-05 05:33:40</td><td>2019-07-05 05:35:09</td><td>89</td><td>82</td><td>18902</td><td>0</td><td>54</td></tr><tr><td>590</td><td>1562276140002</td><td>8</td><td>2019-07-05 05:35:40</td><td>2019-07-05 05:37:10</td><td>90</td><td>83</td><td>18902</td><td>0</td><td>53</td></tr><tr><td>591</td><td>1562276260003</td><td>8</td><td>2019-07-05 05:37:40</td><td>2019-07-05 05:39:10</td><td>90</td><td>82</td><td>18902</td><td>0</td><td>74</td></tr><tr><td>592</td><td>1562276380002</td><td>8</td><td>2019-07-05 05:39:40</td><td>2019-07-05 05:41:10</td><td>90</td><td>83</td><td>18902</td><td>0</td><td>54</td></tr><tr><td>593</td><td>1562276500002</td><td>8</td><td>2019-07-05 05:41:40</td><td>2019-07-05 05:43:10</td><td>90</td><td>83</td><td>18902</td><td>0</td><td>63</td></tr><tr><td>594</td><td>1562276620003</td><td>8</td><td>2019-07-05 05:43:40</td><td>2019-07-05 05:45:04</td><td>84</td><td>77</td><td>18902</td><td>0</td><td>68</td></tr><tr><td>595</td><td>1562276740002</td><td>8</td><td>2019-07-05 05:45:40</td><td>2019-07-05 05:47:08</td><td>88</td><td>80</td><td>18902</td><td>0</td><td>82</td></tr><tr><td>596</td><td>1562276860003</td><td>8</td><td>2019-07-05 05:47:40</td><td>2019-07-05 05:49:09</td><td>89</td><td>82</td><td>18902</td><td>0</td><td>61</td></tr><tr><td>597</td><td>1562276980003</td><td>8</td><td>2019-07-05 05:49:40</td><td>2019-07-05 05:51:08</td><td>88</td><td>81</td><td>18902</td><td>0</td><td>60</td></tr><tr><td>598</td><td>1562277100003</td><td>8</td><td>2019-07-05 05:51:40</td><td>2019-07-05 05:53:04</td><td>84</td><td>76</td><td>18902</td><td>0</td><td>73</td></tr><tr><td>599</td><td>1562277220003</td><td>8</td><td>2019-07-05 05:53:40</td><td>2019-07-05 05:55:06</td><td>86</td><td>79</td><td>18902</td><td>0</td><td>64</td></tr><tr><td>600</td><td>1562277340002</td><td>8</td><td>2019-07-05 05:55:40</td><td>2019-07-05 05:57:08</td><td>88</td><td>81</td><td>18902</td><td>0</td><td>79</td></tr><tr><td>601</td><td>1562277460003</td><td>8</td><td>2019-07-05 05:57:40</td><td>2019-07-05 05:59:07</td><td>87</td><td>79</td><td>18902</td><td>0</td><td>77</td></tr><tr><td>602</td><td>1562277580003</td><td>8</td><td>2019-07-05 05:59:40</td><td>2019-07-05 06:01:07</td><td>87</td><td>79</td><td>18902</td><td>0</td><td>74</td></tr><tr><td>603</td><td>1562277700003</td><td>8</td><td>2019-07-05 06:01:40</td><td>2019-07-05 06:03:10</td><td>90</td><td>83</td><td>18902</td><td>0</td><td>74</td></tr><tr><td>604</td><td>1562277820003</td><td>8</td><td>2019-07-05 06:03:40</td><td>2019-07-05 06:05:10</td><td>90</td><td>82</td><td>18902</td><td>0</td><td>75</td></tr><tr><td>605</td><td>1562277940003</td><td>8</td><td>2019-07-05 06:05:40</td><td>2019-07-05 06:07:10</td><td>90</td><td>82</td><td>18902</td><td>0</td><td>80</td></tr><tr><td>606</td><td>1562278060002</td><td>8</td><td>2019-07-05 06:07:40</td><td>2019-07-05 06:09:10</td><td>90</td><td>82</td><td>18902</td><td>0</td><td>73</td></tr><tr><td>607</td><td>1562278180002</td><td>8</td><td>2019-07-05 06:09:40</td><td>2019-07-05 06:11:04</td><td>84</td><td>77</td><td>18902</td><td>0</td><td>70</td></tr><tr><td>608</td><td>1562278300003</td><td>8</td><td>2019-07-05 06:11:40</td><td>2019-07-05 06:13:04</td><td>84</td><td>76</td><td>18902</td><td>0</td><td>80</td></tr><tr><td>609</td><td>1562278420002</td><td>8</td><td>2019-07-05 06:13:40</td><td>2019-07-05 06:15:07</td><td>87</td><td>80</td><td>18902</td><td>0</td><td>97</td></tr><tr><td>610</td><td>1562278540003</td><td>8</td><td>2019-07-05 06:15:40</td><td>2019-07-05 06:17:09</td><td>89</td><td>80</td><td>18902</td><td>0</td><td>103</td></tr><tr><td>611</td><td>1562278660003</td><td>8</td><td>2019-07-05 06:17:40</td><td>2019-07-05 06:19:07</td><td>87</td><td>79</td><td>18902</td><td>0</td><td>104</td></tr><tr><td>612</td><td>1562278780003</td><td>8</td><td>2019-07-05 06:19:40</td><td>2019-07-05 06:21:06</td><td>86</td><td>78</td><td>18902</td><td>0</td><td>65</td></tr><tr><td>613</td><td>1562278900003</td><td>8</td><td>2019-07-05 06:21:40</td><td>2019-07-05 06:23:13</td><td>93</td><td>85</td><td>18902</td><td>0</td><td>76</td></tr><tr><td>614</td><td>1562279020003</td><td>8</td><td>2019-07-05 06:23:40</td><td>2019-07-05 06:25:15</td><td>95</td><td>86</td><td>18902</td><td>0</td><td>88</td></tr><tr><td>615</td><td>1562279140003</td><td>8</td><td>2019-07-05 06:25:40</td><td>2019-07-05 06:27:15</td><td>95</td><td>87</td><td>18902</td><td>0</td><td>101</td></tr><tr><td>616</td><td>1562279260003</td><td>8</td><td>2019-07-05 06:27:40</td><td>2019-07-05 06:29:14</td><td>94</td><td>87</td><td>18902</td><td>0</td><td>75</td></tr><tr><td>617</td><td>1562279380002</td><td>8</td><td>2019-07-05 06:29:40</td><td>2019-07-05 06:31:14</td><td>94</td><td>86</td><td>18902</td><td>0</td><td>97</td></tr><tr><td>618</td><td>1562279500003</td><td>8</td><td>2019-07-05 06:31:40</td><td>2019-07-05 06:33:15</td><td>95</td><td>86</td><td>18902</td><td>0</td><td>97</td></tr><tr><td>619</td><td>1562279620003</td><td>8</td><td>2019-07-05 06:33:40</td><td>2019-07-05 06:35:11</td><td>91</td><td>83</td><td>18902</td><td>0</td><td>90</td></tr><tr><td>620</td><td>1562279740003</td><td>8</td><td>2019-07-05 06:35:40</td><td>2019-07-05 06:37:07</td><td>87</td><td>78</td><td>18902</td><td>0</td><td>95</td></tr><tr><td>621</td><td>1562279860003</td><td>8</td><td>2019-07-05 06:37:40</td><td>2019-07-05 06:39:05</td><td>85</td><td>76</td><td>18902</td><td>0</td><td>86</td></tr><tr><td>622</td><td>1562279980003</td><td>8</td><td>2019-07-05 06:39:40</td><td>2019-07-05 06:41:12</td><td>92</td><td>84</td><td>18902</td><td>0</td><td>91</td></tr><tr><td>623</td><td>1562280100002</td><td>8</td><td>2019-07-05 06:41:40</td><td>2019-07-05 06:43:11</td><td>91</td><td>83</td><td>18902</td><td>0</td><td>94</td></tr><tr><td>624</td><td>1562280220002</td><td>8</td><td>2019-07-05 06:43:40</td><td>2019-07-05 06:45:12</td><td>92</td><td>83</td><td>18902</td><td>0</td><td>91</td></tr><tr><td>625</td><td>1562280340003</td><td>8</td><td>2019-07-05 06:45:40</td><td>2019-07-05 06:47:11</td><td>91</td><td>83</td><td>18902</td><td>0</td><td>88</td></tr><tr><td>626</td><td>1562280460002</td><td>8</td><td>2019-07-05 06:47:40</td><td>2019-07-05 06:49:12</td><td>92</td><td>83</td><td>18902</td><td>0</td><td>121</td></tr><tr><td>627</td><td>1562280580003</td><td>8</td><td>2019-07-05 06:49:40</td><td>2019-07-05 06:51:11</td><td>91</td><td>83</td><td>18902</td><td>0</td><td>97</td></tr><tr><td>628</td><td>1562280700002</td><td>8</td><td>2019-07-05 06:51:40</td><td>2019-07-05 06:53:10</td><td>90</td><td>82</td><td>18902</td><td>0</td><td>76</td></tr><tr><td>629</td><td>1562280820003</td><td>8</td><td>2019-07-05 06:53:40</td><td>2019-07-05 06:55:10</td><td>90</td><td>82</td><td>18902</td><td>0</td><td>98</td></tr><tr><td>630</td><td>1562280940002</td><td>8</td><td>2019-07-05 06:55:40</td><td>2019-07-05 06:57:15</td><td>95</td><td>87</td><td>18902</td><td>0</td><td>114</td></tr><tr><td>631</td><td>1562281060003</td><td>8</td><td>2019-07-05 06:57:40</td><td>2019-07-05 06:59:15</td><td>95</td><td>87</td><td>18902</td><td>0</td><td>106</td></tr><tr><td>632</td><td>1562281180002</td><td>8</td><td>2019-07-05 06:59:40</td><td>2019-07-05 07:01:16</td><td>96</td><td>88</td><td>18902</td><td>0</td><td>116</td></tr><tr><td>633</td><td>1562281300003</td><td>8</td><td>2019-07-05 07:01:40</td><td>2019-07-05 07:03:14</td><td>94</td><td>85</td><td>18902</td><td>0</td><td>123</td></tr><tr><td>634</td><td>1562281420002</td><td>8</td><td>2019-07-05 07:03:40</td><td>2019-07-05 07:05:08</td><td>88</td><td>79</td><td>18902</td><td>0</td><td>126</td></tr><tr><td>635</td><td>1562281540003</td><td>8</td><td>2019-07-05 07:05:40</td><td>2019-07-05 07:07:09</td><td>89</td><td>80</td><td>18902</td><td>0</td><td>121</td></tr><tr><td>636</td><td>1562281660002</td><td>8</td><td>2019-07-05 07:07:40</td><td>2019-07-05 07:09:14</td><td>94</td><td>85</td><td>18902</td><td>0</td><td>137</td></tr><tr><td>637</td><td>1562281780003</td><td>8</td><td>2019-07-05 07:09:40</td><td>2019-07-05 07:11:13</td><td>93</td><td>83</td><td>18902</td><td>0</td><td>156</td></tr><tr><td>638</td><td>1562281900002</td><td>8</td><td>2019-07-05 07:11:40</td><td>2019-07-05 07:13:11</td><td>91</td><td>80</td><td>18902</td><td>0</td><td>141</td></tr><tr><td>639</td><td>1562282020003</td><td>8</td><td>2019-07-05 07:13:40</td><td>2019-07-05 07:15:10</td><td>90</td><td>80</td><td>18902</td><td>0</td><td>167</td></tr><tr><td>640</td><td>1562282140003</td><td>8</td><td>2019-07-05 07:15:40</td><td>2019-07-05 07:17:13</td><td>93</td><td>81</td><td>18902</td><td>0</td><td>189</td></tr><tr><td>641</td><td>1562282260003</td><td>8</td><td>2019-07-05 07:17:40</td><td>2019-07-05 07:19:12</td><td>92</td><td>80</td><td>18902</td><td>0</td><td>183</td></tr><tr><td>642</td><td>1562282380003</td><td>8</td><td>2019-07-05 07:19:40</td><td>2019-07-05 07:21:15</td><td>95</td><td>84</td><td>18902</td><td>0</td><td>182</td></tr><tr><td>643</td><td>1562282500002</td><td>8</td><td>2019-07-05 07:21:40</td><td>2019-07-05 07:23:15</td><td>95</td><td>84</td><td>18902</td><td>0</td><td>198</td></tr><tr><td>644</td><td>1562282620003</td><td>8</td><td>2019-07-05 07:23:40</td><td>2019-07-05 07:25:12</td><td>92</td><td>79</td><td>18902</td><td>0</td><td>208</td></tr><tr><td>645</td><td>1562282740002</td><td>8</td><td>2019-07-05 07:25:40</td><td>2019-07-05 07:27:09</td><td>89</td><td>77</td><td>18902</td><td>0</td><td>227</td></tr><tr><td>646</td><td>1562282860003</td><td>8</td><td>2019-07-05 07:27:40</td><td>2019-07-05 07:29:15</td><td>95</td><td>81</td><td>18902</td><td>0</td><td>249</td></tr><tr><td>647</td><td>1562282980003</td><td>8</td><td>2019-07-05 07:29:40</td><td>2019-07-05 07:31:17</td><td>97</td><td>83</td><td>18902</td><td>0</td><td>273</td></tr><tr><td>648</td><td>1562283100003</td><td>8</td><td>2019-07-05 07:31:40</td><td>2019-07-05 07:33:17</td><td>97</td><td>81</td><td>18902</td><td>0</td><td>287</td></tr><tr><td>649</td><td>1562283220002</td><td>8</td><td>2019-07-05 07:33:40</td><td>2019-07-05 07:35:14</td><td>94</td><td>77</td><td>18902</td><td>0</td><td>297</td></tr><tr><td>650</td><td>1562283340003</td><td>8</td><td>2019-07-05 07:35:40</td><td>2019-07-05 07:37:17</td><td>97</td><td>80</td><td>18902</td><td>0</td><td>311</td></tr><tr><td>651</td><td>1562283460002</td><td>8</td><td>2019-07-05 07:37:40</td><td>2019-07-05 07:39:22</td><td>102</td><td>84</td><td>18902</td><td>0</td><td>329</td></tr><tr><td>652</td><td>1562283580003</td><td>8</td><td>2019-07-05 07:39:40</td><td>2019-07-05 07:41:16</td><td>96</td><td>79</td><td>18902</td><td>0</td><td>319</td></tr><tr><td>653</td><td>1562283700002</td><td>8</td><td>2019-07-05 07:41:40</td><td>2019-07-05 07:43:17</td><td>97</td><td>80</td><td>18902</td><td>0</td><td>306</td></tr><tr><td>654</td><td>1562283820003</td><td>8</td><td>2019-07-05 07:43:40</td><td>2019-07-05 07:45:19</td><td>99</td><td>81</td><td>18902</td><td>0</td><td>348</td></tr><tr><td>655</td><td>1562283940002</td><td>8</td><td>2019-07-05 07:45:40</td><td>2019-07-05 07:47:19</td><td>99</td><td>80</td><td>18902</td><td>0</td><td>359</td></tr><tr><td>656</td><td>1562284060003</td><td>8</td><td>2019-07-05 07:47:40</td><td>2019-07-05 07:49:16</td><td>96</td><td>78</td><td>18902</td><td>0</td><td>363</td></tr><tr><td>657</td><td>1562284180002</td><td>8</td><td>2019-07-05 07:49:40</td><td>2019-07-05 07:51:17</td><td>97</td><td>79</td><td>18902</td><td>0</td><td>380</td></tr><tr><td>658</td><td>1562284300002</td><td>8</td><td>2019-07-05 07:51:40</td><td>2019-07-05 07:53:22</td><td>102</td><td>82</td><td>18902</td><td>0</td><td>381</td></tr><tr><td>659</td><td>1562284420003</td><td>8</td><td>2019-07-05 07:53:40</td><td>2019-07-05 07:55:20</td><td>100</td><td>80</td><td>18902</td><td>0</td><td>400</td></tr><tr><td>660</td><td>1562284540002</td><td>8</td><td>2019-07-05 07:55:40</td><td>2019-07-05 07:57:15</td><td>95</td><td>77</td><td>18902</td><td>0</td><td>383</td></tr><tr><td>661</td><td>1562284660002</td><td>8</td><td>2019-07-05 07:57:40</td><td>2019-07-05 07:59:19</td><td>99</td><td>80</td><td>18902</td><td>0</td><td>396</td></tr><tr><td>662</td><td>1562284780003</td><td>8</td><td>2019-07-05 07:59:40</td><td>2019-07-05 08:01:25</td><td>105</td><td>86</td><td>18902</td><td>0</td><td>378</td></tr><tr><td>663</td><td>1562284900002</td><td>8</td><td>2019-07-05 08:01:40</td><td>2019-07-05 08:03:23</td><td>103</td><td>82</td><td>18902</td><td>0</td><td>390</td></tr><tr><td>664</td><td>1562285020002</td><td>8</td><td>2019-07-05 08:03:40</td><td>2019-07-05 08:05:23</td><td>103</td><td>82</td><td>18902</td><td>0</td><td>385</td></tr><tr><td>665</td><td>1562285140002</td><td>8</td><td>2019-07-05 08:05:40</td><td>2019-07-05 08:07:22</td><td>102</td><td>82</td><td>18902</td><td>0</td><td>395</td></tr><tr><td>666</td><td>1562285260003</td><td>8</td><td>2019-07-05 08:07:40</td><td>2019-07-05 08:09:20</td><td>100</td><td>78</td><td>18902</td><td>0</td><td>415</td></tr><tr><td>667</td><td>1562285380002</td><td>8</td><td>2019-07-05 08:09:40</td><td>2019-07-05 08:11:21</td><td>101</td><td>80</td><td>18902</td><td>0</td><td>411</td></tr><tr><td>668</td><td>1562285500002</td><td>8</td><td>2019-07-05 08:11:40</td><td>2019-07-05 08:13:24</td><td>104</td><td>84</td><td>18902</td><td>0</td><td>398</td></tr><tr><td>669</td><td>1562285620003</td><td>8</td><td>2019-07-05 08:13:40</td><td>2019-07-05 08:15:24</td><td>104</td><td>83</td><td>18902</td><td>0</td><td>390</td></tr><tr><td>670</td><td>1562285740002</td><td>8</td><td>2019-07-05 08:15:40</td><td>2019-07-05 08:17:24</td><td>104</td><td>82</td><td>18901</td><td>1</td><td>396</td></tr><tr><td>671</td><td>1562285860003</td><td>8</td><td>2019-07-05 08:17:40</td><td>2019-07-05 08:19:25</td><td>105</td><td>82</td><td>18902</td><td>0</td><td>393</td></tr><tr><td>672</td><td>1562285980002</td><td>8</td><td>2019-07-05 08:19:40</td><td>2019-07-05 08:21:23</td><td>103</td><td>78</td><td>18902</td><td>0</td><td>440</td></tr><tr><td>673</td><td>1562286100002</td><td>8</td><td>2019-07-05 08:21:40</td><td>2019-07-05 08:23:29</td><td>109</td><td>87</td><td>18902</td><td>0</td><td>426</td></tr><tr><td>674</td><td>1562286220002</td><td>8</td><td>2019-07-05 08:23:40</td><td>2019-07-05 08:25:29</td><td>109</td><td>87</td><td>18902</td><td>0</td><td>425</td></tr><tr><td>675</td><td>1562286340002</td><td>8</td><td>2019-07-05 08:25:40</td><td>2019-07-05 08:27:28</td><td>108</td><td>87</td><td>18902</td><td>0</td><td>419</td></tr><tr><td>676</td><td>1562286460003</td><td>8</td><td>2019-07-05 08:27:40</td><td>2019-07-05 08:29:27</td><td>107</td><td>83</td><td>18902</td><td>0</td><td>412</td></tr><tr><td>677</td><td>1562286580003</td><td>8</td><td>2019-07-05 08:29:40</td><td>2019-07-05 08:31:22</td><td>102</td><td>81</td><td>18902</td><td>0</td><td>410</td></tr><tr><td>678</td><td>1562286700003</td><td>8</td><td>2019-07-05 08:31:40</td><td>2019-07-05 08:33:20</td><td>100</td><td>79</td><td>18902</td><td>0</td><td>406</td></tr><tr><td>679</td><td>1562286820003</td><td>8</td><td>2019-07-05 08:33:40</td><td>2019-07-05 08:35:34</td><td>114</td><td>90</td><td>18900</td><td>2</td><td>410</td></tr><tr><td>680</td><td>1562286940003</td><td>8</td><td>2019-07-05 08:35:40</td><td>2019-07-05 08:37:24</td><td>104</td><td>82</td><td>18902</td><td>0</td><td>370</td></tr><tr><td>681</td><td>1562287060003</td><td>8</td><td>2019-07-05 08:37:40</td><td>2019-07-05 08:39:24</td><td>104</td><td>83</td><td>18902</td><td>0</td><td>369</td></tr><tr><td>682</td><td>1562287180002</td><td>8</td><td>2019-07-05 08:39:40</td><td>2019-07-05 08:41:28</td><td>108</td><td>88</td><td>18902</td><td>0</td><td>386</td></tr><tr><td>683</td><td>1562287300003</td><td>8</td><td>2019-07-05 08:41:40</td><td>2019-07-05 08:43:27</td><td>107</td><td>88</td><td>18902</td><td>0</td><td>368</td></tr><tr><td>684</td><td>1562287420002</td><td>8</td><td>2019-07-05 08:43:40</td><td>2019-07-05 08:45:25</td><td>105</td><td>86</td><td>18902</td><td>0</td><td>376</td></tr><tr><td>685</td><td>1562287540002</td><td>8</td><td>2019-07-05 08:45:40</td><td>2019-07-05 08:47:24</td><td>104</td><td>84</td><td>18902</td><td>0</td><td>379</td></tr><tr><td>686</td><td>1562287660003</td><td>8</td><td>2019-07-05 08:47:40</td><td>2019-07-05 08:49:22</td><td>102</td><td>82</td><td>18902</td><td>0</td><td>363</td></tr><tr><td>687</td><td>1562287780003</td><td>8</td><td>2019-07-05 08:49:40</td><td>2019-07-05 08:51:26</td><td>106</td><td>85</td><td>18902</td><td>0</td><td>365</td></tr><tr><td>688</td><td>1562287900003</td><td>8</td><td>2019-07-05 08:51:40</td><td>2019-07-05 08:53:23</td><td>103</td><td>84</td><td>18902</td><td>0</td><td>377</td></tr><tr><td>689</td><td>1562288020002</td><td>8</td><td>2019-07-05 08:53:40</td><td>2019-07-05 08:55:21</td><td>101</td><td>82</td><td>18902</td><td>0</td><td>367</td></tr><tr><td>690</td><td>1562288140003</td><td>8</td><td>2019-07-05 08:55:40</td><td>2019-07-05 08:57:20</td><td>100</td><td>82</td><td>18902</td><td>0</td><td>351</td></tr><tr><td>691</td><td>1562288260003</td><td>8</td><td>2019-07-05 08:57:40</td><td>2019-07-05 08:59:21</td><td>101</td><td>82</td><td>18902</td><td>0</td><td>321</td></tr><tr><td>692</td><td>1562288380003</td><td>8</td><td>2019-07-05 08:59:40</td><td>2019-07-05 09:01:18</td><td>98</td><td>81</td><td>18902</td><td>0</td><td>330</td></tr><tr><td>693</td><td>1562288500002</td><td>8</td><td>2019-07-05 09:01:40</td><td>2019-07-05 09:03:18</td><td>98</td><td>82</td><td>18902</td><td>0</td><td>309</td></tr><tr><td>694</td><td>1562288620003</td><td>8</td><td>2019-07-05 09:03:40</td><td>2019-07-05 09:05:22</td><td>102</td><td>85</td><td>18902</td><td>0</td><td>310</td></tr><tr><td>695</td><td>1562288740003</td><td>8</td><td>2019-07-05 09:05:40</td><td>2019-07-05 09:07:19</td><td>99</td><td>83</td><td>18902</td><td>0</td><td>309</td></tr><tr><td>696</td><td>1562288860002</td><td>8</td><td>2019-07-05 09:07:40</td><td>2019-07-05 09:09:19</td><td>99</td><td>81</td><td>18902</td><td>0</td><td>326</td></tr><tr><td>697</td><td>1562288980003</td><td>8</td><td>2019-07-05 09:09:40</td><td>2019-07-05 09:11:13</td><td>93</td><td>77</td><td>18902</td><td>0</td><td>312</td></tr><tr><td>698</td><td>1562289100002</td><td>8</td><td>2019-07-05 09:11:40</td><td>2019-07-05 09:13:13</td><td>93</td><td>78</td><td>18902</td><td>0</td><td>299</td></tr><tr><td>699</td><td>1562289220003</td><td>8</td><td>2019-07-05 09:13:40</td><td>2019-07-05 09:15:20</td><td>100</td><td>84</td><td>18902</td><td>0</td><td>298</td></tr><tr><td>700</td><td>1562289340003</td><td>8</td><td>2019-07-05 09:15:40</td><td>2019-07-05 09:17:44</td><td>124</td><td>107</td><td>18900</td><td>2</td><td>262</td></tr><tr><td>701</td><td>1562289480003</td><td>8</td><td>2019-07-05 09:18:00</td><td>2019-07-05 09:21:22</td><td>202</td><td>172</td><td>18900</td><td>2</td><td>311</td></tr><tr><td>702</td><td>1562289700003</td><td>8</td><td>2019-07-05 09:21:40</td><td>2019-07-05 09:23:38</td><td>118</td><td>102</td><td>18902</td><td>0</td><td>321</td></tr><tr><td>703</td><td>1562289820003</td><td>8</td><td>2019-07-05 09:23:40</td><td>2019-07-05 09:26:13</td><td>153</td><td>124</td><td>18900</td><td>2</td><td>326</td></tr><tr><td>704</td><td>1562290000003</td><td>8</td><td>2019-07-05 09:26:40</td><td>2019-07-05 09:29:12</td><td>152</td><td>129</td><td>18902</td><td>0</td><td>333</td></tr><tr><td>705</td><td>1562290180003</td><td>8</td><td>2019-07-05 09:29:40</td><td>2019-07-05 09:32:59</td><td>199</td><td>178</td><td>18900</td><td>2</td><td>322</td></tr><tr><td>706</td><td>1562290380003</td><td>8</td><td>2019-07-05 09:33:00</td><td>2019-07-05 09:36:27</td><td>207</td><td>162</td><td>18897</td><td>5</td><td>315</td></tr><tr><td>707</td><td>1562290600003</td><td>8</td><td>2019-07-05 09:36:40</td><td>2019-07-05 09:41:17</td><td>277</td><td>238</td><td>18896</td><td>6</td><td>306</td></tr><tr><td>708</td><td>1562290900002</td><td>8</td><td>2019-07-05 09:41:40</td><td>2019-07-05 09:45:31</td><td>231</td><td>201</td><td>18899</td><td>3</td><td>336</td></tr><tr><td>709</td><td>1562291140003</td><td>8</td><td>2019-07-05 09:45:40</td><td>2019-07-05 09:47:49</td><td>129</td><td>111</td><td>18902</td><td>0</td><td>341</td></tr><tr><td>710</td><td>1562291280002</td><td>8</td><td>2019-07-05 09:48:00</td><td>2019-07-05 09:49:40</td><td>100</td><td>83</td><td>18902</td><td>0</td><td>325</td></tr><tr><td>711</td><td>1562291400002</td><td>8</td><td>2019-07-05 09:50:00</td><td>2019-07-05 09:51:38</td><td>98</td><td>81</td><td>18902</td><td>0</td><td>314</td></tr><tr><td>712</td><td>1562291500002</td><td>8</td><td>2019-07-05 09:51:40</td><td>2019-07-05 09:53:19</td><td>99</td><td>83</td><td>18902</td><td>0</td><td>297</td></tr><tr><td>713</td><td>1562291620002</td><td>8</td><td>2019-07-05 09:53:40</td><td>2019-07-05 09:55:22</td><td>102</td><td>85</td><td>18902</td><td>0</td><td>317</td></tr><tr><td>714</td><td>1562291740003</td><td>8</td><td>2019-07-05 09:55:40</td><td>2019-07-05 09:57:26</td><td>106</td><td>89</td><td>18901</td><td>1</td><td>293</td></tr><tr><td>715</td><td>1562291860003</td><td>8</td><td>2019-07-05 09:57:40</td><td>2019-07-05 09:59:27</td><td>107</td><td>91</td><td>18902</td><td>0</td><td>313</td></tr><tr><td>716</td><td>1562291980002</td><td>8</td><td>2019-07-05 09:59:40</td><td>2019-07-05 10:01:25</td><td>105</td><td>88</td><td>18902</td><td>0</td><td>319</td></tr><tr><td>717</td><td>1562292100003</td><td>8</td><td>2019-07-05 10:01:40</td><td>2019-07-05 10:03:22</td><td>102</td><td>84</td><td>18901</td><td>1</td><td>297</td></tr><tr><td>718</td><td>1562292220002</td><td>8</td><td>2019-07-05 10:03:40</td><td>2019-07-05 10:05:25</td><td>105</td><td>87</td><td>18900</td><td>2</td><td>290</td></tr><tr><td>719</td><td>1562292340002</td><td>8</td><td>2019-07-05 10:05:40</td><td>2019-07-05 10:07:16</td><td>96</td><td>81</td><td>18902</td><td>0</td><td>292</td></tr><tr><td>720</td><td>1562292460002</td><td>8</td><td>2019-07-05 10:07:40</td><td>2019-07-05 10:09:23</td><td>103</td><td>88</td><td>18902</td><td>0</td><td>270</td></tr><tr><td>721</td><td>1562292580003</td><td>8</td><td>2019-07-05 10:09:40</td><td>2019-07-05 10:11:29</td><td>109</td><td>93</td><td>18902</td><td>0</td><td>288</td></tr><tr><td>722</td><td>1562292700003</td><td>8</td><td>2019-07-05 10:11:40</td><td>2019-07-05 10:13:24</td><td>104</td><td>87</td><td>18901</td><td>1</td><td>289</td></tr><tr><td>723</td><td>1562292820003</td><td>8</td><td>2019-07-05 10:13:40</td><td>2019-07-05 10:15:32</td><td>112</td><td>94</td><td>18899</td><td>3</td><td>299</td></tr><tr><td>724</td><td>1562292940002</td><td>8</td><td>2019-07-05 10:15:40</td><td>2019-07-05 10:17:16</td><td>96</td><td>79</td><td>18902</td><td>0</td><td>287</td></tr><tr><td>725</td><td>1562293060002</td><td>8</td><td>2019-07-05 10:17:40</td><td>2019-07-05 10:19:17</td><td>97</td><td>82</td><td>18902</td><td>0</td><td>301</td></tr><tr><td>726</td><td>1562293180002</td><td>8</td><td>2019-07-05 10:19:40</td><td>2019-07-05 10:21:48</td><td>128</td><td>101</td><td>18901</td><td>1</td><td>283</td></tr><tr><td>727</td><td>1562293320002</td><td>8</td><td>2019-07-05 10:22:00</td><td>2019-07-05 10:23:46</td><td>106</td><td>90</td><td>18902</td><td>0</td><td>314</td></tr><tr><td>728</td><td>1562293440003</td><td>8</td><td>2019-07-05 10:24:00</td><td>2019-07-05 10:25:43</td><td>103</td><td>87</td><td>18902</td><td>0</td><td>299</td></tr><tr><td>729</td><td>1562293560003</td><td>8</td><td>2019-07-05 10:26:00</td><td>2019-07-05 10:27:38</td><td>98</td><td>82</td><td>18902</td><td>0</td><td>301</td></tr><tr><td>730</td><td>1562293660003</td><td>8</td><td>2019-07-05 10:27:40</td><td>2019-07-05 10:29:24</td><td>104</td><td>87</td><td>18902</td><td>0</td><td>295</td></tr><tr><td>731</td><td>1562293780002</td><td>8</td><td>2019-07-05 10:29:40</td><td>2019-07-05 10:31:21</td><td>101</td><td>85</td><td>18902</td><td>0</td><td>269</td></tr><tr><td>732</td><td>1562293900003</td><td>8</td><td>2019-07-05 10:31:40</td><td>2019-07-05 10:33:21</td><td>101</td><td>87</td><td>18902</td><td>0</td><td>266</td></tr><tr><td>733</td><td>1562294020002</td><td>8</td><td>2019-07-05 10:33:40</td><td>2019-07-05 10:35:17</td><td>97</td><td>81</td><td>18902</td><td>0</td><td>267</td></tr><tr><td>734</td><td>1562294140002</td><td>8</td><td>2019-07-05 10:35:40</td><td>2019-07-05 10:37:15</td><td>95</td><td>82</td><td>18902</td><td>0</td><td>254</td></tr><tr><td>735</td><td>1562294260002</td><td>8</td><td>2019-07-05 10:37:40</td><td>2019-07-05 10:39:20</td><td>100</td><td>87</td><td>18902</td><td>0</td><td>235</td></tr><tr><td>736</td><td>1562294380003</td><td>8</td><td>2019-07-05 10:39:40</td><td>2019-07-05 10:41:18</td><td>98</td><td>82</td><td>18902</td><td>0</td><td>252</td></tr><tr><td>737</td><td>1562294500003</td><td>8</td><td>2019-07-05 10:41:40</td><td>2019-07-05 10:43:23</td><td>103</td><td>87</td><td>18902</td><td>0</td><td>265</td></tr><tr><td>738</td><td>1562294620002</td><td>8</td><td>2019-07-05 10:43:40</td><td>2019-07-05 10:45:30</td><td>110</td><td>94</td><td>18902</td><td>0</td><td>274</td></tr><tr><td>739</td><td>1562294740002</td><td>8</td><td>2019-07-05 10:45:40</td><td>2019-07-05 10:47:23</td><td>103</td><td>87</td><td>18902</td><td>0</td><td>260</td></tr><tr><td>740</td><td>1562294860003</td><td>8</td><td>2019-07-05 10:47:40</td><td>2019-07-05 10:49:22</td><td>102</td><td>85</td><td>18902</td><td>0</td><td>271</td></tr><tr><td>741</td><td>1562294980002</td><td>8</td><td>2019-07-05 10:49:40</td><td>2019-07-05 10:51:25</td><td>105</td><td>90</td><td>18902</td><td>0</td><td>268</td></tr><tr><td>742</td><td>1562295100002</td><td>8</td><td>2019-07-05 10:51:40</td><td>2019-07-05 10:53:23</td><td>103</td><td>88</td><td>18902</td><td>0</td><td>286</td></tr><tr><td>743</td><td>1562295220003</td><td>8</td><td>2019-07-05 10:53:40</td><td>2019-07-05 10:55:25</td><td>105</td><td>88</td><td>18902</td><td>0</td><td>258</td></tr><tr><td>744</td><td>1562295340003</td><td>8</td><td>2019-07-05 10:55:40</td><td>2019-07-05 10:57:54</td><td>134</td><td>117</td><td>18901</td><td>1</td><td>252</td></tr><tr><td>745</td><td>1562295480002</td><td>8</td><td>2019-07-05 10:58:00</td><td>2019-07-05 10:59:55</td><td>115</td><td>98</td><td>18902</td><td>0</td><td>266</td></tr><tr><td>746</td><td>1562295600002</td><td>8</td><td>2019-07-05 11:00:00</td><td>2019-07-05 11:01:44</td><td>104</td><td>87</td><td>18902</td><td>0</td><td>265</td></tr><tr><td>747</td><td>1562295720002</td><td>8</td><td>2019-07-05 11:02:00</td><td>2019-07-05 11:03:49</td><td>109</td><td>94</td><td>18902</td><td>0</td><td>267</td></tr><tr><td>748</td><td>1562295840003</td><td>8</td><td>2019-07-05 11:04:00</td><td>2019-07-05 11:05:45</td><td>105</td><td>86</td><td>18901</td><td>1</td><td>267</td></tr><tr><td>749</td><td>1562295960002</td><td>8</td><td>2019-07-05 11:06:00</td><td>2019-07-05 11:07:46</td><td>106</td><td>91</td><td>18902</td><td>0</td><td>251</td></tr><tr><td>750</td><td>1562296080002</td><td>8</td><td>2019-07-05 11:08:00</td><td>2019-07-05 11:09:41</td><td>101</td><td>85</td><td>18901</td><td>1</td><td>250</td></tr><tr><td>751</td><td>1562296200002</td><td>8</td><td>2019-07-05 11:10:00</td><td>2019-07-05 11:11:48</td><td>108</td><td>91</td><td>18901</td><td>1</td><td>264</td></tr><tr><td>752</td><td>1562296320003</td><td>8</td><td>2019-07-05 11:12:00</td><td>2019-07-05 11:13:41</td><td>101</td><td>86</td><td>18902</td><td>0</td><td>270</td></tr><tr><td>753</td><td>1562296440003</td><td>8</td><td>2019-07-05 11:14:00</td><td>2019-07-05 11:15:45</td><td>105</td><td>90</td><td>18902</td><td>0</td><td>272</td></tr><tr><td>754</td><td>1562296560003</td><td>8</td><td>2019-07-05 11:16:00</td><td>2019-07-05 11:17:42</td><td>102</td><td>88</td><td>18901</td><td>1</td><td>273</td></tr><tr><td>755</td><td>1562296680003</td><td>8</td><td>2019-07-05 11:18:00</td><td>2019-07-05 11:19:40</td><td>100</td><td>86</td><td>18902</td><td>0</td><td>279</td></tr><tr><td>756</td><td>1562296800002</td><td>8</td><td>2019-07-05 11:20:00</td><td>2019-07-05 11:21:44</td><td>104</td><td>91</td><td>18902</td><td>0</td><td>252</td></tr><tr><td>757</td><td>1562296920002</td><td>8</td><td>2019-07-05 11:22:00</td><td>2019-07-05 11:23:50</td><td>110</td><td>95</td><td>18902</td><td>0</td><td>265</td></tr><tr><td>758</td><td>1562297040003</td><td>8</td><td>2019-07-05 11:24:00</td><td>2019-07-05 11:25:40</td><td>100</td><td>86</td><td>18902</td><td>0</td><td>257</td></tr><tr><td>759</td><td>1562297160003</td><td>8</td><td>2019-07-05 11:26:00</td><td>2019-07-05 11:27:41</td><td>101</td><td>87</td><td>18902</td><td>0</td><td>265</td></tr><tr><td>760</td><td>1562297280002</td><td>8</td><td>2019-07-05 11:28:00</td><td>2019-07-05 11:29:47</td><td>107</td><td>93</td><td>18902</td><td>0</td><td>260</td></tr><tr><td>761</td><td>1562297400002</td><td>8</td><td>2019-07-05 11:30:00</td><td>2019-07-05 11:31:45</td><td>105</td><td>92</td><td>18902</td><td>0</td><td>235</td></tr><tr><td>762</td><td>1562297520002</td><td>8</td><td>2019-07-05 11:32:00</td><td>2019-07-05 11:33:38</td><td>98</td><td>87</td><td>18902</td><td>0</td><td>197</td></tr><tr><td>763</td><td>1562297620002</td><td>8</td><td>2019-07-05 11:33:40</td><td>2019-07-05 11:35:26</td><td>106</td><td>94</td><td>18902</td><td>0</td><td>209</td></tr><tr><td>764</td><td>1562297740002</td><td>8</td><td>2019-07-05 11:35:40</td><td>2019-07-05 11:37:21</td><td>101</td><td>88</td><td>18902</td><td>0</td><td>212</td></tr><tr><td>765</td><td>1562297860003</td><td>8</td><td>2019-07-05 11:37:40</td><td>2019-07-05 11:39:19</td><td>99</td><td>84</td><td>18902</td><td>0</td><td>224</td></tr><tr><td>766</td><td>1562297980003</td><td>8</td><td>2019-07-05 11:39:40</td><td>2019-07-05 11:41:13</td><td>93</td><td>80</td><td>18902</td><td>0</td><td>220</td></tr><tr><td>767</td><td>1562298100002</td><td>8</td><td>2019-07-05 11:41:40</td><td>2019-07-05 11:43:37</td><td>117</td><td>102</td><td>18901</td><td>1</td><td>215</td></tr><tr><td>768</td><td>1562298220003</td><td>8</td><td>2019-07-05 11:43:40</td><td>2019-07-05 11:45:27</td><td>107</td><td>95</td><td>18902</td><td>0</td><td>217</td></tr><tr><td>769</td><td>1562298340003</td><td>8</td><td>2019-07-05 11:45:40</td><td>2019-07-05 11:47:31</td><td>111</td><td>98</td><td>18902</td><td>0</td><td>209</td></tr><tr><td>770</td><td>1562298460002</td><td>8</td><td>2019-07-05 11:47:40</td><td>2019-07-05 11:49:21</td><td>101</td><td>89</td><td>18902</td><td>0</td><td>221</td></tr><tr><td>771</td><td>1562298580002</td><td>8</td><td>2019-07-05 11:49:40</td><td>2019-07-05 11:51:18</td><td>97</td><td>85</td><td>18902</td><td>0</td><td>231</td></tr><tr><td>772</td><td>1562298700002</td><td>8</td><td>2019-07-05 11:51:40</td><td>2019-07-05 11:53:23</td><td>103</td><td>92</td><td>18902</td><td>0</td><td>232</td></tr><tr><td>773</td><td>1562298820002</td><td>8</td><td>2019-07-05 11:53:40</td><td>2019-07-05 11:55:20</td><td>100</td><td>89</td><td>18902</td><td>0</td><td>220</td></tr><tr><td>774</td><td>1562298940003</td><td>8</td><td>2019-07-05 11:55:40</td><td>2019-07-05 11:57:24</td><td>104</td><td>90</td><td>18900</td><td>2</td><td>225</td></tr><tr><td>775</td><td>1562299060002</td><td>8</td><td>2019-07-05 11:57:40</td><td>2019-07-05 11:59:57</td><td>137</td><td>121</td><td>18899</td><td>3</td><td>233</td></tr><tr><td>776</td><td>1562299200005</td><td>8</td><td>2019-07-05 12:00:00</td><td>2019-07-05 12:01:41</td><td>101</td><td>85</td><td>18901</td><td>1</td><td>207</td></tr><tr><td>777</td><td>1562299320002</td><td>8</td><td>2019-07-05 12:02:00</td><td>2019-07-05 12:03:37</td><td>97</td><td>86</td><td>18902</td><td>0</td><td>203</td></tr><tr><td>778</td><td>1562299420003</td><td>8</td><td>2019-07-05 12:03:40</td><td>2019-07-05 12:05:18</td><td>98</td><td>88</td><td>18902</td><td>0</td><td>193</td></tr><tr><td>779</td><td>1562299540003</td><td>8</td><td>2019-07-05 12:05:40</td><td>2019-07-05 12:07:17</td><td>97</td><td>83</td><td>18902</td><td>0</td><td>197</td></tr><tr><td>780</td><td>1562299660003</td><td>8</td><td>2019-07-05 12:07:40</td><td>2019-07-05 12:09:10</td><td>90</td><td>77</td><td>18902</td><td>0</td><td>196</td></tr><tr><td>781</td><td>1562299780002</td><td>8</td><td>2019-07-05 12:09:40</td><td>2019-07-05 12:11:10</td><td>90</td><td>78</td><td>18902</td><td>0</td><td>211</td></tr><tr><td>782</td><td>1562299900002</td><td>8</td><td>2019-07-05 12:11:40</td><td>2019-07-05 12:13:19</td><td>99</td><td>86</td><td>18901</td><td>1</td><td>203</td></tr><tr><td>783</td><td>1562300020002</td><td>8</td><td>2019-07-05 12:13:40</td><td>2019-07-05 12:15:17</td><td>97</td><td>86</td><td>18902</td><td>0</td><td>190</td></tr><tr><td>784</td><td>1562300140002</td><td>8</td><td>2019-07-05 12:15:40</td><td>2019-07-05 12:17:18</td><td>98</td><td>87</td><td>18902</td><td>0</td><td>187</td></tr><tr><td>785</td><td>1562300260003</td><td>8</td><td>2019-07-05 12:17:40</td><td>2019-07-05 12:19:20</td><td>100</td><td>89</td><td>18902</td><td>0</td><td>183</td></tr><tr><td>786</td><td>1562300380002</td><td>8</td><td>2019-07-05 12:19:40</td><td>2019-07-05 12:21:25</td><td>105</td><td>95</td><td>18902</td><td>0</td><td>183</td></tr><tr><td>787</td><td>1562300500010</td><td>8</td><td>2019-07-05 12:21:40</td><td>2019-07-05 12:23:19</td><td>99</td><td>87</td><td>18901</td><td>1</td><td>172</td></tr><tr><td>788</td><td>1562300620004</td><td>8</td><td>2019-07-05 12:23:40</td><td>2019-07-05 12:25:13</td><td>93</td><td>82</td><td>18902</td><td>0</td><td>184</td></tr><tr><td>789</td><td>1562300740004</td><td>8</td><td>2019-07-05 12:25:40</td><td>2019-07-05 12:27:20</td><td>100</td><td>89</td><td>18902</td><td>0</td><td>190</td></tr><tr><td>790</td><td>1562300860003</td><td>8</td><td>2019-07-05 12:27:40</td><td>2019-07-05 12:29:20</td><td>100</td><td>89</td><td>18902</td><td>0</td><td>171</td></tr><tr><td>791</td><td>1562300980004</td><td>8</td><td>2019-07-05 12:29:40</td><td>2019-07-05 12:31:25</td><td>105</td><td>94</td><td>18902</td><td>0</td><td>169</td></tr><tr><td>792</td><td>1562301100003</td><td>8</td><td>2019-07-05 12:31:40</td><td>2019-07-05 12:33:19</td><td>99</td><td>88</td><td>18902</td><td>0</td><td>182</td></tr><tr><td>793</td><td>1562301220004</td><td>8</td><td>2019-07-05 12:33:40</td><td>2019-07-05 12:35:16</td><td>96</td><td>86</td><td>18902</td><td>0</td><td>172</td></tr><tr><td>794</td><td>1562301340003</td><td>8</td><td>2019-07-05 12:35:40</td><td>2019-07-05 12:37:21</td><td>101</td><td>89</td><td>18902</td><td>0</td><td>164</td></tr><tr><td>795</td><td>1562301460004</td><td>8</td><td>2019-07-05 12:37:40</td><td>2019-07-05 12:39:17</td><td>97</td><td>85</td><td>18902</td><td>0</td><td>158</td></tr><tr><td>796</td><td>1562301580003</td><td>8</td><td>2019-07-05 12:39:40</td><td>2019-07-05 12:41:25</td><td>105</td><td>93</td><td>18902</td><td>0</td><td>184</td></tr><tr><td>797</td><td>1562301700005</td><td>8</td><td>2019-07-05 12:41:40</td><td>2019-07-05 12:43:19</td><td>99</td><td>88</td><td>18902</td><td>0</td><td>173</td></tr><tr><td>798</td><td>1562301820004</td><td>8</td><td>2019-07-05 12:43:40</td><td>2019-07-05 12:45:14</td><td>94</td><td>84</td><td>18902</td><td>0</td><td>155</td></tr><tr><td>799</td><td>1562301940004</td><td>8</td><td>2019-07-05 12:45:40</td><td>2019-07-05 12:47:20</td><td>100</td><td>88</td><td>18902</td><td>0</td><td>158</td></tr><tr><td>800</td><td>1562302060004</td><td>8</td><td>2019-07-05 12:47:40</td><td>2019-07-05 12:49:18</td><td>98</td><td>88</td><td>18902</td><td>0</td><td>146</td></tr><tr><td>801</td><td>1562302180003</td><td>8</td><td>2019-07-05 12:49:40</td><td>2019-07-05 12:51:26</td><td>106</td><td>93</td><td>18902</td><td>0</td><td>165</td></tr><tr><td>802</td><td>1562302300003</td><td>8</td><td>2019-07-05 12:51:40</td><td>2019-07-05 12:53:23</td><td>103</td><td>92</td><td>18902</td><td>0</td><td>172</td></tr><tr><td>803</td><td>1562302420004</td><td>8</td><td>2019-07-05 12:53:40</td><td>2019-07-05 12:55:29</td><td>109</td><td>96</td><td>18902</td><td>0</td><td>183</td></tr><tr><td>804</td><td>1562302540005</td><td>8</td><td>2019-07-05 12:55:40</td><td>2019-07-05 12:57:26</td><td>106</td><td>95</td><td>18902</td><td>0</td><td>140</td></tr><tr><td>805</td><td>1562302660004</td><td>8</td><td>2019-07-05 12:57:40</td><td>2019-07-05 12:59:20</td><td>100</td><td>89</td><td>18902</td><td>0</td><td>143</td></tr><tr><td>806</td><td>1562302780004</td><td>8</td><td>2019-07-05 12:59:40</td><td>2019-07-05 13:01:21</td><td>101</td><td>89</td><td>18902</td><td>0</td><td>145</td></tr><tr><td>807</td><td>1562302900004</td><td>8</td><td>2019-07-05 13:01:40</td><td>2019-07-05 13:03:25</td><td>105</td><td>94</td><td>18902</td><td>0</td><td>155</td></tr><tr><td>808</td><td>1562303020005</td><td>8</td><td>2019-07-05 13:03:40</td><td>2019-07-05 13:05:18</td><td>98</td><td>86</td><td>18902</td><td>0</td><td>164</td></tr><tr><td>809</td><td>1562303140004</td><td>8</td><td>2019-07-05 13:05:40</td><td>2019-07-05 13:07:19</td><td>99</td><td>89</td><td>18902</td><td>0</td><td>176</td></tr><tr><td>810</td><td>1562303260007</td><td>8</td><td>2019-07-05 13:07:40</td><td>2019-07-05 13:09:22</td><td>102</td><td>91</td><td>18902</td><td>0</td><td>153</td></tr><tr><td>811</td><td>1562303380006</td><td>8</td><td>2019-07-05 13:09:40</td><td>2019-07-05 13:11:21</td><td>101</td><td>91</td><td>18902</td><td>0</td><td>166</td></tr><tr><td>812</td><td>1562303500005</td><td>8</td><td>2019-07-05 13:11:40</td><td>2019-07-05 13:13:18</td><td>98</td><td>85</td><td>18901</td><td>1</td><td>151</td></tr></tbody></table><h4 id="完整数据"><a href="#完整数据" class="headerlink" title="完整数据"></a>完整数据</h4><p>完整数据可通过连接数据库查看:</p><p>DBType: MariaDB<br>schemas: traffic-service-v2<br><del>host: 192.168.10.224</del><br>port: 3306<br>username: root<br>password: 123456</p><h4 id="数据分析"><a href="#数据分析" class="headerlink" title="数据分析"></a>数据分析</h4><p>通过以上数据,我们可以做个简单汇总分析:</p><ol><li>一个分析周期内网络请求所消耗的时间占用了总消耗时间的 4/5, 这里说的网络请求时间指的是请求百度瓦片所消耗的时间</li><li>一个分析周期内: 总消耗时间的平均值为: 98.7 s, 网络请求所消耗的平均时间为: 85.7 s, 服务处理所消耗的平均时间为 13 s ;至于时间为什么会呈这样的分布,下面会有详细的解释</li><li>7 月 4 日的晚高峰拥堵时间开始与 17:09 左右, 于 19:33 左右结束, 并且在 17:58 至 18:00 达到了最高峰; 在最高峰时间服务分析耗时 31 s, 处理了 613 张拥堵瓦片.同理,还可以对 7 月 5 日进行同样的分析,这里不再列举</li><li>单张瓦片平均处理时间为 : 0.06976290 s</li><li>每个分析周期都会请求 18902 次瓦片,为什么有的周期请求时间断,而有的周期请求时间长?<br>原因有 2 :<pre><code>1. 请求过程中可能会发生阻塞的情况,虽然这种情况较少,但是会拖慢单个线程的处理速度2. 每次分析的拥堵状况不同, 涉及拥堵的瓦片被填充的有效像素点的数量也不同,这就导致每次同一编号瓦片,但是大小不同,消耗的时间也就不同</code></pre></li></ol><h4 id="机器表现"><a href="#机器表现" class="headerlink" title="机器表现"></a>机器表现</h4><p>经过一周的服务性能测试,机器的表现如下</p><ol><li>CPU</li></ol><p><img src="http://image.joylau.cn/blog/ts_cpu-overview.gif" alt="CPU-OVERVIEW"></p><p>这是一个分析周期的资源占用情况, 一个分析周期指的是分析完一遍合肥市拥堵情况的动作<br>截取其中几分钟的的监控情况如下:</p><p><img src="http://image.joylau.cn/blog/ts_cpu.gif" alt="CPU"></p><p>简单解释:<br>第二张图中每个驼峰代表一次分析过程,图中 11:06 - 11:13,经过了 4 个分析周期,每个分析周期的的大致状态是前期和后期 CPU 占用率都不高,中间部分 CPU 占有率高, 约 80% 左右<br>这是因为在抓取地图瓦片的时候是按 <code>从北向南</code> , <code>从西向东</code> 的顺序来抓取的<br>很显然合肥市市内是较整个合肥市拥堵情况较重的,而市内是则位于整片区域的中心部分<br>于是就能解释为什么在一个分析周期前期和后期 CPU 占用率都不高,中间部分 CPU 占有率高的原因</p><ol start="2"><li>线程<br><img src="http://image.joylau.cn/blog/ts_thread.gif" alt="Thread"></li></ol><p>简单解释:<br>重点看 <code>ts_</code> 前缀开头的线程<br>这 8 条线代表分析服务的 8 个线程,绿色代表正在运行, 黄色代表在等待中<br>中间被隔开代表分析服务已经进行了一个周期<br>可以看出单个线程在执行一个分析周期的时候,有至少三分之一的时间是处于等待的<br>这是因为服务分析速度很快,分析完毕之后就从队列中拿出下一条任务出来分析,而在分析之前,会先进行网络请求<br>请求瓦片是 TCP 请求, 经历上一次请求关闭的四次挥手和连接建立的三次握手, 这种 IO 请求的耗时对 CPU 来说简直如隔三秋<br>( 对于一次分析周期,去除无道路信息的瓦片,有 18902 张瓦片, 这些都是几十 KB 到几百 KB 大小不等的图片, 需要进行 18902 次 IO 请求,其开销必然不小 )<br>但是 CPU 不会闲着,他会去处理其他线程的请求<br>这样的分析也能够解释了上述表格中 <code>总耗时</code> 和 <code>网络请求耗时</code> 之间的关系  </p><p>线程中甚至还会出现这样的情况  </p><p><img src="http://image.joylau.cn/blog/ts_thread_waiting.png" alt="Thread Waiting"></p><p>这种情况会拖慢单个线程的执行效率<br>这种情况是因为在请求百度瓦片的时候某一张耗时过长被阻塞了,导致线程一直在等待,直到等待时间大于等于连接超时时间或者数据传输超时时间,该线程会被主动释放,后面又恢复正常运行<br>不过这种情况出现的次数比较少,主要看网络的稳定性,有出现的情况都在日志里记录下来了,即上述表格中的出错数</p><ol start="3"><li>内存<br><img src="http://image.joylau.cn/blog/ts_memory.gif" alt="Memory"></li></ol><p>对于服务器内存来说, 24G 内存还是比较吃紧的<br>其中最消耗服务器内存是核心分析服务, 为 java 服务<br>java 12 初始化堆大小和最大堆大小均没有配置,为缺省值<br>这时最大堆大小 Xmx 为物理内存的 1/4 , 即 6 GB</p><p>通过上面的图可以得出:<br>核心分析服务达到峰值时, 以达到最大内存 6G, 后来内存占用又会减少,很有可能是 6G 内存不够使用,已触发 GC, 导致内存释放<br>结合整个机器内存占用普遍在 80% 以上, 更能说明这一点</p><ol start="4"><li>磁盘<br><img src="http://image.joylau.cn/blog/ts_disk.gif" alt="Disk"></li></ol><p>磁盘的 IO 情况其实并没有太大变动,只是在分析的高峰会有写入和读取</p><ol start="5"><li>网络<br><img src="http://image.joylau.cn/blog/ts_networks.gif" alt="Networks"></li></ol><p>8 线程并发请求, 外网下载速度平稳在 350 kb/s 左右, 对网络带宽大小要求不高,但要求网络稳定,无抖动,无丢包</p><h4 id="性能优化"><a href="#性能优化" class="headerlink" title="性能优化"></a>性能优化</h4><p>经过上面的分析,我认为可以从下面几个点再继续优化:</p><ol><li>提示机器内存: 显然测试机器的内存有点吃紧, 至少 64 G 为合适</li><li>CPU 的频率不需要太高,可选择核数多 CPU, 因为整个耗时最长的是网络请求时间, 而这种 IO 并不消耗 CPU 时间,可将线程数调节至 CPU 逻辑核心数的 3 倍到 5 倍. 推荐 IntelXeon E5 系列 CPU</li><li>提供更稳定的网络</li><li>既然请求百度的瓦片耗时高,那么先缓存一部分瓦片到本地进行分析,效率是否更高? (下面进行测试) 不过带来的坏处就是丧失了分析服务的实时性</li></ol><h4 id="本地缓存分析"><a href="#本地缓存分析" class="headerlink" title="本地缓存分析"></a>本地缓存分析</h4><p>我事先缓存了 2019年07月04日17:00:00 到 2019年07月04日18:00:00, 60 分钟内每分钟的瓦片数据, 共计 18902 * 60 = 1134120 张瓦片到本地磁盘</p><h5 id="Nginx-读取"><a href="#Nginx-读取" class="headerlink" title="Nginx  读取"></a>Nginx  读取</h5><p>将这 110w 张瓦片放到 nginx 目录下, 在进行测试<br>发现测试结果并不能够令人满意,和上面的结果几乎无差,这里就不再贴出表格数据了<br>仔细分析结果是没错的.还是同样的 TCP 请求,只不过不同的是从远端服务器变成了本地服务器</p><h5 id="本地读取瓦片"><a href="#本地读取瓦片" class="headerlink" title="本地读取瓦片"></a>本地读取瓦片</h5><p>将 TCP 请求更换为本地读取文件形式,结果分析时间令人欣慰, 这里也不贴出表格数据了,放一张日志的截图对比下</p><p><img src="http://image.joylau.cn/blog/ts_file_system.png" alt="File System"></p><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><ol><li>本分析服务对服务器的要求并不高, 要求 CPU 尽量多核心,网络稳定</li><li>开销时间主要集中在网络请求耗时, 目前较好的解决方式是先本地缓存再分析,牺牲了分析的实时性</li></ol>]]></content>
    
    <summary type="html">
    
      基于 OpenCV 的百度路况研究记录的性能测试报告
    
    </summary>
    
      <category term="OpenCV篇" scheme="http://blog.joylau.cn/categories/OpenCV%E7%AF%87/"/>
    
    
      <category term="OpenCV" scheme="http://blog.joylau.cn/tags/OpenCV/"/>
    
  </entry>
  
</feed>
